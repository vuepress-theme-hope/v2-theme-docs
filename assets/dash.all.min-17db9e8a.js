import{g as Qs}from"./commonjsHelpers-725317a4.js";function $s(yr,vi){for(var Tr=0;Tr<vi.length;Tr++){const sr=vi[Tr];if(typeof sr!="string"&&!Array.isArray(sr)){for(const xn in sr)if(xn!=="default"&&!(xn in yr)){const Sr=Object.getOwnPropertyDescriptor(sr,xn);Sr&&Object.defineProperty(yr,xn,Sr.get?Sr:{enumerable:!0,get:()=>sr[xn]})}}}return Object.freeze(Object.defineProperty(yr,Symbol.toStringTag,{value:"Module"}))}var Ei={},Js={get exports(){return Ei},set exports(yr){Ei=yr}};/*! For license information please see dash.all.min.js.LICENSE.txt */(function(yr,vi){(function(Tr,sr){yr.exports=sr()})(self,()=>(()=>{var Tr={4593:(We,Se)=>{var L,se,S,t,r,v=function(h){for(var w=[],e=0;e<h.length;++e){var d=h.charCodeAt(e);d<128?w.push(d):d<2048?(w.push(192|d>>6),w.push(128|63&d)):d<65536?(w.push(224|d>>12),w.push(128|63&d>>6),w.push(128|63&d)):(w.push(240|d>>18),w.push(128|63&d>>12),w.push(128|63&d>>6),w.push(128|63&d))}return w},g=function(h){for(var w=[],e=0;e<h.length;){var d=h[e++];d<128||(d<224?(d=(31&d)<<6,d|=63&h[e++]):d<240?(d=(15&d)<<12,d|=(63&h[e++])<<6,d|=63&h[e++]):(d=(7&d)<<18,d|=(63&h[e++])<<12,d|=(63&h[e++])<<6,d|=63&h[e++])),w.push(String.fromCharCode(d))}return w.join("")},u={};L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",se=function(h){for(var w=0,e=[],d=0|h.length/3;0<d--;){var f=(h[w]<<16)+(h[w+1]<<8)+h[w+2];w+=3,e.push(L.charAt(63&f>>18)),e.push(L.charAt(63&f>>12)),e.push(L.charAt(63&f>>6)),e.push(L.charAt(63&f))}return h.length-w==2?(f=(h[w]<<16)+(h[w+1]<<8),e.push(L.charAt(63&f>>18)),e.push(L.charAt(63&f>>12)),e.push(L.charAt(63&f>>6)),e.push("=")):h.length-w==1&&(f=h[w]<<16,e.push(L.charAt(63&f>>18)),e.push(L.charAt(63&f>>12)),e.push("==")),e.join("")},S=function(){for(var h=[],w=0;w<L.length;++w)h[L.charCodeAt(w)]=w;return h["=".charCodeAt(0)]=0,h}(),t=function(h){for(var w=0,e=[],d=0|h.length/4;0<d--;){var f=(S[h.charCodeAt(w)]<<18)+(S[h.charCodeAt(w+1)]<<12)+(S[h.charCodeAt(w+2)]<<6)+S[h.charCodeAt(w+3)];e.push(255&f>>16),e.push(255&f>>8),e.push(255&f),w+=4}return e&&(h.charAt(w-2)=="="?(e.pop(),e.pop()):h.charAt(w-1)=="="&&e.pop()),e},r={encode:function(h){for(var w=[],e=0;e<h.length;++e)w.push(h.charCodeAt(e));return w},decode:function(h){for(var w=0;w<s.length;++w)a[w]=String.fromCharCode(a[w]);return a.join("")}},u.decodeArray=function(h){var w=t(h);return new Uint8Array(w)},u.encodeASCII=function(h){var w=r.encode(h);return se(w)},u.decodeASCII=function(h){var w=t(h);return r.decode(w)},u.encode=function(h){var w=v(h);return se(w)},u.decode=function(h){var w=t(h);return g(w)},Se.decode=u.decode,Se.decodeArray=u.decodeArray,Se.encode=u.encode,Se.encodeASCII=u.encodeASCII},452:(We,Se)=>{(function(L){var se={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},S=function(P){var z=P;return se.hasOwnProperty(P)&&(z=se[P]),String.fromCharCode(z)},t=15,r=32,v={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},g={17:2,18:4,21:6,22:8,23:10,19:13,20:15},u={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},h={25:2,26:4,29:6,30:8,31:10,27:13,28:15},w=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],e={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(P){this.time=P},log:function(P,z){var V=this.verboseFilter[P];this.verboseLevel>=V&&console.log(this.time+" ["+P+"] "+z)}},d=function(P){for(var z=[],V=0;V<P.length;V++)z.push(P[V].toString(16));return z},f=function(P,z,V,he,pe){this.foreground=P||"white",this.underline=z||!1,this.italics=V||!1,this.background=he||"black",this.flash=pe||!1};f.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(P){for(var z=["foreground","underline","italics","background","flash"],V=0;V<z.length;V++){var he=z[V];P.hasOwnProperty(he)&&(this[he]=P[he])}},isDefault:function(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash},equals:function(P){return this.foreground===P.foreground&&this.underline===P.underline&&this.italics===P.italics&&this.background===P.background&&this.flash===P.flash},copy:function(P){this.foreground=P.foreground,this.underline=P.underline,this.italics=P.italics,this.background=P.background,this.flash=P.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var b=function(P,z,V,he,pe,Ke){this.uchar=P||" ",this.penState=new f(z,V,he,pe,Ke)};b.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(P,z){this.uchar=P,this.penState.copy(z)},setPenState:function(P){this.penState.copy(P)},equals:function(P){return this.uchar===P.uchar&&this.penState.equals(P.penState)},copy:function(P){this.uchar=P.uchar,this.penState.copy(P.penState)},isEmpty:function(){return this.uchar===" "&&this.penState.isDefault()}};var y=function(){this.chars=[];for(var P=0;P<r;P++)this.chars.push(new b);this.pos=0,this.currPenState=new f};y.prototype={equals:function(P){for(var z=!0,V=0;V<r;V++)if(!this.chars[V].equals(P.chars[V])){z=!1;break}return z},copy:function(P){for(var z=0;z<r;z++)this.chars[z].copy(P.chars[z])},isEmpty:function(){for(var P=!0,z=0;z<r;z++)if(!this.chars[z].isEmpty()){P=!1;break}return P},setCursor:function(P){this.pos!==P&&(this.pos=P),this.pos<0?(e.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>r&&(e.log("ERROR","Too large cursor position "+this.pos),this.pos=r)},moveCursor:function(P){var z=this.pos+P;if(P>1)for(var V=this.pos+1;V<z+1;V++)this.chars[V].setPenState(this.currPenState);this.setCursor(z)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(P){P>=144&&this.backSpace();var z=S(P);this.pos>=r?e.log("ERROR","Cannot insert "+P.toString(16)+" ("+z+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(z,this.currPenState),this.moveCursor(1))},clearFromPos:function(P){var z;for(z=P;z<r;z++)this.chars[z].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var P=[],z=!0,V=0;V<r;V++){var he=this.chars[V].uchar;he!==" "&&(z=!1),P.push(he)}return z?"":P.join("")},setPenStyles:function(P){this.currPenState.setStyles(P),this.chars[this.pos].setPenState(this.currPenState)}};var M=function(){this.rows=[];for(var P=0;P<t;P++)this.rows.push(new y);this.currRow=14,this.nrRollUpRows=null,this.reset()};M.prototype={reset:function(){for(var P=0;P<t;P++)this.rows[P].clear();this.currRow=14},equals:function(P){for(var z=!0,V=0;V<t;V++)if(!this.rows[V].equals(P.rows[V])){z=!1;break}return z},copy:function(P){for(var z=0;z<t;z++)this.rows[z].copy(P.rows[z])},isEmpty:function(){for(var P=!0,z=0;z<t;z++)if(!this.rows[z].isEmpty()){P=!1;break}return P},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(P){this.rows[this.currRow].insertChar(P)},setPen:function(P){this.rows[this.currRow].setPenStyles(P)},moveCursor:function(P){this.rows[this.currRow].moveCursor(P)},setCursor:function(P){e.log("INFO","setCursor: "+P),this.rows[this.currRow].setCursor(P)},setPAC:function(P){e.log("INFO","pacData = "+JSON.stringify(P));var z=P.row-1;this.nrRollUpRows&&z<this.nrRollUpRows-1&&(z=this.nrRollUpRows-1),this.currRow=z;var V=this.rows[this.currRow];if(P.indent!==null){var he=P.indent,pe=Math.max(he-1,0);V.setCursor(P.indent),P.color=V.chars[pe].penState.foreground}var Ke={foreground:P.color,underline:P.underline,italics:P.italics,background:"black",flash:!1};this.setPen(Ke)},setBkgData:function(P){e.log("INFO","bkgData = "+JSON.stringify(P)),this.backSpace(),this.setPen(P),this.insertChar(32)},setRollUpRows:function(P){this.nrRollUpRows=P},rollUp:function(){if(this.nrRollUpRows!==null){e.log("TEXT",this.getDisplayText());var P=this.currRow+1-this.nrRollUpRows,z=this.rows.splice(P,1)[0];z.clear(),this.rows.splice(this.currRow,0,z),e.log("INFO","Rolling up")}else e.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(P){P=P||!1;for(var z=[],V="",he=-1,pe=0;pe<t;pe++){var Ke=this.rows[pe].getTextString();Ke&&(he=pe+1,P?z.push("Row "+he+': "'+Ke+'"'):z.push(Ke.trim()))}return z.length>0&&(V=P?"["+z.join(" | ")+"]":z.join(`
`)),V},getTextAndFormat:function(){return this.rows}};var x=function(P,z){this.chNr=P,this.outputFilter=z,this.mode=null,this.verbose=0,this.displayedMemory=new M,this.nonDisplayedMemory=new M,this.lastOutputScreen=new M,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};x.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(P){this.outputFilter=P},setPAC:function(P){this.writeScreen.setPAC(P)},setBkgData:function(P){this.writeScreen.setBkgData(P)},setMode:function(P){P!==this.mode&&(this.mode=P,e.log("INFO","MODE="+P),this.mode=="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=P)},insertChars:function(P){for(var z=0;z<P.length;z++)this.writeScreen.insertChar(P[z]);var V=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";e.log("INFO",V+": "+this.writeScreen.getDisplayText(!0)),this.mode!=="MODE_PAINT-ON"&&this.mode!=="MODE_ROLL-UP"||(e.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){e.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){e.log("INFO","BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){e.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(P){e.log("INFO","RU("+P+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(P)},cc_FON:function(){e.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){e.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){e.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){e.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){e.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){e.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){e.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(e.log("INFO","EOC - End Of Caption"),this.mode==="MODE_POP-ON"){var P=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=P,this.writeScreen=this.nonDisplayedMemory,e.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(P){e.log("INFO","TO("+P+") - Tab Offset"),this.writeScreen.moveCursor(P)},cc_MIDROW:function(P){var z={flash:!1};if(z.underline=P%2==1,z.italics=P>=46,z.italics)z.foreground="white";else{var V=Math.floor(P/2)-16;z.foreground=["white","green","blue","cyan","red","yellow","magenta"][V]}e.log("INFO","MIDROW: "+JSON.stringify(z)),this.writeScreen.setPen(z)},outputDataUpdate:function(){var P=e.time;P!==null&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(P,this.displayedMemory),this.cueStartTime!==null||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,P,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:P):this.cueStartTime=P,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(P){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,P,this.displayedMemory),this.cueStartTime=P))}};var G=function(P,z,V){this.field=P||1,this.outputs=[z,V],this.channels=[new x(1,z),new x(2,V)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};G.prototype={getHandler:function(P){return this.channels[P].getHandler()},setHandler:function(P,z){this.channels[P].setHandler(z)},addData:function(P,z){var V,he,pe,Ke=!1;this.lastTime=P,e.setTime(P);for(var xe=0;xe<z.length;xe+=2)he=127&z[xe],pe=127&z[xe+1],he>=16&&he<=31&&he===this.lastCmdA&&pe===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,e.log("DEBUG","Repeated command ("+d([he,pe])+") is dropped")):he!==0||pe!==0?(e.log("DATA","["+d([z[xe],z[xe+1]])+"] -> ("+d([he,pe])+")"),(V=this.parseCmd(he,pe))||(V=this.parseMidrow(he,pe)),V||(V=this.parsePAC(he,pe)),V||(V=this.parseBackgroundAttributes(he,pe)),V||(Ke=this.parseChars(he,pe))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(Ke):e.log("WARNING","No channel found yet. TEXT-MODE?")),V?this.dataCounters.cmd+=2:Ke?this.dataCounters.char+=2:(this.dataCounters.other+=2,e.log("WARNING","Couldn't parse cleaned data "+d([he,pe])+" orig: "+d([z[xe],z[xe+1]])))):this.dataCounters.padding+=2},parseCmd:function(P,z){var V;if(!((P===20||P===21||P===28||P===29)&&32<=z&&z<=47||(P===23||P===31)&&33<=z&&z<=35))return!1;V=P===20||P===21||P===23?1:2;var he=this.channels[V-1];return P===20||P===21||P===28||P===29?z===32?he.cc_RCL():z===33?he.cc_BS():z===34?he.cc_AOF():z===35?he.cc_AON():z===36?he.cc_DER():z===37?he.cc_RU(2):z===38?he.cc_RU(3):z===39?he.cc_RU(4):z===40?he.cc_FON():z===41?he.cc_RDC():z===42?he.cc_TR():z===43?he.cc_RTD():z===44?he.cc_EDM():z===45?he.cc_CR():z===46?he.cc_ENM():z===47&&he.cc_EOC():he.cc_TO(z-32),this.lastCmdA=P,this.lastCmdB=z,this.currChNr=V,!0},parseMidrow:function(P,z){var V=null;if((P===17||P===25)&&32<=z&&z<=47){if((V=P===17?1:2)!==this.currChNr)return e.log("ERROR","Mismatch channel in midrow parsing"),!1;var he=this.channels[V-1];return he.insertChars([32]),he.cc_MIDROW(z),e.log("DEBUG","MIDROW ("+d([P,z])+")"),this.lastCmdA=P,this.lastCmdB=z,!0}return!1},parsePAC:function(P,z){var V,he;if(!((17<=P&&P<=23||25<=P&&P<=31)&&64<=z&&z<=127||(P===16||P===24)&&64<=z&&z<=95))return!1;V=P<=23?1:2,he=64<=z&&z<=95?V===1?v[P]:u[P]:V===1?g[P]:h[P];var pe=this.interpretPAC(he,z);return this.channels[V-1].setPAC(pe),this.lastCmdA=P,this.lastCmdB=z,this.currChNr=V,!0},interpretPAC:function(P,z){var V,he={color:null,italics:!1,indent:null,underline:!1,row:P};return V=z>95?z-96:z-64,he.underline=(1&V)==1,V<=13?he.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(V/2)]:V<=15?(he.italics=!0,he.color="white"):he.indent=4*Math.floor((V-16)/2),he},parseChars:function(P,z){var V=null,he=null,pe=null;if(P>=25?(V=2,pe=P-8):(V=1,pe=P),17<=pe&&pe<=19){var Ke;Ke=pe===17?z+80:pe===18?z+112:z+144,e.log("INFO","Special char '"+S(Ke)+"' in channel "+V),he=[Ke],this.lastCmdA=P,this.lastCmdB=z}else 32<=P&&P<=127&&(he=z===0?[P]:[P,z],this.lastCmdA=null,this.lastCmdB=null);if(he){var xe=d(he);e.log("DEBUG","Char codes =  "+xe.join(","))}return he},parseBackgroundAttributes:function(P,z){var V,he,pe;return((P===16||P===24)&&32<=z&&z<=47||(P===23||P===31)&&45<=z&&z<=47)&&(V={},P===16||P===24?(he=Math.floor((z-32)/2),V.background=w[he],z%2==1&&(V.background=V.background+"_semi")):z===45?V.background="transparent":(V.foreground="black",z===47&&(V.underline=!0)),pe=P<24?1:2,this.channels[pe-1].setBkgData(V),this.lastCmdA=P,this.lastCmdB=z,!0)},reset:function(){for(var P=0;P<this.channels.length;P++)this.channels[P]&&this.channels[P].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(P){for(var z=0;z<this.channels.length;z++)this.channels[z]&&this.channels[z].cueSplitAtTime(P)}},L.logger=e,L.PenState=f,L.CaptionScreen=M,L.Cea608Parser=G,L.findCea608Nalus=function(P,z,V){for(var he=0,pe=z,Ke=[],xe=function(ye,be,Ve,tt){if(ye!==4||be<8)return null;var rt=Ve.getUint8(tt),_e=Ve.getUint16(tt+1),Fe=Ve.getUint32(tt+3),$e=Ve.getUint8(tt+7);return rt==181&&_e==49&&Fe==1195456820&&$e==3};pe<z+V;){if(he=P.getUint32(pe),(31&P.getUint8(pe+4))==6)for(var ae=pe+5,pt=-1;ae<pe+4+he-1;){pt=0;for(var Te=255;Te===255;)pt+=Te=P.getUint8(ae),ae++;var qe=0;for(Te=255;Te===255;)qe+=Te=P.getUint8(ae),ae++;xe(pt,qe,P,ae)&&Ke.push([ae,qe]),ae+=qe}pe+=he+4}return Ke},L.extractCea608DataFromRange=function(P,z){var V=z[0],he=[[],[]];V+=8;var pe=31&P.getUint8(V);V+=2;for(var Ke=0;Ke<pe;Ke++){var xe=P.getUint8(V),ae=4&xe,pt=3&xe;V++;var Te=P.getUint8(V);V++;var qe=P.getUint8(V);V++,ae&&(127&Te)+(127&qe)!=0&&(pt===0?(he[0].push(Te),he[0].push(qe)):pt===1&&(he[1].push(Te),he[1].push(qe)))}return he}})(Se)},8416:(We,Se,L)=>{var se=L(3227),S=L(5448),t=L(6398),r=L(2032),v=(L(5530),typeof window<"u"&&window||L.g),g=v.dashjs;g||(g=v.dashjs={}),g.MediaPlayer=se.Z,g.FactoryMaker=S.Z,g.Debug=t.Z,g.Version=(0,r.e)()},6398:(We,Se,L)=>{L.d(Se,{Z:()=>d});var se=L(5595),S=L(8512),t=L(5448),r=1,v=2,g=3,u=4,h=5;function w(f){f=f||{};var b,y,M,x,G=this.context,P=(0,se.Z)(G).getInstance(),z=f.settings,V=[];function he(qe){return qe&&qe.bind?qe.bind(window.console):window.console.log.bind(window.console)}function pe(){for(var qe=arguments.length,ye=new Array(qe),be=0;be<qe;be++)ye[be]=arguments[be];Te.apply(void 0,[r,this].concat(ye))}function Ke(){for(var qe=arguments.length,ye=new Array(qe),be=0;be<qe;be++)ye[be]=arguments[be];Te.apply(void 0,[v,this].concat(ye))}function xe(){for(var qe=arguments.length,ye=new Array(qe),be=0;be<qe;be++)ye[be]=arguments[be];Te.apply(void 0,[g,this].concat(ye))}function ae(){for(var qe=arguments.length,ye=new Array(qe),be=0;be<qe;be++)ye[be]=arguments[be];Te.apply(void 0,[u,this].concat(ye))}function pt(){for(var qe=arguments.length,ye=new Array(qe),be=0;be<qe;be++)ye[be]=arguments[be];Te.apply(void 0,[h,this].concat(ye))}function Te(qe,ye){var be="",Ve=null;y&&(Ve=new Date().getTime(),be+="["+(Ve-x)+"]"),M&&ye&&ye.getClassName&&(be+="["+ye.getClassName()+"]",ye.getType&&(be+="["+ye.getType()+"]")),be.length>0&&(be+=" ");for(var tt=arguments.length,rt=new Array(tt>2?tt-2:0),_e=2;_e<tt;_e++)rt[_e-2]=arguments[_e];Array.apply(null,rt).forEach(function(Fe){be+=Fe+" "}),V[qe]&&z&&z.get().debug.logLevel>=qe&&V[qe](be),z&&z.get().debug.dispatchEvent&&P.trigger(S.Z.LOG,{message:be,level:qe})}return b={getLogger:function(qe){return{fatal:pe.bind(qe),error:Ke.bind(qe),warn:xe.bind(qe),info:ae.bind(qe),debug:pt.bind(qe)}},setLogTimestampVisible:function(qe){y=qe},setCalleeNameVisible:function(qe){M=qe}},y=!0,M=!0,x=new Date().getTime(),typeof window<"u"&&window.console&&(V[r]=he(window.console.error),V[v]=he(window.console.error),V[g]=he(window.console.warn),V[u]=he(window.console.info),V[h]=he(window.console.debug)),b}w.__dashjs_factory_name="Debug";var e=t.Z.getSingletonFactory(w);e.LOG_LEVEL_NONE=0,e.LOG_LEVEL_FATAL=r,e.LOG_LEVEL_ERROR=v,e.LOG_LEVEL_WARNING=g,e.LOG_LEVEL_INFO=u,e.LOG_LEVEL_DEBUG=h,t.Z.updateSingletonFactory(w.__dashjs_factory_name,e);const d=e},5595:(We,Se,L)=>{L.d(Se,{Z:()=>v});var se=L(5448),S=L(8825);function t(){var g={};function u(w,e,d){var f=-1;return g[w]&&g[w].some(function(b,y){if(b&&b.callback===e&&(!d||d===b.scope))return f=y,!0}),f}var h={on:function(w,e,d){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!w)throw new Error("event type cannot be null or undefined");if(!e||typeof e!="function")throw new Error("listener must be a function: "+e);var b=f.priority||0;if(!(u(w,e,d)>=0)){g[w]=g[w]||[];var y={callback:e,scope:d,priority:b};d&&d.getStreamId&&(y.streamId=d.getStreamId()),d&&d.getType&&(y.mediaType=d.getType()),f&&f.mode&&(y.mode=f.mode);var M=g[w].some(function(x,G){if(x&&b>x.priority)return g[w].splice(G,0,y),!0});M||g[w].push(y)}},off:function(w,e,d){if(w&&e&&g[w]){var f=u(w,e,d);f<0||(g[w][f]=null)}},trigger:function(w){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(w&&g[w]){if((e=e||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");e.type=w,d.streamId&&(e.streamId=d.streamId),d.mediaType&&(e.mediaType=d.mediaType),g[w].filter(function(f){return!(!f||d.streamId&&f.streamId&&f.streamId!==d.streamId||d.mediaType&&f.mediaType&&f.mediaType!==d.mediaType||d.mode&&f.mode&&f.mode!==d.mode||!f.mode&&d.mode&&d.mode===S.Z.EVENT_MODE_ON_RECEIVE)}).forEach(function(f){return f&&f.callback.call(f.scope,e)})}},reset:function(){g={}}};return h}t.__dashjs_factory_name="EventBus";var r=se.Z.getSingletonFactory(t);r.EVENT_PRIORITY_LOW=0,r.EVENT_PRIORITY_HIGH=5e3,se.Z.updateSingletonFactory(t.__dashjs_factory_name,r);const v=r},5448:(We,Se,L)=>{L.d(Se,{Z:()=>se});const se=function(){var S,t=[],r={},v={};function g(e,d){for(var f in t){var b=t[f];if(b.context===e&&b.name===d)return b.instance}return null}function u(e,d){return d[e]}function h(e,d,f){e in f&&(f[e]=d)}function w(e,d,f){var b,y=e.__dashjs_factory_name,M=d[y];if(M){var x=M.instance;if(!M.override)return x.apply({context:d,factory:S},f);for(var G in b=e.apply({context:d},f),x=x.apply({context:d,factory:S,parent:b},f))b.hasOwnProperty(G)&&(b[G]=x[G])}else b=e.apply({context:d},f);return b.getClassName=function(){return y},b}return S={extend:function(e,d,f,b){!b[e]&&d&&(b[e]={instance:d,override:f})},getSingletonInstance:g,setSingletonInstance:function(e,d,f){for(var b in t){var y=t[b];if(y.context===e&&y.name===d)return void(t[b].instance=f)}t.push({name:d,context:e,instance:f})},deleteSingletonInstances:function(e){t=t.filter(function(d){return d.context!==e})},getSingletonFactory:function(e){var d=u(e.__dashjs_factory_name,r);return d||(d=function(f){var b;return f===void 0&&(f={}),{getInstance:function(){return b||(b=g(f,e.__dashjs_factory_name)),b||(b=w(e,f,arguments),t.push({name:e.__dashjs_factory_name,context:f,instance:b})),b}}},r[e.__dashjs_factory_name]=d),d},getSingletonFactoryByName:function(e){return u(e,r)},updateSingletonFactory:function(e,d){h(e,d,r)},getClassFactory:function(e){var d=u(e.__dashjs_factory_name,v);return d||(d=function(f){return f===void 0&&(f={}),{create:function(){return w(e,f,arguments)}}},v[e.__dashjs_factory_name]=d),d},getClassFactoryByName:function(e){return u(e,v)},updateClassFactory:function(e,d){h(e,d,v)}},S}()},1264:(We,Se,L)=>{L.d(Se,{Z:()=>d});var se=L(5448),S=L(703),t=L(6398),r=L(3393),v=L(7855),g=L(5595),u=L(8512);function h(f){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},h(f)}function w(f,b,y){return b in f?Object.defineProperty(f,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[b]=y,f}function e(){var f,b,y=this.context,M=(0,g.Z)(y).getInstance(),x={"streaming.delay.liveDelay":u.Z.SETTING_UPDATED_LIVE_DELAY,"streaming.delay.liveDelayFragmentCount":u.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,"streaming.liveCatchup.enabled":u.Z.SETTING_UPDATED_CATCHUP_ENABLED,"streaming.liveCatchup.playbackRate.min":u.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,"streaming.liveCatchup.playbackRate.max":u.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX},G={debug:{logLevel:t.Z.LOG_LEVEL_WARNING,dispatchEvent:!1},streaming:{abandonLoadTimeout:1e4,wallclockTimeUpdateInterval:100,manifestUpdateRetryInterval:100,cacheInitSegments:!1,applyServiceDescription:!0,applyProducerReferenceTime:!0,applyContentSteering:!0,eventControllerRefreshDelay:100,enableManifestDurationMismatchFix:!0,enableManifestTimescaleMismatchFix:!1,capabilities:{filterUnsupportedEssentialProperties:!0,useMediaCapabilitiesApi:!1},timeShiftBuffer:{calcFromSegmentTimeline:!1,fallbackToSegmentTimeline:!0},metrics:{maxListDepth:100},delay:{liveDelayFragmentCount:NaN,liveDelay:NaN,useSuggestedPresentationDelay:!0},protection:{keepProtectionMediaKeys:!1,ignoreEmeEncryptedEvent:!1,detectPlayreadyMessageFormat:!0},buffer:{enableSeekDecorrelationFix:!1,fastSwitchEnabled:!0,flushBufferAtTrackSwitch:!1,reuseExistingSourceBuffers:!0,bufferPruningInterval:10,bufferToKeep:20,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,initialBufferLevel:NaN,stableBufferTime:12,longFormContentDurationThreshold:600,stallThreshold:.3,useAppendWindow:!0,setStallState:!0,avoidCurrentTimeRangePruning:!1,useChangeTypeForTrackSwitch:!0},gaps:{jumpGaps:!0,jumpLargeGaps:!0,smallGapLimit:1.5,threshold:.3,enableSeekFix:!0,enableStallFix:!1,stallSeek:.1},utcSynchronization:{enabled:!0,useManifestDateHeaderTimeSource:!0,backgroundAttempts:2,timeBetweenSyncAttempts:30,maximumTimeBetweenSyncAttempts:600,minimumTimeBetweenSyncAttempts:2,timeBetweenSyncAttemptsAdjustmentFactor:2,maximumAllowedDrift:100,enableBackgroundSyncAfterSegmentDownloadError:!0,defaultTimingSource:{scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"https://time.akamai.com/?iso&ms"}},scheduling:{defaultTimeout:500,lowLatencyTimeout:0,scheduleWhilePaused:!0},text:{defaultEnabled:!0,extendSegmentedCues:!0,webvtt:{customRenderingEnabled:!1}},liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN},playbackBufferMin:.5,enabled:null,mode:r.Z.LIVE_CATCHUP_MODE_DEFAULT},lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},trackSwitchMode:{audio:r.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE,video:r.Z.TRACK_SWITCH_MODE_NEVER_REPLACE},selectionModeForInitialTrack:r.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY,fragmentRequestTimeout:2e4,manifestRequestTimeout:1e4,retryIntervals:(f={},w(f,v.w.MPD_TYPE,500),w(f,v.w.XLINK_EXPANSION_TYPE,500),w(f,v.w.MEDIA_SEGMENT_TYPE,1e3),w(f,v.w.INIT_SEGMENT_TYPE,1e3),w(f,v.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),w(f,v.w.INDEX_SEGMENT_TYPE,1e3),w(f,v.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,1e3),w(f,v.w.LICENSE,1e3),w(f,v.w.OTHER_TYPE,1e3),w(f,"lowLatencyReductionFactor",10),f),retryAttempts:(b={},w(b,v.w.MPD_TYPE,3),w(b,v.w.XLINK_EXPANSION_TYPE,1),w(b,v.w.MEDIA_SEGMENT_TYPE,3),w(b,v.w.INIT_SEGMENT_TYPE,3),w(b,v.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),w(b,v.w.INDEX_SEGMENT_TYPE,3),w(b,v.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE,3),w(b,v.w.LICENSE,3),w(b,v.w.OTHER_TYPE,3),w(b,"lowLatencyMultiplyFactor",5),b),abr:{movingAverageMethod:r.Z.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:r.Z.ABR_STRATEGY_DYNAMIC,additionalAbrRules:{insufficientBufferRule:!0,switchHistoryRule:!0,droppedFramesRule:!0,abandonRequestsRule:!0},bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0},fetchThroughputCalculationMode:r.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING},cmcd:{enabled:!1,sid:null,cid:null,rtp:null,rtpSafetyFactor:5,mode:r.Z.CMCD_MODE_QUERY,enabledKeys:["br","d","ot","tb","bl","dl","mtp","nor","nrr","su","bs","rtp","cid","pr","sf","sid","st","v"]},cmsd:{enabled:!1,abr:{applyMb:!1,etpWeightRatio:0}}},errors:{recoverAttempts:{mediaErrorDecode:5}}},P=S.Z.clone(G);function z(V,he,pe){for(var Ke in V)V.hasOwnProperty(Ke)&&(he.hasOwnProperty(Ke)?h(V[Ke])!=="object"||V[Ke]instanceof Array||V[Ke]===null?(he[Ke]=S.Z.clone(V[Ke]),x[pe+Ke]&&M.trigger(x[pe+Ke])):z(V[Ke],he[Ke],pe.slice()+Ke+"."):console.error("Settings parameter "+pe+Ke+" is not supported"))}return{get:function(){return P},update:function(V){h(V)==="object"&&z(V,P,"")},reset:function(){P=S.Z.clone(G)}}}e.__dashjs_factory_name="Settings";const d=se.Z.getSingletonFactory(e)},703:(We,Se,L)=>{L.d(Se,{Z:()=>g});var se=L(3875),S=L.n(se),t=L(1067);function r(u){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r(u)}function v(u,h){for(var w=0;w<h.length;w++){var e=h[w];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}const g=function(){function u(){(function(e,d){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u)}var h,w;return h=u,w=[{key:"mixin",value:function(e,d,f){var b,y={};if(e)for(var M in d)d.hasOwnProperty(M)&&(b=d[M],M in e&&(e[M]===b||M in y&&y[M]===b)||(r(e[M])==="object"&&e[M]!==null?e[M]=u.mixin(e[M],b,f):e[M]=f(b)));return e}},{key:"clone",value:function(e){if(!e||r(e)!=="object")return e;var d;if(e instanceof Array){d=[];for(var f=0,b=e.length;f<b;++f)f in e&&d.push(u.clone(e[f]))}else d={};return u.mixin(d,e,u.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,d){try{if(!d||d.length===0)return e;var f=new URL(e);return d.forEach(function(b){b.key&&b.value&&f.searchParams.set(b.key,b.value)}),f.href}catch{return e}}},{key:"parseHttpHeaders",value:function(e){var d={};if(!e)return d;for(var f=e.trim().split(`\r
`),b=0,y=f.length;b<y;b++){var M=f[b],x=M.indexOf(": ");x>0&&(d[M.substring(0,x)]=M.substring(x+2))}return d}},{key:"generateUuid",value:function(){var e=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var f=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(d=="x"?f:3&f|8).toString(16)})}},{key:"generateHashCode",value:function(e){var d=0;if(e.length===0)return d;for(var f=0;f<e.length;f++)d=(d<<5)-d+e.charCodeAt(f),d|=0;return d}},{key:"getRelativeUrl",value:function(e,d){try{var f=new URL(e),b=new URL(d);if(f.protocol=b.protocol,f.origin!==b.origin)return d;var y=S().relative(f.pathname.substr(0,f.pathname.lastIndexOf("/")),b.pathname.substr(0,b.pathname.lastIndexOf("/"))),M=y.length===0?1:0;return y+=b.pathname.substr(b.pathname.lastIndexOf("/")+M,b.pathname.length-1),b.pathname.length<y.length?b.pathname:y}catch{return d}}},{key:"parseUserAgent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var d=e===null&&typeof navigator<"u"?navigator.userAgent.toLowerCase():"";return(0,t.UAParser)(d)}catch{return{}}}}],w&&v(h,w),u}()},2032:(We,Se,L)=>{function se(){return"4.6.0"}L.d(Se,{e:()=>se})},2230:(We,Se,L)=>{function se(t,r){for(var v=0;v<r.length;v++){var g=r[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(t,g.key,g)}}L.d(Se,{Z:()=>S});const S=function(){function t(){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t)}var r,v;return r=t,(v=[{key:"extend",value:function(g,u){if(g){var h=!!u&&u.override,w=!!u&&u.publicOnly;for(var e in g)!g.hasOwnProperty(e)||this[e]&&!h||w&&g[e].indexOf("public_")===-1||(this[e]=g[e])}}}])&&se(r.prototype,v),t}()},4351:(We,Se,L)=>{function se(g){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},se(g)}function S(g,u){return S=Object.setPrototypeOf||function(h,w){return h.__proto__=w,h},S(g,u)}function t(g,u){return!u||se(u)!=="object"&&typeof u!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):u}function r(g){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},r(g)}L.d(Se,{Z:()=>v});const v=function(g){(function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),f&&S(d,f)})(e,g);var u,h,w=(u=e,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var d,f=r(u);if(h){var b=r(this).constructor;d=Reflect.construct(f,arguments,b)}else d=f.apply(this,arguments);return t(this,d)});function e(){var d;return function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,e),(d=w.call(this)).ATTEMPT_BACKGROUND_SYNC="attemptBackgroundSync",d.BUFFERING_COMPLETED="bufferingCompleted",d.BUFFER_CLEARED="bufferCleared",d.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",d.BUFFER_REPLACEMENT_STARTED="bufferReplacementStarted",d.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",d.CMSD_STATIC_HEADER="cmsdStaticHeader",d.CURRENT_TRACK_CHANGED="currentTrackChanged",d.DATA_UPDATE_COMPLETED="dataUpdateCompleted",d.INBAND_EVENTS="inbandEvents",d.INITIAL_STREAM_SWITCH="initialStreamSwitch",d.INIT_FRAGMENT_LOADED="initFragmentLoaded",d.INIT_FRAGMENT_NEEDED="initFragmentNeeded",d.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",d.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",d.LOADING_COMPLETED="loadingCompleted",d.LOADING_PROGRESS="loadingProgress",d.LOADING_DATA_PROGRESS="loadingDataProgress",d.LOADING_ABANDONED="loadingAborted",d.MANIFEST_UPDATED="manifestUpdated",d.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",d.MEDIA_FRAGMENT_NEEDED="mediaFragmentNeeded",d.QUOTA_EXCEEDED="quotaExceeded",d.SEGMENT_LOCATION_BLACKLIST_ADD="segmentLocationBlacklistAdd",d.SEGMENT_LOCATION_BLACKLIST_CHANGED="segmentLocationBlacklistChanged",d.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",d.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",d.SET_FRAGMENTED_TEXT_AFTER_DISABLED="setFragmentedTextAfterDisabled",d.SET_NON_FRAGMENTED_TEXT="setNonFragmentedText",d.SOURCE_BUFFER_ERROR="sourceBufferError",d.STREAMS_COMPOSED="streamsComposed",d.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",d.STREAM_REQUESTING_COMPLETED="streamRequestingCompleted",d.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",d.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",d.UPDATE_TIME_SYNC_OFFSET="updateTimeSyncOffset",d.URL_RESOLUTION_FAILED="urlResolutionFailed",d.VIDEO_CHUNK_RECEIVED="videoChunkReceived",d.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",d.XLINK_ELEMENT_LOADED="xlinkElementLoaded",d.XLINK_READY="xlinkReady",d.SEEK_TARGET="seekTarget",d.SETTING_UPDATED_LIVE_DELAY="settingUpdatedLiveDelay",d.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT="settingUpdatedLiveDelayFragmentCount",d.SETTING_UPDATED_CATCHUP_ENABLED="settingUpdatedCatchupEnabled",d.SETTING_UPDATED_PLAYBACK_RATE_MIN="settingUpdatedPlaybackRateMin",d.SETTING_UPDATED_PLAYBACK_RATE_MAX="settingUpdatedPlaybackRateMax",d}return e}(L(8342).Z)},8512:(We,Se,L)=>{function se(u){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},se(u)}function S(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}function t(u,h){return t=Object.setPrototypeOf||function(w,e){return w.__proto__=e,w},t(u,h)}function r(u,h){return!h||se(h)!=="object"&&typeof h!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(u):h}function v(u){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},v(u)}L.d(Se,{Z:()=>g});const g=new(function(u){(function(f,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),b&&t(f,b)})(d,u);var h,w,e=(h=d,w=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,b=v(h);if(w){var y=v(this).constructor;f=Reflect.construct(b,arguments,y)}else f=b.apply(this,arguments);return r(this,f)});function d(){return S(this,d),e.apply(this,arguments)}return d}(L(4351).Z))},8342:(We,Se,L)=>{function se(t,r){for(var v=0;v<r.length;v++){var g=r[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(t,g.key,g)}}L.d(Se,{Z:()=>S});const S=function(){function t(){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t)}var r,v;return r=t,(v=[{key:"extend",value:function(g,u){if(g){var h=!!u&&u.override,w=!!u&&u.publicOnly;for(var e in g)!g.hasOwnProperty(e)||this[e]&&!h||w&&g[e].indexOf("public_")===-1||(this[e]=g[e])}}}])&&se(r.prototype,v),t}()},9326:(We,Se,L)=>{L.d(Se,{Z:()=>h});var se=L(3186),S=L(7855),t=L(5448),r=L(8825),v=L(7387),g=L(1553);function u(w){var e,d,f,b,y,M=(w=w||{}).eventBus,x=w.debug,G=w.urlUtils,P=w.type,z=w.streamInfo,V=w.segmentsController,he=w.timelineConverter,pe=w.baseURLController;function Ke(){return P}function xe(){f=null}function ae(ye,be,Ve){var tt,rt,_e=pe.resolve(Ve.path);return _e&&be!==_e.url&&G.isRelative(be)?(tt=_e.url,rt=_e.serviceLocation,be&&(tt=G.resolve(be,tt))):tt=be,!G.isRelative(tt)&&(ye.url=tt,ye.serviceLocation=rt,!0)}function pt(ye,be){if(be==null)return null;var Ve=new se.Z,tt=be.representation,rt=tt.adaptation.period.mpd.manifest.Period_asArray[tt.adaptation.period.index].AdaptationSet_asArray[tt.adaptation.index].Representation_asArray[tt.index].bandwidth,_e=be.media;return _e=(0,v.vi)(_e,"Number",be.replacementNumber),_e=(0,v.vi)(_e,"Time",be.replacementTime),_e=(0,v.vi)(_e,"Bandwidth",rt),_e=(0,v.Aj)(_e,tt.id),_e=(0,v.eR)(_e),Ve.mediaType=Ke(),Ve.type=S.w.MEDIA_SEGMENT_TYPE,Ve.range=be.mediaRange,Ve.startTime=be.presentationStartTime,Ve.mediaStartTime=be.mediaStartTime,Ve.duration=be.duration,Ve.timescale=tt.timescale,Ve.availabilityStartTime=be.availabilityStartTime,Ve.availabilityEndTime=be.availabilityEndTime,Ve.availabilityTimeComplete=tt.availabilityTimeComplete,Ve.wallStartTime=be.wallStartTime,Ve.quality=tt.index,Ve.index=be.index,Ve.mediaInfo=ye,Ve.adaptationIndex=tt.adaptation.index,Ve.representationId=tt.id,ae(Ve,_e,tt)?Ve:void 0}function Te(ye,be,Ve){var tt=null;if(!be||!be.segmentInfoType)return tt;var rt=V.getSegmentByTime(be,Ve);return rt&&(f=rt,d.debug("Index for time "+Ve+" is "+rt.index),tt=pt(ye,rt)),tt}function qe(){d.debug("Dynamic stream complete"),y=!0}return e={initialize:function(ye){b=ye,y=!1,V.initialize(ye)},getStreamId:function(){return z.id},getType:Ke,getStreamInfo:function(){return z},getInitRequest:function(ye,be){return be?function(Ve,tt,rt){var _e=new se.Z,Fe=tt.adaptation.period,$e=Fe.start;if(_e.mediaType=rt,_e.type=S.w.INIT_SEGMENT_TYPE,_e.range=tt.range,_e.availabilityStartTime=he.calcAvailabilityStartTimeFromPresentationTime($e,tt,b),_e.availabilityEndTime=he.calcAvailabilityEndTimeFromPresentationTime($e+Fe.duration,tt,b),_e.quality=tt.index,_e.mediaInfo=Ve,_e.representationId=tt.id,ae(_e,tt.initialization,tt))return _e.url=(0,v.vi)(_e.url,"Bandwidth",tt.bandwidth),_e}(ye,be,Ke()):null},getSegmentRequestForTime:Te,getCurrentIndex:function(){return f?f.index:-1},getNextSegmentRequest:function(ye,be){var Ve=null;if(!be||!be.segmentInfoType)return null;var tt=f?f.index+1:0,rt=V.getSegmentByIndex(be,tt,f?f.mediaStartTime:-1);if(rt)Ve=pt(ye,rt),f=rt;else{if(b&&!y)return d.debug(Ke()+" No segment found at index: "+tt+". Wait for next loop"),null;y=!0}return Ve},isLastSegmentRequested:function(ye,be){return!ye||!f?!1:y?!0:!isFinite(ye.adaptation.period.duration)||f.presentationStartTime+f.duration>be?!1:ye.mediaFinishedInformation&&!isNaN(ye.mediaFinishedInformation.numberOfSegments)&&!isNaN(f.index)&&f.index>=ye.mediaFinishedInformation.numberOfSegments-1&&(!b||ye.segmentInfoType===g.Z.SEGMENT_TEMPLATE||b&&ye.segmentInfoType===g.Z.SEGMENT_LIST&&ye.adaptation.period.nextPeriodId)?!0:!!(b&&ye.adaptation.period.nextPeriodId&&ye.segmentInfoType===g.Z.SEGMENT_TIMELINE&&ye.mediaFinishedInformation&&!isNaN(ye.mediaFinishedInformation.mediaTimeOfLastSignaledSegment)&&f&&!isNaN(f.mediaStartTime)&&!isNaN(f.duration)&&f.mediaStartTime+f.duration>=ye.mediaFinishedInformation.mediaTimeOfLastSignaledSegment-.05)},reset:function(){xe(),M.off(r.Z.DYNAMIC_TO_STATIC,qe,e)},getNextSegmentRequestIdempotent:function(ye,be){var Ve=f?f.index+1:0,tt=V.getSegmentByIndex(be,Ve,f?f.mediaStartTime:-1);return tt?pt(ye,tt):null},getValidTimeAheadOfTargetTime:function(ye,be,Ve,tt){try{if(isNaN(ye)||!be||!Ve)return NaN;if(ye<0&&(ye=0),isNaN(tt)&&(tt=.5),Te(be,Ve,ye))return ye;if(Ve.adaptation.period.start+Ve.adaptation.period.duration<ye)return NaN;for(var rt=isFinite(Ve.adaptation.period.duration)?Ve.adaptation.period.start+Ve.adaptation.period.duration:ye+30,_e=Math.min(ye+tt,rt),Fe=NaN,$e=null;_e<=rt;){var Re=null;if(_e<=rt&&(Re=Te(be,Ve,_e)),Re){Fe=_e,$e=Re;break}_e+=tt}if($e){var Me=$e.startTime+$e.duration;return ye>$e.startTime&&Me-ye>tt?ye:!isNaN($e.startTime)&&ye<$e.startTime&&Fe>$e.startTime?$e.startTime+.001:Math.min(Me-tt,Fe)}return Fe}catch{return NaN}}},d=x.getLogger(e),xe(),M.on(r.Z.DYNAMIC_TO_STATIC,qe,e),e}u.__dashjs_factory_name="DashHandler";const h=t.Z.getClassFactory(u)},1553:(We,Se,L)=>{function se(t,r){for(var v=0;v<r.length;v++){var g=r[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(t,g.key,g)}}L.d(Se,{Z:()=>S});const S=new(function(){function t(){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),this.init()}var r,v;return r=t,(v=[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.PRODUCER_REFERENCE_TIME="ProducerReferenceTime",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.REPRESENTATION_ASARRAY="Representation_asArray",this.PRODUCERREFERENCETIME_ASARRAY="ProducerReferenceTime_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.STATIC="static",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate",this.SERVICE_DESCRIPTION_OPERATING_QUALITY="OperatingQuality",this.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH="OperatingBandwidth",this.PATCH_LOCATION="PatchLocation",this.PUBLISH_TIME="publishTime",this.ORIGINAL_PUBLISH_TIME="originalPublishTime",this.ORIGINAL_MPD_ID="mpdId",this.WALL_CLOCK_TIME="wallClockTime",this.PRESENTATION_TIME="presentationTime",this.LABEL="Label",this.GROUP_LABEL="GroupLabel",this.CONTENT_STEERING="ContentSteering",this.CONTENT_STEERING_AS_ARRAY="ContentSteering_asArray",this.DEFAULT_SERVICE_LOCATION="defaultServiceLocation",this.QUERY_BEFORE_START="queryBeforeStart",this.PROXY_SERVER_URL="proxyServerURL",this.CONTENT_STEERING_RESPONSE={VERSION:"VERSION",TTL:"TTL",RELOAD_URI:"RELOAD-URI",SERVICE_LOCATION_PRIORITY:"SERVICE-LOCATION-PRIORITY"}}}])&&se(r.prototype,v),t}())},7802:(We,Se,L)=>{L.d(Se,{Z:()=>u});var se=L(5448),S=L(1724),t=L(3636),r=L(1736),v=L(5246);function g(h){h=h||{};var w,e,d=this.context,f=h.dashConstants,b=h.type,y=h.segmentBaseController;function M(x){return x?x.segments?e[f.SEGMENT_BASE]:e[x.segmentInfoType]:null}return w={initialize:function(x){e[f.SEGMENT_TIMELINE]=(0,S.Z)(d).create(h,x),e[f.SEGMENT_TEMPLATE]=(0,t.Z)(d).create(h,x),e[f.SEGMENT_LIST]=(0,r.Z)(d).create(h,x),e[f.SEGMENT_BASE]=(0,v.Z)(d).create(h,x)},updateInitData:function(x,G){return G?Promise.resolve():y.getSegmentBaseInitSegment({representation:x,mediaType:b})},updateSegmentData:function(x,G){return G?Promise.resolve():y.getSegmentList({mimeType:x.mimeType,representation:x,mediaType:b})},getSegmentByIndex:function(x,G,P){var z=M(x);return z?z.getSegmentByIndex(x,G,P):null},getSegmentByTime:function(x,G){var P=M(x);return P?P.getSegmentByTime(x,G):null},getMediaFinishedInformation:function(x){var G=M(x);return G?G.getMediaFinishedInformation(x):{numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN}}},e={},w}g.__dashjs_factory_name="SegmentsController";const u=se.Z.getClassFactory(g)},1736:(We,Se,L)=>{L.d(Se,{Z:()=>v});var se=L(5448),S=L(3393),t=L(7387);function r(g,u){var h=(g=g||{}).timelineConverter;function w(){if(!h||!h.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}function e(d,f){if(w(),!d)return null;var b=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentList,y=b.SegmentURL_asArray.length,M=d&&!isNaN(d.startNumber)?d.startNumber:1,x=Math.max(M-1,0),G=Math.max(f-x,0),P=null;if(G<y){var z=b.SegmentURL_asArray[G];(P=(0,t.NF)(h,u,d,f))&&(P.replacementTime=(M+f-1)*d.segmentDuration,P.media=z.media?z.media:"",P.mediaRange=z.mediaRange,P.indexRange=z.indexRange)}return P}return{getSegmentByIndex:e,getSegmentByTime:function(d,f){if(w(),!d)return null;var b=d.segmentDuration;if(isNaN(b))return null;var y=h.calcPeriodRelativeTimeFromMpdRelativeTime(d,f);return e(d,Math.floor(y/b))},getMediaFinishedInformation:function(d){var f={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!d)return f;var b=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentList,y=d&&!isNaN(d.startNumber)?d.startNumber:1,M=Math.max(y-1,0);return f.numberOfSegments=M+b.SegmentURL_asArray.length,f}}}r.__dashjs_factory_name="ListSegmentsGetter";const v=se.Z.getClassFactory(r)},5246:(We,Se,L)=>{L.d(Se,{Z:()=>r});var se=L(5448),S=L(3393);function t(v){var g=(v=v||{}).timelineConverter;function u(){if(!g||!g.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}function h(w,e){if(u(),!w)return null;var d,f=w.segments?w.segments.length:-1;if(e<f&&(d=w.segments[e])&&d.index===e)return d;for(var b=0;b<f;b++)if((d=w.segments[b])&&d.index===e)return d;return null}return{getSegmentByIndex:h,getSegmentByTime:function(w,e){u();var d=function(f,b){if(!f)return-1;var y,M,x,G,P,z=f.segments,V=z?z.length:null,he=-1;if(z&&V>0){for(P=0;P<V;P++)if(x=(M=z[P]).presentationStartTime,b+(y=(G=M.duration)/2)>=x&&b-y<x+G){he=M.index;break}}return he}(w,e);return h(w,d)},getMediaFinishedInformation:function(w){var e={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};return w&&w.segments&&(e.numberOfSegments=w.segments.length),e}}}t.__dashjs_factory_name="SegmentBaseGetter";const r=se.Z.getClassFactory(t)},7387:(We,Se,L)=>{L.d(Se,{Aj:()=>r,NF:()=>h,TJ:()=>w,eR:()=>t,vi:()=>v});var se=L(2011);function S(e,d){for(;e.length<d;)e="0"+e;return e}function t(e){return e&&e.split("$$").join("$")}function r(e,d){if(!d||!e||e.indexOf("$RepresentationID$")===-1)return e;var f=d.toString();return e.split("$RepresentationID$").join(f)}function v(e,d,f){var b,y,M,x,G,P,z=d.length,V=2;if(!e)return e;for(;;){if((b=e.indexOf("$"+d))<0||(y=e.indexOf("$",b+z))<0)return e;if((M=e.indexOf("%0",b+z))>b&&M<y)switch(x=e.charAt(y-1),G=parseInt(e.substring(M+V,y-1),10),x){case"d":case"i":case"u":P=S(f.toString(),G);break;case"x":P=S(f.toString(16),G);break;case"X":P=S(f.toString(16),G).toUpperCase();break;case"o":P=S(f.toString(8),G);break;default:return e}else P=f;e=e.substring(0,b)+P+e.substring(y+1)}}function g(e,d,f,b,y,M,x,G){var P,z=new se.Z;return z.representation=e,z.duration=d,z.presentationStartTime=f,z.mediaStartTime=b,z.availabilityStartTime=y.calcAvailabilityStartTimeFromPresentationTime(M,e,x),z.availabilityEndTime=y.calcAvailabilityEndTimeFromPresentationTime(M+d,e,x),z.wallStartTime=y.calcWallTimeForSegment(z,x),z.replacementNumber=(P=G,z.representation.startNumber+P),z.index=G,z}function u(e,d,f,b){var y=d.adaptation.period;if(isFinite(y.duration)&&y.start+y.duration<=f.presentationStartTime)return!1;if(b){if(d.availabilityTimeOffset==="INF")return!0;var M=e.getClientReferenceTime();return f.availabilityStartTime.getTime()<=M&&(!isFinite(f.availabilityEndTime)||f.availabilityEndTime.getTime()>=M)}return!0}function h(e,d,f,b){var y,M,x;y=f.segmentDuration,isNaN(y)&&(y=f.adaptation.period.duration),M=parseFloat((f.adaptation.period.start+b*y).toFixed(5)),x=parseFloat((M+y).toFixed(5));var G=g(f,y,M,e.calcMediaTimeFromPresentationTime(M,f),e,x,d,b);return u(e,f,G,d)?G:null}function w(e,d,f,b,y,M,x,G,P,z){var V,he,pe=b/M,Ke=y/M;return V=e.calcPresentationTimeFromMediaTime(pe,f),u(e,f,he=g(f,Ke,V,pe,e,V+Ke,d,P),d)?(he.replacementTime=z||b,x=v(x,"Number",he.replacementNumber),x=v(x,"Time",he.replacementTime),he.media=x,he.mediaRange=G,he):null}},3636:(We,Se,L)=>{L.d(Se,{Z:()=>v});var se=L(5448),S=L(3393),t=L(7387);function r(g,u){var h=(g=g||{}).timelineConverter;function w(){if(!h||!h.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(S.Z.MISSING_CONFIG_ERROR)}function e(d,f){if(w(),!d)return null;var b=d.adaptation.period.mpd.manifest.Period_asArray[d.adaptation.period.index].AdaptationSet_asArray[d.adaptation.index].Representation_asArray[d.index].SegmentTemplate;f=Math.max(f,0);var y=(0,t.NF)(h,u,d,f);if(y){y.replacementTime=Math.round((f-1)*d.segmentDuration*d.timescale,10);var M=b.media;M=(0,t.vi)(M,"Number",y.replacementNumber),M=(0,t.vi)(M,"Time",y.replacementTime),y.media=M}return y}return{getSegmentByIndex:e,getSegmentByTime:function(d,f){if(w(),!d)return null;var b=d.segmentDuration;if(isNaN(b))return null;var y=h.calcPeriodRelativeTimeFromMpdRelativeTime(d,f);return e(d,Math.floor(y/b))},getMediaFinishedInformation:function(d){var f={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN};if(!d)return f;var b=d.segmentDuration;return isNaN(b)?f.numberOfSegments=1:f.numberOfSegments=Math.ceil(d.adaptation.period.duration/b),f}}}r.__dashjs_factory_name="TemplateSegmentsGetter";const v=se.Z.getClassFactory(r)},1724:(We,Se,L)=>{L.d(Se,{Z:()=>v});var se=L(5448),S=L(3393),t=L(7387);function r(g,u){var h=(g=g||{}).timelineConverter,w=g.dashMetrics;function e(){if(!h)throw new Error(S.Z.MISSING_CONFIG_ERROR)}function d(b,y){var M,x,G,P,z,V,he,pe=b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentTemplate||b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentList,Ke=pe.SegmentTimeline,xe=pe.SegmentURL_asArray,ae=0,pt=-1;he=b.timescale;var Te=!1;for(G=0,P=(M=Ke.S_asArray).length;G<P&&!Te;G++)for(V=0,(x=M[G]).hasOwnProperty("r")&&(V=x.r),x.hasOwnProperty("t")&&(ae=x.t),V<0&&(V=f(b,M[G+1],x,he,ae/he)),z=0;z<=V&&!Te;z++)(Te=y(ae,pe,xe,x,he,++pt,G))&&(b.segmentDuration=x.d/he),ae+=x.d}function f(b,y,M,x,G){var P;if(y&&y.hasOwnProperty("t"))P=y.t/x;else try{var z=0;if(isNaN(b.adaptation.period.start)||isNaN(b.adaptation.period.duration)||!isFinite(b.adaptation.period.duration)){var V=w.getCurrentDVRInfo();z=isNaN(V.end)?0:V.end}else z=b.adaptation.period.start+b.adaptation.period.duration;P=h.calcMediaTimeFromPresentationTime(z,b),b.segmentDuration=M.d/x}catch{P=0}return Math.max(Math.ceil((P-G)/(M.d/x))-1,0)}return{getSegmentByIndex:function(b,y,M){if(e(),!b)return null;var x=null,G=!1;return d(b,function(P,z,V,he,pe,Ke,xe){if(G||M<0){var ae=z.media,pt=he.mediaRange;return V&&(ae=V[xe].media||"",pt=V[xe].mediaRange),x=(0,t.TJ)(h,u,b,P,he.d,pe,ae,pt,Ke,he.tManifest),!0}return P>=M*pe-.5*he.d&&(G=!0),!1}),x},getSegmentByTime:function(b,y){if(e(),!b)return null;y===void 0&&(y=null);var M=null,x=h.calcMediaTimeFromPresentationTime(y,b);return d(b,function(G,P,z,V,he,pe,Ke){var xe=parseFloat((x*he).toPrecision(15));if(xe<G+V.d&&xe>=G){var ae=P.media,pt=V.mediaRange;return z&&(ae=z[Ke].media||"",pt=z[Ke].mediaRange),M=(0,t.TJ)(h,u,b,G,V.d,he,ae,pt,pe,V.tManifest),!0}return!1}),M},getMediaFinishedInformation:function(b){if(!b)return 0;var y,M,x,G,P,z,V,he=(b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentTemplate||b.adaptation.period.mpd.manifest.Period_asArray[b.adaptation.period.index].AdaptationSet_asArray[b.adaptation.index].Representation_asArray[b.index].SegmentList).SegmentTimeline,pe=0,Ke=0,xe=0;for(V=b.timescale,G=(y=he.S_asArray).length,x=0;x<G;x++)for(z=0,(M=y[x]).hasOwnProperty("r")&&(z=M.r),M.hasOwnProperty("t")&&(Ke=(pe=M.t)/V),z<0&&(z=f(b,y[x+1],M,V,Ke)),P=0;P<=z;P++)xe++,Ke=(pe+=M.d)/V;return{numberOfSegments:xe,mediaTimeOfLastSignaledSegment:Ke}}}}r.__dashjs_factory_name="TimelineSegmentsGetter";const v=se.Z.getClassFactory(r)},2011:(We,Se,L)=>{L.d(Se,{Z:()=>se});const se=function S(){(function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")})(this,S),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.wallStartTime=NaN,this.representation=null}},2610:(We,Se,L)=>{L.d(Se,{Z:()=>se});const se=function S(){(function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")})(this,S),this.schemeIdUri="",this.value=""}},3227:(We,Se,L)=>{L.d(Se,{Z:()=>Ws});var se=L(452),S=L.n(se),t=L(3393),r=L(1553),v=L(3860),g=L(5595),u=L(8512),h=L(5448),w=L(6398),e=L(8825);function d(){var o,i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re,le,de,U,oe,Q,p,R,Y,k=this.context,D=(0,g.Z)(k).getInstance();function I(){H(),Z=!1,j=0,K=0,re=0,p=!1,le=!0,de=!1,R=!1,U=NaN,m&&(D.off(u.Z.DATA_UPDATE_COMPLETED,Ee,o),D.off(u.Z.LOADING_PROGRESS,ke,o),D.off(u.Z.MANIFEST_UPDATED,Be,o),D.off(u.Z.STREAMS_COMPOSED,st,o),D.off(e.Z.PLAYBACK_ENDED,cn,o),D.off(e.Z.STREAM_INITIALIZING,vt,o),D.off(e.Z.REPRESENTATION_SWITCH,Mt,o),D.off(e.Z.BUFFER_LEVEL_STATE_CHANGED,Ge,o),ve(),m.removeEventListener("canplay",Ie),m.removeEventListener("canplaythrough",Je),m.removeEventListener("play",je),m.removeEventListener("waiting",Ot),m.removeEventListener("playing",Tt),m.removeEventListener("pause",Ft),m.removeEventListener("error",ct),m.removeEventListener("seeking",Gt),m.removeEventListener("seeked",kt),m.removeEventListener("timeupdate",Yt),m.removeEventListener("progress",Qt),m.removeEventListener("ratechange",an),m.removeEventListener("loadedmetadata",en),m.removeEventListener("loadeddata",dn),m.removeEventListener("stalled",nt),m.removeEventListener("ended",ln),m.removeEventListener("volumechange",nn)),F=null,m=null,O=null,q=null}function J(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return parseFloat((W($)-Oe()).toFixed(5))}function W($){var De=$||O;return De.start+De.duration}function ne(){var $=arguments.length>0&&arguments[0]!==void 0&&arguments[0];O&&m&&m.getElement()?($&&q&&Ue(Oe()),m.play()):Z=!0}function H(){O&&m&&m.pause()}function X($){var De=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ot=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_t=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(O&&m){var Lt=isNaN(U)?m.getTime():U;$!==Lt&&((oe=ot===!0)||(U=$),i.info("Requesting seek to time: "+$+(oe?" (internal)":"")),q&&_t&&Ue($),m.setCurrentTime($,De))}}function ge(){if(O&&m&&q){var $=c&&c.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,De=T.getCurrentDVRInfo($);return De&&De.range?De.range.end:0}}function Ue($){var De=new Date(C.getClientReferenceTime()),ot=_.getRegularPeriods()[0],_t=C.calcPresentationTimeFromWallTime(De,ot);j=_t-$}function Oe(){return O&&m?m.getTime():null}function at(){return O&&m?m.isPaused():null}function Ae(){return O&&m?m.isSeeking():null}function Ne(){return O&&m?m.isStalled():null}function ht(){return O&&m?m.getPlaybackRate():null}function et(){return O&&m?m.getEnded():null}function mt(){return q}function At(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!at()&&q&&m.getReadyState()!==0&&!Ae()&&!p){$||($=c.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO);var De=Oe(),ot=Ce(De,$),_t=!isNaN(ot)&&ot!==De;_t&&!Ae()&&(Ne()||Q||m.getReadyState()===1)&&(i.debug("UpdateCurrentTime: Seek to actual time: ".concat(ot," from currentTime: ").concat(De)),X(ot,!1,!1))}}function Ce($,De){var ot=T.getCurrentDVRInfo(De),_t=ot?ot.range:null;return _t?$>_t.end?Math.max(_t.end-j,_t.start):$>0&&$+.25<_t.start&&Math.abs($-_t.start)<31536e4?de?Math.max(_t.end-j,_t.start):_t.start:$:NaN}function ee(){F===null&&(F=setInterval(function(){var $;D.trigger(u.Z.WALLCLOCK_TIME_UPDATED,{isDynamic:q,time:new Date}),mt()&&(c.addDVRMetric(),at()?($=Date.now(),(!ce||$>ce+500)&&(ce=$,Yt())):At())},Y.get().streaming.wallclockTimeUpdateInterval))}function ve(){clearInterval(F),F=null}function Ee($){var De=_.convertRepresentationToRepresentationInfo($.currentRepresentation),ot=De?De.mediaInfo.streamInfo:null;ot!==null&&O.id===ot.id&&(O=ot)}function Ie(){D.trigger(u.Z.CAN_PLAY)}function Je(){D.trigger(u.Z.CAN_PLAY_THROUGH)}function Ge($){$.streamId===c.getActiveStreamInfo().id&&(Q=$.state===v.Z.BUFFER_EMPTY,Y.get().streaming.buffer.setStallState&&m.setStallState($.mediaType,$.state===v.Z.BUFFER_EMPTY))}function je(){i.info("Native video element event: play"),At(),ee(),D.trigger(u.Z.PLAYBACK_STARTED,{startTime:Oe()})}function Ot(){i.info("Native video element event: waiting"),D.trigger(u.Z.PLAYBACK_WAITING,{playingTime:Oe()})}function Tt(){i.info("Native video element event: playing"),oe=!1,D.trigger(u.Z.PLAYBACK_PLAYING,{playingTime:Oe()})}function Ft(){i.info("Native video element event: pause"),D.trigger(u.Z.PLAYBACK_PAUSED,{ended:et()})}function Gt(){if(!oe){var $=Oe();isNaN(U)||U===$||($=U),U=NaN,i.info("Seeking to: "+$),ee(),D.trigger(u.Z.PLAYBACK_SEEKING,{seekTime:$,streamId:O.id})}}function kt(){i.info("Native video element event: seeked"),oe=!1,D.trigger(u.Z.PLAYBACK_SEEKED)}function Yt(){O&&D.trigger(u.Z.PLAYBACK_TIME_UPDATED,{timeToEnd:J(),time:Oe(),streamId:O.id})}function Qt(){D.trigger(u.Z.PLAYBACK_PROGRESS,{streamId:O.id})}function an(){var $=ht();i.info("Native video element event: ratechange: ",$),D.trigger(u.Z.PLAYBACK_RATE_CHANGED,{playbackRate:$})}function en(){i.info("Native video element event: loadedmetadata"),D.trigger(u.Z.PLAYBACK_METADATA_LOADED),ee()}function dn(){i.info("Native video element event: loadeddata"),D.trigger(u.Z.PLAYBACK_LOADED_DATA)}function ln(){i.info("Native video element event: ended"),H(),ve();var $=c?c.getActiveStreamInfo():null;$&&D.trigger(u.Z.PLAYBACK_ENDED,{isLast:$.isLast})}function nn(){D.trigger(u.Z.PLAYBACK_VOLUME_CHANGED)}function cn($){if(F&&$.isLast){i.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended");var De=$.seekTime?$.seekTime:W();m.setCurrentTime(De),H(),ve()}}function ct($){var De=$.target||$.srcElement;D.trigger(u.Z.PLAYBACK_ERROR,{error:De.error})}function ke($){if($.stream===!1&&de&&!isNaN($.request.duration)){var De=1.2*$.request.duration;De>j&&(i.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",De.toFixed(2)),j=De,K=De)}}function nt($){D.trigger(u.Z.PLAYBACK_STALLED,{e:$})}function vt($){var De;(De=$.mediaInfo)&&De.supplementalProperties&&De.supplementalProperties[t.Z.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME]==="true"&&(i.debug("Low Latency critical SupplementalProperty set: Enabling low Latency"),de=!0)}function Mt($){var De=c.getActiveStreamInfo();$&&De&&$.currentRepresentation&&$.streamId&&$.streamId===De.id&&$.mediaType&&($.mediaType===t.Z.VIDEO||$.mediaType===t.Z.AUDIO)&&(le=$.currentRepresentation.availabilityTimeComplete,(de=!le)&&!R&&(R=!0))}function Be(){p=!0}function st(){p=!1}return o={initialize:function($,De){O=$,De!==!0&&(m.addEventListener("canplay",Ie),m.addEventListener("canplaythrough",Je),m.addEventListener("play",je),m.addEventListener("waiting",Ot),m.addEventListener("playing",Tt),m.addEventListener("pause",Ft),m.addEventListener("error",ct),m.addEventListener("seeking",Gt),m.addEventListener("seeked",kt),m.addEventListener("timeupdate",Yt),m.addEventListener("progress",Qt),m.addEventListener("ratechange",an),m.addEventListener("loadedmetadata",en),m.addEventListener("loadeddata",dn),m.addEventListener("stalled",nt),m.addEventListener("ended",ln),m.addEventListener("volumechange",nn),q=O.manifestInfo.isDynamic,Q=!1,oe=!1,D.on(u.Z.DATA_UPDATE_COMPLETED,Ee,o),D.on(u.Z.LOADING_PROGRESS,ke,o),D.on(u.Z.MANIFEST_UPDATED,Be,o),D.on(u.Z.STREAMS_COMPOSED,st,o),D.on(e.Z.PLAYBACK_ENDED,cn,o,{priority:g.Z.EVENT_PRIORITY_HIGH}),D.on(e.Z.STREAM_INITIALIZING,vt,o),D.on(e.Z.REPRESENTATION_SWITCH,Mt,o),D.on(e.Z.BUFFER_LEVEL_STATE_CHANGED,Ge,o),Z&&(Z=!1,ne()))},setConfig:function($){$&&($.streamController&&(c=$.streamController),$.serviceDescriptionController&&(E=$.serviceDescriptionController),$.dashMetrics&&(T=$.dashMetrics),$.adapter&&(_=$.adapter),$.videoModel&&(m=$.videoModel),$.timelineConverter&&(C=$.timelineConverter),$.settings&&(Y=$.settings))},getTimeToStreamEnd:J,getBufferLevel:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,De=null;return c.getActiveStreamProcessors().forEach(function(ot){if(!$||$.length===0||$.indexOf(ot.getType())===-1){var _t=ot.getBufferLevel();De=De===null?_t:Math.min(De,_t)}}),De},getPlaybackStalled:function(){return Q},getTime:Oe,getLowLatencyModeEnabled:function(){return de},getInitialCatchupModeActivated:function(){return R},getIsManifestUpdateInProgress:function(){return p},getPlaybackRate:ht,getPlayedRanges:function(){return O&&m?m.getPlayedRanges():null},getEnded:et,getIsDynamic:mt,getStreamController:function(){return c},computeAndSetLiveDelay:function($,De){var ot,_t,Lt,$t=!isNaN($)&&isFinite($)?$:NaN,En=_.getSuggestedPresentationDelay(),Ln=E.getServiceDescriptionSettings();return ot=isNaN(Y.get().streaming.delay.liveDelay)?Y.get().streaming.delay.liveDelayFragmentCount===null||isNaN(Y.get().streaming.delay.liveDelayFragmentCount)||isNaN($t)?Ln&&!isNaN(Ln.liveDelay)&&Ln.liveDelay>0?Ln.liveDelay:Y.get().streaming.delay.useSuggestedPresentationDelay===!0&&En!==null&&!isNaN(En)&&En>0?En:isNaN($t)?De&&!isNaN(De.minBufferTime)?4*De.minBufferTime:4*O.manifestInfo.minBufferTime:4*$t:$t*Y.get().streaming.delay.liveDelayFragmentCount:Y.get().streaming.delay.liveDelay,(Lt=_.getAvailabilityStartTime())!==null&&(re=Lt),_t=De&&De.dvrWindowSize>0?Math.min(ot,De.dvrWindowSize):ot,j=_t,K=_t,_t},getLiveDelay:function(){return j},getOriginalLiveDelay:function(){return K},getCurrentLiveLatency:function(){if(!q||isNaN(re))return NaN;var $=Oe();if(isNaN($)||$===0)return 0;var De=new Date().getTime()+1e3*C.getClientTimeOffset();return Math.max(((De-re-1e3*$)/1e3).toFixed(3),0)},play:ne,isPaused:at,isStalled:Ne,pause:H,isSeeking:Ae,getStreamEndTime:W,seek:X,seekToOriginalLive:function(){var $=arguments.length>0&&arguments[0]!==void 0&&arguments[0],De=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ot=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_t=ge();if(_t!==0){var Lt=_t-(j=K);X(Lt,$,De,ot)}},seekToCurrentLive:function(){var $=arguments.length>0&&arguments[0]!==void 0&&arguments[0],De=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ot=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_t=ge();if(_t!==0){var Lt=_t-j;X(Lt,$,De,ot)}},reset:I,updateCurrentTime:At,getAvailabilityStartTime:function(){return re}},i=(0,w.Z)(k).getInstance().getLogger(o),I(),o}d.__dashjs_factory_name="PlaybackController";const f=h.Z.getSingletonFactory(d);var b=L(3186),y="loading",M="executed",x="failed";function G(o){var i,c,E,T,_=(o=o||{}).eventBus,m=o.events,C=o.dashMetrics,F=o.fragmentLoader,j=o.debug,K=o.streamInfo,O=o.type;function q(R){var Y;return!!R&&(Y=!1,E.some(function(k){if(D=R,I=k,!isNaN(D.index)&&D.startTime===I.startTime&&D.adaptationIndex===I.adaptationIndex&&D.type===I.type||function(J,W){return isNaN(J.index)&&isNaN(W.index)&&J.quality===W.quality}(R,k)||function(J,W){return J.action===b.Z.ACTION_COMPLETE&&J.action===W.action}(R,k))return Y=!0;var D,I}),Y)}function Z(R){return isNaN(R.duration)?.25:Math.min(R.duration/8,.5)}function ce(R){E=E.filter(function(Y){var k=Z(Y);return isNaN(Y.startTime)||R!==void 0&&Y.startTime>=R-k})}function re(R,Y){Y<=R+.5||(E=E.filter(function(k){var D=Z(k);return isNaN(k.startTime)||k.startTime>=Y-D||isNaN(k.duration)||k.startTime+k.duration<=R+D}))}function le(R,Y,k){for(var D=R.length-1;D>=0;D--){var I=R[D],J=I.startTime,W=J+I.duration;if(k=isNaN(k)?Z(I):k,!isNaN(J)&&!isNaN(W)&&Y+k>=J&&Y-k<W||isNaN(J)&&isNaN(Y))return I}return null}function de(R,Y){C.addSchedulingInfo(R,Y),C.addRequestsQueue(R.mediaType,T,E)}function U(R){R.sender===F&&(T.splice(T.indexOf(R.request),1),R.response&&!R.error&&E.push(R.request),de(R.request,R.error?x:M),_.trigger(m.FRAGMENT_LOADING_COMPLETED,{request:R.request,response:R.response,error:R.error,sender:this},{streamId:K.id,mediaType:O}))}function oe(R){R.sender===F&&_.trigger(m.FRAGMENT_LOADING_PROGRESS,{request:R.request,response:R.response,error:R.error,sender:this},{streamId:K.id,mediaType:O})}function Q(R){R.sender===F&&_.trigger(m.FRAGMENT_LOADING_ABANDONED,{request:R.request},{streamId:K.id,mediaType:O})}function p(){E=[],T=[]}return i={getStreamId:function(){return K.id},getType:function(){return O},getRequests:function(R){var Y=R?R.state instanceof Array?R.state:[R.state]:[],k=[];return Y.forEach(function(D){var I=function(J){var W;switch(J){case y:W=T;break;case M:W=E;break;default:W=[]}return W}(D);k=k.concat(function(J,W){return W.hasOwnProperty("time")?[le(J,W.time,W.threshold)]:J.filter(function(ne){for(var H in W)if(H!=="state"&&W.hasOwnProperty(H)&&ne[H]!=W[H])return!1;return!0})}(I,R))}),k},isFragmentLoaded:q,isFragmentLoadedOrPending:function(R){var Y,k=!1,D=0;if(!(k=q(R)))for(D=0;D<T.length;D++)Y=T[D],R.url===Y.url&&R.startTime===Y.startTime&&(k=!0);return k},removeExecutedRequestsBeforeTime:ce,removeExecutedRequestsAfterTime:function(R){E=E.filter(function(Y){return isNaN(Y.startTime)||R!==void 0&&Y.startTime<R})},syncExecutedRequestsWithBufferedRange:function(R,Y){if(R&&R.length!==0){for(var k=0,D=0,I=R.length;D<I;D++)re(k,R.start(D)),k=R.end(D);Y>0&&re(k,Y)}else ce()},abortRequests:function(){c.debug("abort requests"),F.abort(),T=[]},executeRequest:function(R){R.action===b.Z.ACTION_DOWNLOAD?(de(R,y),T.push(R),function(Y){_.trigger(m.FRAGMENT_LOADING_STARTED,{request:Y},{streamId:K.id,mediaType:O}),F.load(Y)}(R)):c.warn("Unknown request action.")},reset:function(){_.off(m.LOADING_COMPLETED,U,this),_.off(m.LOADING_DATA_PROGRESS,oe,this),_.off(m.LOADING_ABANDONED,Q,this),F&&F.reset(),p()},resetInitialSettings:p,addExecutedRequest:function(R){E.push(R)}},c=j.getLogger(i),p(),_.on(m.LOADING_COMPLETED,U,i),_.on(m.LOADING_DATA_PROGRESS,oe,i),_.on(m.LOADING_ABANDONED,Q,i),i}G.__dashjs_factory_name="FragmentModel";var P=h.Z.getClassFactory(G);P.FRAGMENT_MODEL_LOADING=y,P.FRAGMENT_MODEL_EXECUTED=M,P.FRAGMENT_MODEL_CANCELED="canceled",P.FRAGMENT_MODEL_FAILED=x,h.Z.updateClassFactory(G.__dashjs_factory_name,P);const z=P;var V=L(5459);function he(o){return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},he(o)}function pe(o,i){return pe=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},pe(o,i)}function Ke(o,i){return!i||he(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function xe(o){return xe=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},xe(o)}const ae=new(function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&pe(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=xe(i);if(c){var C=xe(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Ke(this,_)});function T(){var _;return function(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")}(this,T),(_=E.call(this)).MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,_.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,_.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,_.SEGMENT_BASE_LOADER_ERROR_CODE=15,_.TIME_SYNC_FAILED_ERROR_CODE=16,_.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,_.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,_.APPEND_ERROR_CODE=20,_.REMOVE_ERROR_CODE=21,_.DATA_UPDATE_FAILED_ERROR_CODE=22,_.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,_.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,_.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,_.DOWNLOAD_ERROR_ID_SIDX_CODE=26,_.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,_.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,_.DOWNLOAD_ERROR_ID_XLINK_CODE=29,_.MANIFEST_ERROR_ID_PARSE_CODE=31,_.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,_.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,_.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,_.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,_.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",_.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",_.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",_.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",_.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",_.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segment ranges from sidx",_.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize client and server time",_.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",_.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",_.APPEND_ERROR_MESSAGE="chunk is not defined",_.REMOVE_ERROR_MESSAGE="Removing data from the SourceBuffer",_.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",_.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",_.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",_.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",_.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : ",_}return T}(L(2230).Z));var pt=L(1264),Te=L(7855);function qe(o){var i,c,E,T,_,m,C=this.context,F=(0,pt.Z)(C).getInstance(),j=o.textController,K=o.eventBus,O=[],q=[],Z=!1,ce=o.mediaSource,re=null;function le(I){return new Promise(function(J){D(function(){T.changeType&&T.changeType(I),J()})})}function de(I){return T=j.getTextSourceBuffer(I),Promise.resolve()}function U(){if(typeof T.addEventListener=="function")try{T.addEventListener("updateend",Y,!1),T.addEventListener("error",k,!1),T.addEventListener("abort",k,!1)}catch{m=setInterval(Y,50)}else m=setInterval(Y,50)}function oe(I){return new Promise(function(J){T&&F.get().streaming.buffer.useAppendWindow?D(function(){try{if(!T)return void J();var W=ce.duration,ne=0;I&&!isNaN(I.start)&&!isNaN(I.duration)&&isFinite(I.duration)&&(W=I.start+I.duration),I&&!isNaN(I.start)&&(ne=I.start),T.appendWindowEnd===W&&T.appendWindowStart===ne||(T.appendWindowStart=0,T.appendWindowEnd=W+.01,T.appendWindowStart=Math.max(ne-.1,0),E.debug("Updated append window for ".concat(_.type,". Set start to ").concat(T.appendWindowStart," and end to ").concat(T.appendWindowEnd))),J()}catch{E.warn("Failed to set append window"),J()}}):J()})}function Q(I){return new Promise(function(J){T?D(function(){try{T.timestampOffset===I||isNaN(I)||(T.timestampOffset=I,E.debug("Set MSE timestamp offset to ".concat(I))),J()}catch{J()}}):J()})}function p(){if(!Z&&q.length>0){Z=!0;var I=q[0];q.splice(0,1);var J=function(){Z=!1,q.length>0&&p.call(this),I&&I.data&&I.data.segmentType&&I.data.segmentType!==Te.w.INIT_SEGMENT_TYPE&&delete I.data.bytes,I.promise.resolve({chunk:I.data})};try{re=I.request,I.data.bytes.byteLength===0?J.call(this):(T.appendBuffer?T.appendBuffer(I.data.bytes):T.append(I.data.bytes,I.data),D(J.bind(this)))}catch(W){E.fatal('SourceBuffer append failed "'+W+'"'),q.length>0?p():Z=!1,delete I.data.bytes,I.promise.reject({chunk:I.data,error:new V.Z(W.code,W.message)})}}}function R(){O.length>0&&(T.updating||(O.shift()(),R()))}function Y(){T.updating||R()}function k(I){var J,W,ne=I.target||{};J=u.Z.SOURCE_BUFFER_ERROR,W={error:ne,lastRequestAppended:re},K.trigger(J,W,{streamId:_.streamInfo.id,mediaType:c})}function D(I){O.push(I),T.updating||R()}return i={getType:function(){return c},getAllBufferRanges:function(){try{return T.buffered}catch(I){return E.error("getAllBufferRanges exception: "+I.message),null}},getBuffer:function(){return T},append:function(I){var J=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function(ne,H){I?(q.push({data:I,promise:{resolve:ne,reject:H},request:W}),D(p.bind(J))):H({chunk:I,error:new V.Z(ae.APPEND_ERROR_CODE,ae.APPEND_ERROR_MESSAGE)})})},remove:function(I){return new Promise(function(J,W){var ne=I.start,H=I.end;ne>=0&&H>ne?D(function(){try{T.remove(ne,H),D(function(){J({from:ne,to:H,unintended:!1}),I.resolve&&I.resolve()})}catch(X){W({from:ne,to:H,unintended:!1,error:new V.Z(ae.REMOVE_ERROR_CODE,ae.REMOVE_ERROR_MESSAGE)}),I.reject&&I.reject(X)}}):J()})},abort:function(){return new Promise(function(I){try{q=[],ce.readyState==="open"?D(function(){try{T&&T.abort(),I()}catch{I()}}):(T&&T.setTextTrack&&ce.readyState==="ended"&&T.abort(),I())}catch{I()}})},reset:function(){if(T){try{O=[],function(){try{typeof T.removeEventListener=="function"&&(T.removeEventListener("updateend",Y,!1),T.removeEventListener("error",k,!1),T.removeEventListener("abort",k,!1)),clearInterval(m)}catch(I){E.error(I)}}(),Z=!1,q=[],T.getClassName&&T.getClassName()==="TextSourceBuffer"||(E.debug("Removing sourcebuffer from media source"),ce.removeSourceBuffer(T))}catch{}T=null}re=null},updateTimestampOffset:Q,initializeForStreamSwitch:function(I,J,W){c=(_=I).type;var ne=_.codec;(function(X){T=X.getBuffer()})(W),U();var H=[];return H.push(new Promise(function(X){D(function(){var ge=T.appendWindowStart,Ue=T.appendWindowEnd;T&&(T.abort(),T.appendWindowStart=ge,T.appendWindowEnd=Ue),X()})})),H.push(oe(_.streamInfo)),H.push(le(ne)),J&&J.MSETimeOffset!==void 0&&H.push(Q(J.MSETimeOffset)),Promise.all(H)},initializeForFirstUse:function(I,J,W){c=(_=J).type;var ne=_.codec;try{if(ne.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))return de(I);T=ce.addSourceBuffer(ne),U();var H=[];return H.push(oe(_.streamInfo)),W&&W.MSETimeOffset!==void 0&&H.push(Q(W.MSETimeOffset)),Promise.all(H)}catch(X){return _.type==t.Z.TEXT&&!_.isFragmented||ne.indexOf('codecs="stpp')!==-1||ne.indexOf('codecs="vtt')!==-1?de(I):Promise.reject(X)}},updateAppendWindow:oe,changeType:le},E=(0,w.Z)(C).getInstance().getLogger(i),i}qe.__dashjs_factory_name="SourceBufferSink";const ye=h.Z.getClassFactory(qe);function be(o){var i,c,E,T=this.context,_=[],m=o;function C(F,j){return _=_.filter(function(K){return!((isNaN(j)||K.start<j)&&(isNaN(F)||K.end>F))}),Promise.resolve()}return i={getAllBufferRanges:function(){for(var F=[],j=0;j<_.length;j++){var K=_[j];F.length===0||K.start>F[F.length-1].end?F.push({start:K.start,end:K.end}):F[F.length-1].end=K.end}var O={start:function(q){return F[q].start},end:function(q){return F[q].end}};return Object.defineProperty(O,"length",{get:function(){return F.length}}),O},append:function(F){return F.segmentType!=="InitializationSegment"?(_.push(F),_.sort(function(j,K){return j.start-K.start}),E=null):E=F,c.debug("PreBufferSink appended chunk s: "+F.start+"; e: "+F.end),m&&m({chunk:F}),Promise.resolve()},remove:C,abort:function(){return Promise.resolve()},discharge:function(F,j){var K=function(O,q){return _.filter(function(Z){return(isNaN(q)||Z.start<q)&&(isNaN(O)||Z.end>O)})}(F,j);return E&&(K.push(E),E=null),C(F,j),K},reset:function(){_=[],E=null,m=null},updateTimestampOffset:function(){return Promise.resolve()},waitForUpdateEnd:function(F){F()},getBuffer:function(){return this}},c=(0,w.Z)(T).getInstance().getLogger(i),i}be.__dashjs_factory_name="PreBufferSink";const Ve=h.Z.getClassFactory(be);function tt(){var o={};return{save:function(i){var c=i.streamId,E=i.representationId;o[c]=o[c]||{},o[c][E]=i},extract:function(i,c){return o&&o[i]&&o[i][c]?o[i][c]:null},reset:function(){o={}}}}tt.__dashjs_factory_name="InitCache";const rt=h.Z.getSingletonFactory(tt);var _e=.01,Fe="BufferController";function $e(o){o=o||{};var i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re,le,de,U,oe,Q,p=this.context,R=(0,g.Z)(p).getInstance(),Y=o.errHandler,k=o.fragmentModel,D=o.representationController,I=o.adapter,J=o.textController,W=o.abrController,ne=o.playbackController,H=o.streamInfo,X=o.type,ge=o.settings;function Ue(Be){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Promise(function($,De){m=Be,j&&st&&typeof j.discharge=="function"?(K=j,at(st).then(function(){$()}).catch(function(ot){De(ot)})):$()})}function Oe(Be){return I.convertRepresentationToRepresentationInfo(D.getRepresentationForQuality(Be))}function at(Be){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return new Promise(function($,De){de&&Be?m?Ne(Be,st).then(function(ot){$(ot)}).catch(function(ot){De(ot)}):Ae().then(function(ot){$(ot)}).catch(function(ot){De(ot)}):$(null)})}function Ae(){var Be=this;return new Promise(function(st,$){var De=W.getQualityFor(X,H.id);j=Ve(p).create(Ce.bind(Be)),en(Oe(De)).then(function(){st(j)}).catch(function(){$()})})}function Ne(Be,st){return new Promise(function($,De){var ot=W.getQualityFor(X,H.id);j=ye(p).create({mediaSource:m,textController:J,eventBus:R}),function(_t,Lt,$t){var En=Oe($t);return Lt&&Lt[X]&&(X===t.Z.VIDEO||X===t.Z.AUDIO)?j.initializeForStreamSwitch(_t,En,Lt[X]):j.initializeForFirstUse(H,_t,En)}(Be,st,ot).then(function(){return en(Oe(ot))}).then(function(){$(j)}).catch(function(_t){c.fatal("Caught error on create SourceBuffer: "+_t),Y.error(new V.Z(ae.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ae.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+X)),De(_t)})})}function ht(Be){ge.get().streaming.cacheInitSegments&&(c.info("Init fragment finished loading saving to",X+"'s init cache"),de.save(Be.chunk)),c.debug("Append Init fragment",X," with representationId:",Be.chunk.representationId," and quality:",Be.chunk.quality,", data size:",Be.chunk.bytes.byteLength),mt(Be.chunk)}function et(Be){mt(Be.chunk,Be.request)}function mt(Be){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;j.append(Be,st).then(function($){Ce($)}).catch(function($){Ce($)}),Be.mediaInfo.type===t.Z.VIDEO&&vt(u.Z.VIDEO_CHUNK_RECEIVED,{chunk:Be})}function At(Be){if(Be&&Be.length>0)for(var st=0,$=Be.length;st<$;st++)c.debug("Buffered range: "+Be.start(st)+" - "+Be.end(st)+", currentTime = ",ne.getTime())}function Ce(Be){if(Be.error)return Be.error.code===22&&function(){if(le=!0,_=.8*ct(),c.warn("Quota exceeded, Critical Buffer: "+_),_>0){var De=Math.max(.2*_,1),ot=_-De,_t=Math.min(ge.get().streaming.buffer.bufferTimeAtTopQuality,.9*ot),Lt=Math.min(ge.get().streaming.buffer.bufferTimeAtTopQualityLongForm,.9*ot),$t={streaming:{buffer:{bufferToKeep:parseFloat(De.toFixed(5)),bufferTimeAtTopQuality:parseFloat(_t.toFixed(5)),bufferTimeAtTopQualityLongForm:parseFloat(Lt.toFixed(5))}}};ge.update($t)}}(),void(Be.error.code!==22&&nt()||(c.warn("Clearing playback buffer to overcome quota exceed situation"),vt(u.Z.QUOTA_EXCEEDED,{criticalBufferLevel:_,quotaExceededTime:Be.chunk.start}),Yt(kt())));if(j&&(je(),le=!1,(Z=Be.chunk)&&Z.endFragment)){Z&&!isNaN(Z.index)&&(C=Math.max(Z.index,C),Ot());var st=j.getAllBufferRanges();Z.segmentType===Te.w.MEDIA_SEGMENT_TYPE&&(At(st),Ee(),function(){if(!isNaN(Q))if(X===t.Z.AUDIO||X===t.Z.VIDEO){var De=ne.getTime(),ot=Ge(De,0),_t=Ge(Q,0);if(ot&&_t&&ot.start===_t.start)Q=NaN;else{var Lt=D.getCurrentRepresentation().segmentDuration,$t=Ge(Q,Lt);$t&&(ge.get().streaming.buffer.enableSeekDecorrelationFix&&Math.abs(De-Q)>Lt?Q<=$t.end&&ne.seek(Math.max(Q,$t.start),!1,!0):De<$t.start&&ne.seek($t.start,!1,!0))}}else Q=NaN}());var $=!1;O&&(O.indexOf(Z)>0&&($=!0),O=null),Z&&!$&&vt(u.Z.BYTES_APPENDED_END_FRAGMENT,{quality:Z.quality,startTime:Z.start,index:Z.index,bufferedRanges:st,segmentType:Z.segmentType,mediaType:X})}}function ee(){return new Promise(function(Be,st){var $=ve();if(!$||$.length===0)return Ee(),void Be();Yt($).then(function(){Be()}).catch(function(De){st(De)})})}function ve(Be){var st=[],$=j.getAllBufferRanges();if(!$||$.length===0)return st;if(!Be&&Be!==0||isNaN(Be))st.push({start:$.start(0),end:$.end($.length-1)+.5});else{var De=function(_t,Lt){var $t=ge.get().streaming.buffer.bufferToKeep,En=Lt.start(0);if(_t-En>$t){var Ln=Math.max(0,_t-$t),Dn=k.getRequests({state:z.FRAGMENT_MODEL_EXECUTED,time:_t,threshold:_e})[0];if(Dn&&(Ln=Math.min(Dn.startTime,Ln)),Ln>0)return{start:En,end:Ln}}return null}(Be,$),ot=function(_t,Lt){var $t=Lt.end(Lt.length-1)+.5,En=ke(_t),Ln=H.manifestInfo.duration>=ge.get().streaming.buffer.longFormContentDurationThreshold?ge.get().streaming.buffer.bufferTimeAtTopQualityLongForm:ge.get().streaming.buffer.bufferTimeAtTopQuality,Dn=isNaN(En)?_t:Math.min(En,_t+Ln);if(Dn>=Lt.end(Lt.length-1))return null;var qn=k.getRequests({state:z.FRAGMENT_MODEL_EXECUTED,time:_t,threshold:_e})[0];if(qn&&(Dn=Math.max(qn.startTime+qn.duration,Dn)),ge.get().streaming.buffer.avoidCurrentTimeRangePruning){for(var Mn=0;Mn<Lt.length;Mn++)if(Lt.start(Mn)<=_t&&_t<=Lt.end(Mn)&&Lt.start(Mn)<=Dn&&Dn<=Lt.end(Mn)){var Dr=Dn;Dn=Mn+1<Lt.length?Lt.start(Mn+1):Lt.end(Mn)+1,c.debug("Buffered range ["+Lt.start(Mn)+", "+Lt.end(Mn)+"] overlaps with targetTime "+_t+" and range to be pruned ["+Dr+", "+$t+"], using ["+Dn+", "+$t+"] instead"+(Dn<$t?"":" (no actual pruning)"));break}}return Dn<Lt.end(Lt.length-1)?{start:Dn,end:$t}:null}(Be,$);De&&st.push(De),ot&&st.push(ot)}return st}function Ee(){(!oe||X===t.Z.TEXT&&J.isTextEnabled())&&je()}function Ie(){Tt()}function Je(){Tt(),Q=NaN}function Ge(Be,st){var $,De,ot=j.getAllBufferRanges(),_t=0,Lt=0,$t=null,En=null,Ln=0,Dn=isNaN(st)?.15:st;if(ot!=null){for(De=0,$=ot.length;De<$;De++)if(_t=ot.start(De),Lt=ot.end(De),$t===null)Ln=Math.abs(_t-Be),(Be>=_t&&Be<Lt||Ln<=Dn)&&($t=_t,En=Lt);else{if(!((Ln=_t-En)<=Dn))break;En=Lt}if($t!==null)return{start:$t,end:En}}return null}function je(){if(ne){var Be=ge.get().streaming.gaps.jumpGaps&&!isNaN(ge.get().streaming.gaps.smallGapLimit)?ge.get().streaming.gaps.smallGapLimit:NaN;T=Math.max(function(st,$){var De;return ge.get().streaming.gaps.jumpGaps&&($=ge.get().streaming.gaps.smallGapLimit),(De=Ge(st,$))===null?0:De.end-st}(ne.getTime()||0,Be),0),vt(u.Z.BUFFER_LEVEL_UPDATED,{mediaType:X,bufferLevel:T}),Tt()}}function Ot(){var Be=C>=F-1,st=ne.getTimeToStreamEnd(H)-T<1e-5;!Be&&!st||E||(cn(!0),c.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED for stream id ".concat(H.id," and type ").concat(X)))}function Tt(){X!==t.Z.AUDIO&&X!==t.Z.VIDEO||((!ne.getLowLatencyModeEnabled()&&T<ge.get().streaming.buffer.stallThreshold||T===0)&&!E?Ft(v.Z.BUFFER_EMPTY):(E||T>=ge.get().streaming.buffer.stallThreshold||ne.getLowLatencyModeEnabled()&&T>0)&&Ft(v.Z.BUFFER_LOADED))}function Ft(Be){q===Be||Be===v.Z.BUFFER_EMPTY&&ne.getTime()===0||X===t.Z.TEXT&&!J.isTextEnabled()||(q=Be,vt(u.Z.BUFFER_LEVEL_STATE_CHANGED,{state:Be}),vt(Be===v.Z.BUFFER_LOADED?u.Z.BUFFER_LOADED:u.Z.BUFFER_EMPTY),c.debug(Be===v.Z.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function Gt(){j&&X!==t.Z.TEXT&&(E||Yt(kt()))}function kt(){var Be=[],st=j.getAllBufferRanges();if(!st||st.length===0)return Be;var $=ne.getTime(),De=Math.max(0,$-ge.get().streaming.buffer.bufferToKeep),ot=k.getRequests({state:z.FRAGMENT_MODEL_EXECUTED,time:$,threshold:_e})[0];if(ot)De=Math.min(ot.startTime,De);else if($===0&&ne.getIsDynamic())return[];if(st.start(0)<=De){for(var _t={start:0,end:De},Lt=0;Lt<st.length&&st.end(Lt)<=De;Lt++)_t.end=st.end(Lt);_t.start<_t.end&&Be.push(_t)}return Be}function Yt(Be){return new Promise(function(st,$){if(Be&&j&&Be.length!==0){var De=[];Be.forEach(function(ot){De.push(function(_t){return new Promise(function(Lt,$t){_t.resolve=Lt,_t.reject=$t,U.push(_t)})}(ot))}),re||Qt(),Promise.all(De).then(function(){st()}).catch(function(ot){$(ot)})}else st()})}function Qt(){try{if(U.length===0||!j)return c.debug("Nothing to prune, halt pruning"),U=[],void(re=!1);var Be=j.getBuffer();if(!Be||!Be.buffered||Be.buffered.length===0)return c.debug("SourceBuffer is empty (or does not exist), halt pruning"),U=[],void(re=!1);var st=U.shift();c.debug("".concat(X,": Removing buffer from: ").concat(st.start," to ").concat(st.end)),re=!0,ne.getTime()<st.end&&cn(!1),j.remove(st).then(function($){an($)}).catch(function($){an($)})}catch{re=!1}}function an(Be){c.debug("onRemoved buffer from:",Be.from,"to",Be.to),At(j.getAllBufferRanges()),U.length===0&&(re=!1,je()),Be.unintended&&(c.warn("Detected unintended removal from:",Be.from,"to",Be.to,"setting streamprocessor time to",Be.from),vt(u.Z.SEEK_TARGET,{time:Be.from})),re?Qt():(oe?oe=!1:je(),vt(u.Z.BUFFER_CLEARED,{from:Be.from,to:Be.to,unintended:Be.unintended,hasEnoughSpaceToAppend:nt(),quotaExceeded:le}))}function en(Be){return new Promise(function(st){Be&&Be.MSETimeOffset!==void 0&&j&&j.updateTimestampOffset?j.updateTimestampOffset(Be.MSETimeOffset).then(function(){st()}).catch(function(){st()}):st()})}function dn(){return j&&!E?j.updateAppendWindow(H):Promise.resolve()}function ln(){++ce*(ge.get().streaming.wallclockTimeUpdateInterval/1e3)>=ge.get().streaming.buffer.bufferPruningInterval&&(ce=0,Gt())}function nn(){Tt()}function cn(Be){E!==Be&&((E=Be)?vt(u.Z.BUFFERING_COMPLETED):F=Number.POSITIVE_INFINITY)}function ct(){try{var Be,st,$=j.getAllBufferRanges(),De=0;if(!$)return De;for(st=0,Be=$.length;st<Be;st++)De+=$.end(st)-$.start(st);return De}catch{return 0}}function ke(Be){try{var st=Be,$=j.getAllBufferRanges();if(!$||$.length===0)return NaN;for(var De=0;st===Be&&De<$.length;){var ot=$.start(De),_t=$.end(De);st>=ot&&st<=_t&&(st=_t),De+=1}return st===Be?NaN:st}catch{}}function nt(){var Be=ct();return isNaN(Be)||Be<_}function vt(Be,st){var $=st||{};R.trigger(Be,$,{streamId:H.id,mediaType:X})}function Mt(Be,st){if(_=Number.POSITIVE_INFINITY,q=void 0,F=Number.POSITIVE_INFINITY,C=0,Z=null,E=!1,re=!1,le=!1,T=0,ce=0,U=[],Q=NaN,j){var $=j;j=null,Be||st||$.abort().then(function(){$.reset(st),$=null})}oe=!1}return i={initialize:function(Be){Ue(Be),R.on(u.Z.INIT_FRAGMENT_LOADED,ht,i),R.on(u.Z.MEDIA_FRAGMENT_LOADED,et,i),R.on(u.Z.WALLCLOCK_TIME_UPDATED,ln,i),R.on(e.Z.PLAYBACK_PLAYING,Je,i),R.on(e.Z.PLAYBACK_PROGRESS,Ee,i),R.on(e.Z.PLAYBACK_TIME_UPDATED,Ee,i),R.on(e.Z.PLAYBACK_RATE_CHANGED,nn,i),R.on(e.Z.PLAYBACK_STALLED,Ie,i)},getStreamId:function(){return H.id},getType:function(){return X},getBufferControllerType:function(){return Fe},createBufferSink:at,dischargePreBuffer:function(){if(j&&K&&typeof K.discharge=="function"){var Be=K.getAllBufferRanges();if(Be.length>0){for(var st="Beginning "+X+"PreBuffer discharge, adding buffer for:",$=0;$<Be.length;$++)st+=" start: "+Be.start($)+", end: "+Be.end($)+";";c.debug(st)}else c.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");O=[];for(var De=K.discharge(),ot=null,_t=0;_t<De.length;_t++){var Lt=De[_t];if(Lt.segmentType!==Te.w.INIT_SEGMENT_TYPE){var $t=de.extract(Lt.streamId,Lt.representationId);$t&&ot!==$t&&(O.push($t),j.append($t),ot=$t)}O.push(Lt),j.append(Lt)}K.reset(),K=null}},getBuffer:function(){return j},getBufferLevel:function(){return T},getRangeAt:Ge,hasBufferAtTime:function(Be){try{var st=j.getAllBufferRanges();if(!st||st.length===0)return!1;for(var $=0;$<st.length;){var De=st.start($),ot=st.end($);if(Be>=De&&Be<=ot)return!0;$+=1}return!1}catch(_t){return c.error(_t),!1}},pruneBuffer:Gt,setMediaSource:Ue,getMediaSource:function(){return m},appendInitSegmentFromCache:function(Be){var st=de.extract(H.id,Be);return!!st&&(c.info("Append Init fragment",X," with representationId:",st.representationId," and quality:",st.quality,", data size:",st.bytes.byteLength),mt(st),!0)},getIsBufferingCompleted:function(){return E},setIsBufferingCompleted:cn,getIsPruningInProgress:function(){return re},reset:function(Be,st){R.off(u.Z.INIT_FRAGMENT_LOADED,ht,this),R.off(u.Z.MEDIA_FRAGMENT_LOADED,et,this),R.off(u.Z.WALLCLOCK_TIME_UPDATED,ln,this),R.off(e.Z.PLAYBACK_PLAYING,Je,this),R.off(e.Z.PLAYBACK_PROGRESS,Ee,this),R.off(e.Z.PLAYBACK_TIME_UPDATED,Ee,this),R.off(e.Z.PLAYBACK_RATE_CHANGED,nn,this),R.off(e.Z.PLAYBACK_STALLED,Ie,this),Mt(Be,st)},prepareForPlaybackSeek:function(){return E&&cn(!1),j.abort()},prepareForReplacementTrackSwitch:function(Be){return new Promise(function(st,$){j.abort().then(function(){return dn()}).then(function(){return ge.get().streaming.buffer.useChangeTypeForTrackSwitch?j.changeType(Be):Promise.resolve()}).then(function(){return ee()}).then(function(){cn(!1),st()}).catch(function(De){$(De)})})},prepareForNonReplacementTrackSwitch:function(Be){return new Promise(function(st,$){dn().then(function(){return ge.get().streaming.buffer.useChangeTypeForTrackSwitch?j.changeType(Be):Promise.resolve()}).then(function(){st()}).catch(function(De){$(De)})})},prepareForReplacementQualitySwitch:function(){return new Promise(function(Be,st){j.abort().then(function(){return dn()}).then(function(){return ee()}).then(function(){cn(!1),Be()}).catch(function($){st($)})})},updateAppendWindow:dn,getAllRangesWithSafetyFactor:ve,getContinuousBufferTimeForTargetTime:ke,clearBuffers:Yt,pruneAllSafely:ee,updateBufferTimestampOffset:en,setSeekTarget:function(Be){Q=Be},segmentRequestingCompleted:function(Be){isNaN(Be)||(F=Be,Ot())}},c=(0,w.Z)(p).getInstance().getLogger(i),de=rt(p).getInstance(),Mt(),i}$e.__dashjs_factory_name=Fe;const Re=h.Z.getClassFactory($e);var Me="NotFragmentedTextBufferController";function fe(o){o=o||{};var i,c,E,T,_,m,C=this.context,F=(0,g.Z)(C).getInstance(),j=o.textController,K=o.errHandler,O=o.streamInfo,q=o.type;function Z(le){T=le}function ce(le){var de,U;c!==le&&(c=le)&&(de=u.Z.BUFFERING_COMPLETED,U={},F.trigger(de,U,{streamId:O.id,mediaType:q}))}function re(le){le.chunk.bytes&&!c&&(m.save(le.chunk),_.append(le.chunk),ce(!0))}return i={initialize:function(le){Z(le)},getStreamId:function(){return O.id},getType:function(){return q},getBufferControllerType:function(){return Me},createBufferSink:function(le){return new Promise(function(de,U){try{(_=ye(C).create({mediaSource:T,textController:j,eventBus:F})).initializeForFirstUse(O,le),E||(_.getBuffer()&&typeof _.getBuffer().initialize=="function"&&_.getBuffer().initialize(),E=!0),de(_)}catch(oe){K.error(new V.Z(ae.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ae.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+q)),U(oe)}})},dischargePreBuffer:function(){},getBuffer:function(){return _},getBufferLevel:function(){return 0},getRangeAt:function(){return null},pruneBuffer:function(){},hasBufferAtTime:function(){return!0},getAllRangesWithSafetyFactor:function(){return[]},getContinuousBufferTimeForTargetTime:function(){return Number.POSITIVE_INFINITY},setMediaSource:Z,getMediaSource:function(){return T},appendInitSegmentFromCache:function(le){return m.extract(O.id,le)!==null},getIsBufferingCompleted:function(){return c},setIsBufferingCompleted:ce,getIsPruningInProgress:function(){return!1},reset:function(le){F.off(u.Z.INIT_FRAGMENT_LOADED,re,i),!le&&_&&(_.abort(),_.reset(),_=null)},clearBuffers:function(){return Promise.resolve()},prepareForPlaybackSeek:function(){return Promise.resolve()},prepareForReplacementTrackSwitch:function(){return c=!1,Promise.resolve()},setSeekTarget:function(){},updateAppendWindow:function(){return Promise.resolve()},pruneAllSafely:function(){return Promise.resolve()},updateBufferTimestampOffset:function(){return Promise.resolve()},segmentRequestingCompleted:function(){}},E=!1,T=null,c=!1,m=rt(C).getInstance(),F.on(u.Z.INIT_FRAGMENT_LOADED,re,i),i}fe.__dashjs_factory_name=Me;const B=h.Z.getClassFactory(fe);function te(o){o=o||{};var i,c,E,T,_,m,C,F,j,K,O,q,Z,ce=this.context,re=(0,g.Z)(ce).getInstance(),le=o.dashMetrics,de=o.mediaPlayerModel,U=o.fragmentModel,oe=o.abrController,Q=o.playbackController,p=o.textController,R=o.type,Y=o.bufferController,k=o.settings;function D(Ae){if(!Y.getIsBufferingCompleted()){I();var Ne=isNaN(Ae)?0:Ae;m=setTimeout(J,Ne)}}function I(){m&&(clearTimeout(m),m=null)}function J(){try{if(function(){try{return R===t.Z.TEXT&&!p.isTextEnabled()||Q.isPaused()&&(!Q.getStreamController().getInitialPlayback()||!Q.getStreamController().getAutoPlay())&&!k.get().streaming.scheduling.scheduleWhilePaused}catch{return!1}}())return void I();if(function(){try{return T&&(isNaN(K)||O||(Ne=c.id,ht=oe.getMaxAllowedIndexFor(R,Ne),!(!isNaN(j)&&j==ht||(E.info("Top quality "+R+" index has changed from "+j+" to "+ht),j=ht,0)))||!R||!T||le.getCurrentBufferLevel(R)<W())}catch{return!1}var Ne,ht}()){var Ae=!1;Z&&(Ae=oe.checkPlaybackQuality(R,c.id)),Ae||(q||T.quality!==K||O?(O?(E.debug("Switch track for "+R+", representation id = "+T.id),O=!1):E.debug("Quality has changed, get init request for representationid = "+T.id),re.trigger(u.Z.INIT_FRAGMENT_NEEDED,{representationId:T.id,sender:i},{streamId:c.id,mediaType:R}),Z=!1,q=!1):(E.debug("Media segment needed for ".concat(R," and stream id ").concat(c.id)),re.trigger(u.Z.MEDIA_FRAGMENT_NEEDED,{},{streamId:c.id,mediaType:R}),Z=!0))}else D(Q.getLowLatencyModeEnabled()?k.get().streaming.scheduling.lowLatencyTimeout:k.get().streaming.scheduling.defaultTimeout)}catch{D(Q.getLowLatencyModeEnabled()?k.get().streaming.scheduling.lowLatencyTimeout:k.get().streaming.scheduling.defaultTimeout)}}function W(){var Ae=NaN;return R&&T?Ae=R===t.Z.TEXT?function(){try{if(p.isTextEnabled()){if(isNaN(T.fragmentDuration)){var Ne=le.getCurrentSchedulingInfo(v.Z.SCHEDULING_INFO);return Ne?Ne.duration:0}return T.fragmentDuration}return 0}catch{return 0}}():R===t.Z.AUDIO&&C?function(){try{var Ne=le.getCurrentBufferLevel(t.Z.VIDEO);return isNaN(T.fragmentDuration)?Ne+1:Math.max(Ne+1,T.fragmentDuration)}catch{return 0}}():function(){try{var Ne=T.mediaInfo.streamInfo;return oe.isPlayingAtTopQuality(Ne)?Ne.manifestInfo.duration>=k.get().streaming.buffer.longFormContentDurationThreshold?k.get().streaming.buffer.bufferTimeAtTopQualityLongForm:k.get().streaming.buffer.bufferTimeAtTopQuality:de.getStableBufferTime()}catch{return de.getStableBufferTime()}}():Ae}function ne(){H(!0)}function H(Ae){if(Q&&U){var Ne=U.getRequests({state:z.FRAGMENT_MODEL_EXECUTED,time:Q.getTime(),threshold:0})[0];Ne&&Q.getTime()>=Ne.startTime&&((!F.mediaInfo||Ne.mediaInfo.type===F.mediaInfo.type&&Ne.mediaInfo.id!==F.mediaInfo.id)&&Ae&&re.trigger(u.Z.TRACK_CHANGE_RENDERED,{mediaType:R,oldMediaInfo:F.mediaInfo,newMediaInfo:Ne.mediaInfo,streamId:c.id}),Ne.quality===F.quality&&Ne.adaptationIndex===F.adaptationIndex||!Ae||(E.debug("Quality change rendered for streamId ".concat(c.id," and type ").concat(R)),re.trigger(u.Z.QUALITY_CHANGE_RENDERED,{mediaType:R,oldQuality:F.quality,newQuality:Ne.quality,streamId:c.id})),F={mediaInfo:Ne.mediaInfo,quality:Ne.quality,adaptationIndex:Ne.adaptationIndex})}}function X(Ae){E.debug("Appended bytes for ".concat(Ae.mediaType," and stream id ").concat(c.id)),(isNaN(Ae.index)||isNaN(K))&&(K=Ae.quality,E.info("["+R+"] lastInitializedRepresentationInfo changed to "+Ae.quality)),D(0)}function ge(){U.abortRequests(),I()}function Ue(){k.get().streaming.scheduling.scheduleWhilePaused||D()}function Oe(Ae){le.updatePlayListTraceMetrics({playbackspeed:Ae.playbackRate.toString()})}function at(){Z=!0,_=0,K=NaN,F={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN},j=NaN,O=!1,q=!1}return i={initialize:function(Ae){C=Ae,re.on(u.Z.BYTES_APPENDED_END_FRAGMENT,X,i),re.on(u.Z.URL_RESOLUTION_FAILED,ge,i),re.on(e.Z.PLAYBACK_STARTED,Ue,i),re.on(e.Z.PLAYBACK_RATE_CHANGED,Oe,i),re.on(e.Z.PLAYBACK_TIME_UPDATED,ne,i)},getType:function(){return R},getStreamId:function(){return c.id},setCurrentRepresentation:function(Ae){T=Ae},setTimeToLoadDelay:function(Ae){_=Ae},getTimeToLoadDelay:function(){return _},setSwitchTrack:function(Ae){O=Ae},getSwitchStrack:function(){return O},startScheduleTimer:D,clearScheduleTimer:I,reset:function(){re.off(u.Z.BYTES_APPENDED_END_FRAGMENT,X,i),re.off(u.Z.URL_RESOLUTION_FAILED,ge,i),re.off(e.Z.PLAYBACK_STARTED,Ue,i),re.off(e.Z.PLAYBACK_RATE_CHANGED,Oe,i),re.off(e.Z.PLAYBACK_TIME_UPDATED,ne,i),I(),H(!1),at(),c=null},getBufferTarget:W,getPlaybackController:function(){return Q},setCheckPlaybackQuality:function(Ae){Z=Ae},setInitSegmentRequired:function(Ae){q=Ae}},E=(0,w.Z)(ce).getInstance().getLogger(i),at(),c=o.streamInfo,i}te.__dashjs_factory_name="ScheduleController";const n=h.Z.getClassFactory(te);var l=L(7387);function A(o){var i,c,E,T,_,m=(o=o||{}).eventBus,C=o.events,F=o.abrController,j=o.dashMetrics,K=o.playbackController,O=o.timelineConverter,q=o.type,Z=o.streamInfo,ce=o.dashConstants,re=o.segmentsController,le=o.isDynamic;function de(){return q}function U(){if(!(F&&j&&K&&O))throw new Error(t.Z.MISSING_CONFIG_ERROR)}function oe(){return E}function Q(){return _}function p(){c=null,E=!0,T=[]}function R(W){return new Promise(function(ne,H){var X=W.hasInitialization(),ge=W.hasSegments(),Ue=[];Ue.push(re.updateInitData(W,X)),Ue.push(re.updateSegmentData(W,ge)),Promise.all(Ue).then(function(Oe){var at;Oe[0]&&!Oe[0].error&&(W=function(Ae,Ne){return Ne&&!Ne.error&&Ne.representation?Ne.representation:Ae}(W,Oe[0])),Oe[1]&&!Oe[1].error&&(W=function(Ae,Ne){if(Ne&&!Ne.error){var ht,et,mt,At,Ce=Ne.segments,ee=[],ve=0;for(ht=0,et=Ce?Ce.length:0;ht<et;ht++)mt=Ce[ht],(At=(0,l.TJ)(O,le,Ae,mt.startTime,mt.duration,mt.timescale,mt.media,mt.mediaRange,ve))&&(ee.push(At),At=null,ve++);return ee.length>0&&(Ae.segments=ee),Ae}}(W,Oe[1])),(at=W).mediaFinishedInformation=re.getMediaFinishedInformation(at),function(Ae){if(oe()){var Ne,ht,et=j.getCurrentManifestUpdate(),mt=!1;if(et){for(var At=0;At<et.representationInfo.length;At++)if((Ne=et.representationInfo[At]).index===Ae.index&&Ne.mediaType===de()){mt=!0;break}mt||j.addManifestUpdateRepresentationInfo(Ae,de())}if(function(){for(var ee=0,ve=T.length;ee<ve;ee++){var Ee=T[ee].segmentInfoType;if(!T[ee].hasInitialization()||(Ee===ce.SEGMENT_BASE||Ee===ce.BASE_URL)&&!T[ee].segments)return!1}return!0}()){F.setPlaybackQuality(q,Z,(ht=_,T.indexOf(ht)));var Ce=j.getCurrentDVRInfo(q);Ce&&j.updateManifestUpdateInfo({latency:Ce.range.end-K.getTime()}),j.getCurrentRepresentationSwitch(Q().adaptation.type)||Y(),D()}}}(W),ne()}).catch(function(Oe){H(Oe)})})}function Y(){U();var W=new Date,ne=Q(),H=1e3*K.getTime();ne&&j.addRepresentationSwitch(ne.adaptation.type,W,H,ne.id),m.trigger(e.Z.REPRESENTATION_SWITCH,{mediaType:q,streamId:Z.id,currentRepresentation:ne,numberOfRepresentations:T.length},{streamId:Z.id,mediaType:q})}function k(W){return W==null||W>=T.length?null:T[W]}function D(W){E=!1,m.trigger(C.DATA_UPDATE_COMPLETED,{data:c,currentRepresentation:_,error:W},{streamId:Z.id,mediaType:q})}function I(W){_=W}function J(W){if(W.newDuration){var ne=Q();ne&&ne.adaptation.period&&(ne.adaptation.period.duration=W.newDuration)}}return i={getStreamId:function(){return Z.id},getType:de,getData:function(){return c},isUpdating:oe,updateData:function(W,ne,H,X,ge){if(U(),E=!0,T=ne,I(k(ge)),c=W,H!==t.Z.VIDEO&&H!==t.Z.AUDIO&&(H!==t.Z.TEXT||!X))return D(),Promise.resolve();for(var Ue=[],Oe=0,at=T.length;Oe<at;Oe++){var Ae=T[Oe];Ue.push(R(Ae))}return Promise.all(Ue)},getCurrentRepresentation:Q,getRepresentationForQuality:k,prepareQualityChange:function(W){I(k(W)),Y()},reset:function(){m.off(e.Z.MANIFEST_VALIDITY_CHANGED,J,i),p()}},p(),m.on(e.Z.MANIFEST_VALIDITY_CHANGED,J,i),i}A.__dashjs_factory_name="RepresentationController";const N=h.Z.getClassFactory(A);var ie=L(3106),ue=L(9326),me=L(7473),Pe=L(2594),He=L(7417);function ze(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}var Qe=function o(){ze(this,o),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};Qe.INITIAL_PLAYOUT_START_REASON="initial_playout",Qe.SEEK_START_REASON="seek",Qe.RESUME_FROM_PAUSE_START_REASON="resume",Qe.METRICS_COLLECTION_START_REASON="metrics_collection_start";var we=function o(){ze(this,o),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};we.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",we.REBUFFERING_REASON="rebuffering",we.USER_REQUEST_STOP_REASON="user_request",we.END_OF_PERIOD_STOP_REASON="end_of_period",we.END_OF_CONTENT_STOP_REASON="end_of_content",we.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",we.FAILURE_STOP_REASON="failure";var ut=L(7802);function wt(o){o=o||{};var i,c,E,T,_,m,C,F,j,K,O,q,Z,ce=this.context,re=(0,g.Z)(ce).getInstance(),le=o.streamInfo,de=o.type,U=o.errHandler,oe=o.mimeType,Q=o.timelineConverter,p=o.adapter,R=o.manifestModel,Y=o.mediaPlayerModel,k=o.fragmentModel,D=o.abrController,I=o.playbackController,J=o.mediaController,W=o.textController,ne=o.dashMetrics,H=o.settings,X=o.boxParser,ge=o.segmentBlacklistController;function Ue(){return le.id}function Oe(){return de}function at(){return p.getIsTextTrack(F.getData())}function Ae(){_=[],T=null,Z=0,j=!1,K=!1}function Ne(ke){var nt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(ke.sender){if(I.getIsManifestUpdateInProgress())Ce();else if((!at()||W.isTextEnabled())&&m&&ke.representationId&&!m.appendInitSegmentFromCache(ke.representationId)){var vt=F.getCurrentRepresentation();if(vt.range===0)return void ht();var Mt=O?O.getInitRequest(T,vt):null;Mt?k.executeRequest(Mt):nt&&(C.setInitSegmentRequired(!0),Ce())}}}function ht(ke){var nt=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(I.getIsManifestUpdateInProgress()||m.getIsPruningInProgress())Ce();else{var vt=At();vt?(j=!1,et(vt)):mt(nt)}}function et(ke){isNaN(ke.startTime+ke.duration)||(Z=ke.startTime+ke.duration),ke.delayLoadingTime=new Date().getTime()+C.getTimeToLoadDelay(),C.setTimeToLoadDelay(0),function(nt){var vt=nt.url;return nt.range&&(vt=vt.concat("_",nt.range)),ge.contains(vt)}(ke)?(c.warn("Fragment request url ".concat(ke.url," for stream id ").concat(le.id," and media type ").concat(de," is on the ignore list and will be skipped")),Ce()):(c.debug("Next fragment request url for stream id ".concat(le.id," and media type ").concat(de," is ").concat(ke.url)),k.executeRequest(ke))}function mt(ke){var nt,vt=F.getCurrentRepresentation();if(!H.get().streaming.gaps.enableSeekFix||!j&&I.getTime()!==0||(E?E&&vt.segmentInfoType===r.Z.SEGMENT_TIMELINE&&(nt=O.getValidTimeAheadOfTargetTime(Z,T,vt,H.get().streaming.gaps.threshold)):nt=O.getValidTimeAheadOfTargetTime(Z,T,vt,H.get().streaming.gaps.threshold),isNaN(nt)||nt===Z)){if(O.isLastSegmentRequested(vt,Z)){var Mt=O.getCurrentIndex();return c.debug("Segment requesting for stream ".concat(le.id," has finished")),re.trigger(u.Z.STREAM_REQUESTING_COMPLETED,{segmentIndex:Mt},{streamId:le.id,mediaType:de}),m.segmentRequestingCompleted(Mt),void C.clearScheduleTimer()}ke&&Ce()}else I.isSeeking()||I.getTime()===0?(c.warn("Adjusting playback time ".concat(nt," because of gap in the manifest. Seeking by ").concat(nt-Z)),I.seek(nt,!1,!1)):(c.warn("Adjusting buffering time ".concat(nt," because of gap in the manifest. Adjusting time by ").concat(nt-Z)),ct(nt),ke&&Ce())}function At(){var ke,nt=Qt();if(isNaN(Z)||Oe()===t.Z.TEXT&&!W.isTextEnabled())return null;if(O){var vt=F&&nt?F.getRepresentationForQuality(nt.quality):null;ke=j?O.getSegmentRequestForTime(T,vt,Z):O.getNextSegmentRequest(T,vt)}return ke}function Ce(){C.startScheduleTimer(I.getLowLatencyModeEnabled()?H.get().streaming.scheduling.lowLatencyTimeout:H.get().streaming.scheduling.defaultTimeout)}function ee(ke){ke.error||(C.setCurrentRepresentation(p.convertRepresentationToRepresentationInfo(ke.currentRepresentation)),m.getIsBufferingCompleted()||m.updateBufferTimestampOffset(ke.currentRepresentation))}function ve(ke){ne.addBufferState(de,ke.state,C.getBufferTarget()),ke.state!==v.Z.BUFFER_EMPTY||I.isSeeking()||(c.info("Buffer is empty! Stalling!"),ne.pushPlayListTraceMetrics(new Date,we.REBUFFERING_REASON))}function Ee(ke){k.syncExecutedRequestsWithBufferedRange(m.getBuffer().getAllBufferRanges(),le.duration),ke.quotaExceeded&&ke.from>I.getTime()&&ct(ke.from),ke.hasEnoughSpaceToAppend&&ke.quotaExceeded&&C.startScheduleTimer()}function Ie(ke){if(ke&&ke.lastRequestAppended&&ke.lastRequestAppended.url){var nt=ke.lastRequestAppended.url;ke.lastRequestAppended.range&&(nt=nt.concat("_",ke.lastRequestAppended.range)),c.warn("Blacklisting segment with url ".concat(nt)),ge.add(nt)}}function Je(){nn(),K=!1}function Ge(ke){c.info("onFragmentLoadingAbandoned request: "+ke.request.url+" has been aborted"),I.isSeeking()||C.getSwitchStrack()||K||(c.info("onFragmentLoadingAbandoned request: "+ke.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),ke.request&&ke.request.isInitializationRequest()?C.setInitSegmentRequired(!0):ct(ke.request.startTime+ke.request.duration/2),C.startScheduleTimer(0))}function je(ke){c.info("OnFragmentLoadingCompleted for stream id "+le.id+" and media type "+de+" - Url:",ke.request?ke.request.url:"undefined",ke.request.range?", Range:"+ke.request.range:""),at()&&C.startScheduleTimer(0),ke.error&&ke.request.serviceLocation&&function(nt){c.info("Fragment loading completed with an error"),nt&&nt.request&&nt.request.type&&(nt.request.type===Te.w.INIT_SEGMENT_TYPE?Ne({representationId:nt.request.representationId,sender:{}},!1):nt.request.type===Te.w.MEDIA_SEGMENT_TYPE&&(ct(nt.request.startTime+nt.request.duration/2),ht({},!1)))}(ke)}function Ot(){ct(I.getTime()),Yt().startScheduleTimer()}function Tt(ke){var nt=ke.currentTrackInfo;if(nt){var vt=_.find(function(Mt){return Mt.index===nt.index&&Mt.lang===nt.lang});vt&&kt(vt).then(function(){m.setIsBufferingCompleted(!1),ct(I.getTime()),C.setInitSegmentRequired(!0),C.startScheduleTimer()})}}function Ft(ke){ct(ke.quotaExceededTime),C.clearScheduleTimer()}function Gt(){return m?m.getBuffer():null}function kt(ke){ke===T||ke&&T&&ke.type!==T.type||(T=ke);var nt=p.getRealAdaptation(le,T),vt=p.getVoRepresentations(T);if(F){var Mt,Be=F.getData(),st=D.getMaxAllowedIndexFor(de,le.id),$=D.getMinAllowedIndexFor(de,le.id),De=null;return Be!==null&&Be.id===nt.id||de===t.Z.TEXT?Mt=D.getQualityFor(de,le.id):(De=D.getThroughputHistory().getAverageThroughput(de,E)||D.getInitialBitrateFor(de,le.id),Mt=D.getQualityForBitrate(T,De,le.id)),$!==void 0&&Mt<$&&(Mt=$),Mt>st&&(Mt=st),F.updateData(nt,vt,de,T.isFragmented,Mt)}return Promise.resolve()}function Yt(){return C}function Qt(ke){var nt;return ke!==void 0?((0,ie.SE)(ke),nt=F?F.getRepresentationForQuality(ke):null):nt=F?F.getCurrentRepresentation():null,p.convertRepresentationToRepresentationInfo(nt)}function an(){return!!m&&m.getIsBufferingCompleted()}function en(ke){if(H.get().streaming.enableManifestTimescaleMismatchFix){var nt=ke.chunk,vt=nt.bytes,Mt=Qt(nt.quality),Be=F&&Mt?F.getRepresentationForQuality(Mt.quality):null;if(Mt&&Be){var st=X.getMediaTimescaleFromMoov(vt);Be.timescale=st}}}function dn(ke){var nt=ke.chunk,vt=nt.bytes,Mt=nt.quality,Be=Qt(Mt),st=F&&Be?F.getRepresentationForQuality(Be.quality):null;if(Be&&st){var $=p.getEventsFor(Be.mediaInfo,null,le),De=p.getEventsFor(Be,st,le);if($&&$.length>0||De&&De.length>0){var ot=function(_t,Lt,$t,En){try{for(var Ln={},Dn=[],qn=$t.concat(En),Mn=0,Dr=qn.length;Mn<Dr;Mn++)Ln[qn[Mn].schemeIdUri+"/"+qn[Mn].value]=qn[Mn];var Hr=(0,He.Z)(ce).getInstance().parse(_t),_r=Hr.getBoxes("emsg");if(!_r||_r.length===0)return Dn;for(var mr=Hr.getBox("sidx"),mi=!mr||isNaN(mr.earliest_presentation_time)||isNaN(mr.timescale)?Lt&&!isNaN(Lt.mediaStartTime)?Lt.mediaStartTime:0:mr.earliest_presentation_time/mr.timescale,Or=Math.max(mi,0),Vr=F.getCurrentRepresentation(),Mr=0,pr=_r.length;Mr<pr;Mr++){var Pr=p.getEvent(_r[Mr],Ln,Or,Vr);Pr&&Dn.push(Pr)}return Dn}catch{return[]}}(vt,k.getRequests({state:z.FRAGMENT_MODEL_EXECUTED,quality:Mt,index:nt.index})[0],$,De);re.trigger(u.Z.INBAND_EVENTS,{events:ot},{streamId:le.id})}}}function ln(){var ke=I.getTime();H.get().streaming.buffer.flushBufferAtTrackSwitch&&I.seek(ke+.001,!1,!0),ct(ke),m.setSeekTarget(ke),C.startScheduleTimer()}function nn(){var ke=I.getTime(),nt=m.getContinuousBufferTimeForTargetTime(ke);ct(isNaN(nt)?ke:nt),C.startScheduleTimer()}function cn(ke){ke&&!isNaN(ke.time)&&(ct(ke.time),m.setSeekTarget(ke.time))}function ct(ke){Z=ke,j=!0}return i={initialize:function(ke,nt,vt){q=(0,ut.Z)(ce).create({events:u.Z,eventBus:re,streamInfo:le,timelineConverter:Q,dashConstants:r.Z,segmentBaseController:o.segmentBaseController,type:de}),O=(0,ue.Z)(ce).create({streamInfo:le,type:de,timelineConverter:Q,dashMetrics:ne,mediaPlayerModel:Y,baseURLController:o.baseURLController,errHandler:U,segmentsController:q,settings:H,boxParser:X,events:u.Z,eventBus:re,errors:ae,debug:(0,w.Z)(ce).getInstance(),requestModifier:(0,me.Z)(ce).getInstance(),dashConstants:r.Z,constants:t.Z,urlUtils:(0,Pe.Z)(ce).getInstance()}),E=le.manifestInfo.isDynamic,O.initialize(E),D.registerStreamType(de,i),F=N(ce).create({streamInfo:le,type:de,abrController:D,dashMetrics:ne,playbackController:I,timelineConverter:Q,dashConstants:r.Z,events:u.Z,eventBus:re,errors:ae,isDynamic:E,segmentsController:q}),m=function(Mt,Be){return Mt?Mt!==t.Z.TEXT||Be?Re(ce).create({streamInfo:le,type:Mt,mediaPlayerModel:Y,manifestModel:R,fragmentModel:k,errHandler:U,mediaController:J,representationController:F,adapter:p,textController:W,abrController:D,playbackController:I,settings:H}):B(ce).create({streamInfo:le,type:Mt,mimeType:oe,fragmentModel:k,textController:W,errHandler:U,settings:H}):(U.error(new V.Z(ae.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,ae.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+"not properly defined")),null)}(de,vt),m&&m.initialize(ke),(C=n(ce).create({streamInfo:le,type:de,mimeType:oe,adapter:p,dashMetrics:ne,mediaPlayerModel:Y,fragmentModel:k,abrController:D,playbackController:I,textController:W,mediaController:J,bufferController:m,settings:H})).initialize(nt),Z=0,j=!1},getStreamId:Ue,getType:Oe,isUpdating:function(){return!!F&&F.isUpdating()},getBufferController:function(){return m},dischargePreBuffer:function(){m.dischargePreBuffer()},getFragmentModel:function(){return k},getScheduleController:Yt,getRepresentationController:function(){return F},getRepresentationInfo:Qt,getBufferLevel:function(){return m?m.getBufferLevel():0},isBufferingCompleted:an,createBufferSinks:function(ke){var nt=Gt();return nt?Promise.resolve(nt):m?m.createBufferSink(T,ke):Promise.resolve(null)},updateStreamInfo:function(ke){return le=ke,an()?Promise.resolve():m.updateAppendWindow()},getStreamInfo:function(){return le},selectMediaInfo:kt,clearMediaInfoArray:function(){_=[]},addMediaInfo:function(ke){_.indexOf(ke)===-1&&_.push(ke)},prepareTrackSwitch:function(){return new Promise(function(ke){c.debug("Preparing track switch for type ".concat(de));var nt=de===t.Z.TEXT||H.get().streaming.trackSwitchMode[de]===t.Z.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&I.getTimeToStreamEnd(le)>H.get().streaming.buffer.stallThreshold;if(m.getIsBufferingCompleted()&&!nt)return m.prepareForNonReplacementTrackSwitch(T.codec).then(function(){re.trigger(u.Z.BUFFERING_COMPLETED,{},{streamId:le.id,mediaType:de})}).catch(function(){re.trigger(u.Z.BUFFERING_COMPLETED,{},{streamId:le.id,mediaType:de})}),void ke();C.clearScheduleTimer(),C.setSwitchTrack(!0),nt?(re.trigger(u.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:de,streamId:le.id},{mediaType:de,streamId:le.id}),k.abortRequests(),m.prepareForReplacementTrackSwitch(T.codec).then(function(){var vt=Qt();return m.updateBufferTimestampOffset(vt)}).then(function(){ln(),ke()}).catch(function(){ln(),ke()})):m.prepareForNonReplacementTrackSwitch(T.codec).then(function(){nn(),ke()}).catch(function(){nn(),ke()})})},prepareQualityChange:function(ke){c.debug("Preparing quality switch for type ".concat(de));var nt=ke.newQuality;K=!0,C.clearScheduleTimer();var vt=Qt(nt);C.setCurrentRepresentation(vt),F.prepareQualityChange(nt),k.abortRequests(),m.updateBufferTimestampOffset(vt).then(function(){ke.reason&&ke.reason.forceReplace?(re.trigger(u.Z.BUFFER_REPLACEMENT_STARTED,{mediaType:de,streamId:le.id},{mediaType:de,streamId:le.id}),m.prepareForReplacementQualitySwitch().then(function(){ln(),K=!1}).catch(function(){ln(),K=!1})):H.get().streaming.buffer.fastSwitchEnabled?function(Mt){var Be=I.getTime(),st=1.5*(isNaN(Mt.fragmentDuration)?1:Mt.fragmentDuration),$=k.getRequests({state:z.FRAGMENT_MODEL_EXECUTED,time:Be+st,threshold:0})[0];if($&&!at()){var De=m.getBufferLevel(),ot=D.getAbandonmentStateFor(le.id,de);$.quality<Mt.quality&&De>=st&&ot!==v.Z.ABANDON_LOAD?(ct(Be+st),C.setCheckPlaybackQuality(!1),C.startScheduleTimer()):Je()}else C.startScheduleTimer();K=!1}(vt):Je(),ne.pushPlayListTraceMetrics(new Date,we.REPRESENTATION_SWITCH_STOP_REASON),ne.createPlaylistTraceMetrics(vt.id,1e3*I.getTime(),I.getPlaybackRate())})},getMediaInfo:function(){return T},getMediaSource:function(){return m.getMediaSource()},setMediaSource:function(ke){return m.setMediaSource(ke,T)},getBuffer:Gt,setExplicitBufferingTime:ct,finalisePlayList:function(ke,nt){ne.pushPlayListTraceMetrics(ke,nt)},probeNextRequest:function(){var ke=Qt(),nt=F&&ke?F.getRepresentationForQuality(ke.quality):null;return O.getNextSegmentRequestIdempotent(T,nt)},prepareInnerPeriodPlaybackSeeking:function(ke){return new Promise(function(nt){if(m.hasBufferAtTime(ke.seekTime))return m.pruneBuffer(),void nt();C.clearScheduleTimer(),k.abortRequests(),m.prepareForPlaybackSeek().then(function(){var vt=m.getAllRangesWithSafetyFactor(ke.seekTime);return m.clearBuffers(vt)}).then(function(){var vt=m.getContinuousBufferTimeForTargetTime(ke.seekTime);if(!isNaN(vt)&&!isNaN(le.duration)&&isFinite(le.duration)&&vt>=le.start+le.duration)m.setIsBufferingCompleted(!0),nt();else{var Mt=isNaN(vt)?ke.seekTime:vt;ct(Mt),m.setSeekTarget(Mt);var Be=[];Be.push(m.updateAppendWindow());var st=Qt();Be.push(m.updateBufferTimestampOffset(st)),Promise.all(Be).then(function(){C.setInitSegmentRequired(!0),C.setCheckPlaybackQuality(!1),C.startScheduleTimer(),nt()})}}).catch(function(vt){c.error(vt)})})},prepareOuterPeriodPlaybackSeeking:function(){return new Promise(function(ke,nt){try{C.clearScheduleTimer(),k.abortRequests(),m.prepareForPlaybackSeek().then(function(){return m.pruneAllSafely()}).then(function(){ke()})}catch(vt){nt(vt)}})},reset:function(ke,nt){O&&O.reset(),m&&(m.reset(ke,nt),m=null),C&&(C.reset(),C=null),F&&(F.reset(),F=null),q&&(q=null),D&&D.unRegisterStreamType(Ue(),de),re.off(u.Z.DATA_UPDATE_COMPLETED,ee,i),re.off(u.Z.INIT_FRAGMENT_NEEDED,Ne,i),re.off(u.Z.MEDIA_FRAGMENT_NEEDED,ht,i),re.off(u.Z.INIT_FRAGMENT_LOADED,en,i),re.off(u.Z.MEDIA_FRAGMENT_LOADED,dn,i),re.off(u.Z.BUFFER_LEVEL_STATE_CHANGED,ve,i),re.off(u.Z.BUFFER_CLEARED,Ee,i),re.off(u.Z.SEEK_TARGET,cn,i),re.off(u.Z.FRAGMENT_LOADING_ABANDONED,Ge,i),re.off(u.Z.FRAGMENT_LOADING_COMPLETED,je,i),re.off(u.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ot,i),re.off(u.Z.SET_NON_FRAGMENTED_TEXT,Tt,i),re.off(u.Z.QUOTA_EXCEEDED,Ft,i),re.off(u.Z.SOURCE_BUFFER_ERROR,Ie,i),Ae(),de=null,le=null}},c=(0,w.Z)(ce).getInstance().getLogger(i),Ae(),re.on(u.Z.DATA_UPDATE_COMPLETED,ee,i,{priority:g.Z.EVENT_PRIORITY_HIGH}),re.on(u.Z.INIT_FRAGMENT_NEEDED,Ne,i),re.on(u.Z.MEDIA_FRAGMENT_NEEDED,ht,i),re.on(u.Z.INIT_FRAGMENT_LOADED,en,i),re.on(u.Z.MEDIA_FRAGMENT_LOADED,dn,i),re.on(u.Z.BUFFER_LEVEL_STATE_CHANGED,ve,i),re.on(u.Z.BUFFER_CLEARED,Ee,i),re.on(u.Z.SEEK_TARGET,cn,i),re.on(u.Z.FRAGMENT_LOADING_ABANDONED,Ge,i),re.on(u.Z.FRAGMENT_LOADING_COMPLETED,je,i),re.on(u.Z.QUOTA_EXCEEDED,Ft,i),re.on(u.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,Ot,i),re.on(u.Z.SET_NON_FRAGMENTED_TEXT,Tt,i),re.on(u.Z.SOURCE_BUFFER_ERROR,Ie,i),i}wt.__dashjs_factory_name="StreamProcessor";const Dt=h.Z.getClassFactory(wt),Ut=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null};var qt=L(9032);function Ht(o,i){if(o){if(typeof o=="string")return sn(o,i);var c=Object.prototype.toString.call(o).slice(8,-1);return c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set"?Array.from(o):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?sn(o,i):void 0}}function sn(o,i){(i==null||i>o.length)&&(i=o.length);for(var c=0,E=new Array(i);c<i;c++)E[c]=o[c];return E}function gn(o){o=o||{};var i,c,E=this.context,T=o.requestModifier,_=o.lowLatencyThroughputModel,m=o.boxParser,C=(0,pt.Z)(E).getInstance();function F(O){var q,Z=new Date,ce=O.request,re=new Headers;if(ce.range&&re.append("Range","bytes="+ce.range),O.headers)for(var le in O.headers){var de=O.headers[le];de&&re.append(le,de)}ce.requestStartDate||(ce.requestStartDate=Z),T&&T.modifyRequestHeader&&T.modifyRequestHeader({setRequestHeader:function(R,Y){re.append(R,Y)}},{url:O.url}),typeof window.AbortController=="function"&&(q=new AbortController,O.abortController=q,q.signal.onabort=O.onabort);var U={method:O.method,headers:re,credentials:O.withCredentials?"include":void 0,signal:q?q.signal:void 0},oe=C.get().streaming.abr.fetchThroughputCalculationMode,Q=Date.now(),p=0;new Promise(function(R){if(oe===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&_&&(p=_.getThroughputCapacityDelayMS(ce,1e3*c.getCurrentBufferLevel(ce.mediaType))))return setTimeout(R,p);R()}).then(function(){var R=Date.now();fetch(O.url,U).then(function(Y){O.response||(O.response={}),O.response.status=Y.status,O.response.statusText=Y.statusText,O.response.responseURL=Y.url,Y.ok||O.onerror();var k,D="",I=function(Ie,Je){var Ge;if(typeof Symbol>"u"||Ie[Symbol.iterator]==null){if(Array.isArray(Ie)||(Ge=Ht(Ie))){Ge&&(Ie=Ge);var je=0,Ot=function(){};return{s:Ot,n:function(){return je>=Ie.length?{done:!0}:{done:!1,value:Ie[je++]}},e:function(kt){throw kt},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tt,Ft=!0,Gt=!1;return{s:function(){Ge=Ie[Symbol.iterator]()},n:function(){var kt=Ge.next();return Ft=kt.done,kt},e:function(kt){Gt=!0,Tt=kt},f:function(){try{Ft||Ge.return==null||Ge.return()}finally{if(Gt)throw Tt}}}}(Y.headers.keys());try{for(I.s();!(k=I.n()).done;){var J=k.value;D+=J+": "+Y.headers.get(J)+`\r
`}}catch(Ie){I.e(Ie)}finally{I.f()}if(O.response.responseHeaders=D,!Y.body)return Y.arrayBuffer().then(function(Ie){O.response.response=Ie;var Je={loaded:Ie.byteLength,total:Ie.byteLength,stream:!1};O.progress(Je),O.onload(),O.onend()});var W,ne,H,X,ge=parseInt(Y.headers.get("Content-Length"),10),Ue=0,Oe=!1,at=new Uint8Array,Ae=0;if(oe===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST&&_){var Ne=R,ht=0,et=(H=Y.body.tee(),X=2,function(Ie){if(Array.isArray(Ie))return Ie}(H)||function(Ie,Je){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ie)){var Ge=[],je=!0,Ot=!1,Tt=void 0;try{for(var Ft,Gt=Ie[Symbol.iterator]();!(je=(Ft=Gt.next()).done)&&(Ge.push(Ft.value),!Je||Ge.length!==Je);je=!0);}catch(kt){Ot=!0,Tt=kt}finally{try{je||Gt.return==null||Gt.return()}finally{if(Ot)throw Tt}}return Ge}}(H,X)||Ht(H,X)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),mt=et[0],At=et[1];W=mt.getReader(),ne=[],W.read().then(function Ie(Je){var Ge=Je.value,je=Je.done;if(ht=Date.now(),Ge&&Ge.length){var Ot=ht-Ne,Tt=Ge.length;ne.push({chunkDownloadTimeRelativeMS:ht-R,chunkDownloadDurationMS:Ot,chunkBytes:Tt,kbps:Math.round(8*Tt/(Ot/1e3)),bufferLevel:c.getCurrentBufferLevel(ce.mediaType)})}if(je){var Ft=ht-R,Gt=ne.reduce(function(kt,Yt){return kt+Yt.chunkBytes},0);return _.addMeasurement(ce,Ft,ne,Q,p,D),void O.progress({loaded:Gt,total:Gt,lengthComputable:!0,time:_.getEstimatedDownloadDurationMS(ce),stream:!0})}return Ne=Date.now(),W.read().then(Ie)}),O.reader=At.getReader()}else O.reader=Y.body.getReader();var Ce=[],ee=[],ve=[],Ee=!0;j(O,function Ie(Je){var Ge=Je.value;if(Je.done){if(at){if(oe!==t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_AAST){var je=null,Ot=null;oe===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING?(je=function(kt,Yt){try{var Qt,an;Qt=kt.filter(function(ke,nt){return nt<kt.length-1}),an=Yt.filter(function(ke,nt){return nt<Yt.length-1});var en=[];if(Qt.length>1){for(var dn=0,ln=0,nn=0;nn<Qt.length;nn++)if(Qt[nn]&&an[nn]){var cn=an[nn].ts-Qt[nn].ts;if(cn>1)en.push(8*an[nn].bytes/cn);else{ln===0&&(ln=Qt[nn].ts);var ct=an[nn].ts-ln;ct>1?(en.push(8*dn/ct),dn=0,ln=0):dn+=an[nn].bytes}}if(en.length>0)return en.reduce(function(ke,nt){return ke+nt},0)/en.length}return null}catch{return null}}(ee,ve),je&&(Ot=8*Ue/je)):oe===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA&&(Ot=K(Ce,Ue)),O.progress({loaded:Ue,total:isNaN(ge)?Ue:ge,lengthComputable:!0,time:Ot,stream:!0})}O.response.response=at.buffer}return O.onload(),void O.onend()}if(Ge&&Ge.length>0){at=function(kt,Yt){if(kt.length===0)return Yt;var Qt=new Uint8Array(kt.length+Yt.length);return Qt.set(kt),Qt.set(Yt,kt.length),Qt}(at,Ge),Ue+=Ge.length,Ce.push({ts:Date.now(),bytes:Ge.length}),oe===t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING&&Ee&&m.findLastTopIsoBoxCompleted(["moof"],at,Ae).found&&(Ee=!1,ee.push({ts:performance.now(),bytes:Ge.length}));var Tt=m.findLastTopIsoBoxCompleted(["moov","mdat"],at,Ae);if(Tt.found){var Ft,Gt=Tt.lastCompletedOffset+Tt.size;oe!==t.Z.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING||Ee||(Ee=!0,ve.push({ts:performance.now(),bytes:at.length})),Gt===at.length?(Ft=at,at=new Uint8Array):(Ft=new Uint8Array(at.subarray(0,Gt)),at=at.subarray(Gt)),O.progress({data:Ft.buffer,lengthComputable:!1,noTrace:!0}),Ae=0}else Ae=Tt.lastCompletedOffset,Oe||(O.progress({lengthComputable:!1,noTrace:!0}),Oe=!0)}j(O,Ie)})}).catch(function(Y){O.onerror&&O.onerror(Y)})})}function j(O,q){O.reader.read().then(q).catch(function(Z){O.onerror&&O.response.status===200&&O.onerror(Z)})}function K(O,q){try{if((O=O.filter(function(re){return re.bytes>q/4/O.length})).length>1){var Z=0,ce=(O[O.length-1].ts-O[0].ts)/O.length;return O.forEach(function(re,le){var de=O[le+1];if(de){var U=de.ts-re.ts;Z+=U<ce?U:0}}),Z}return null}catch{return null}}return i={load:function(O){T&&T.modifyRequest?(0,me.k)(O,T).then(function(){return F(O)}):F(O)},abort:function(O){if(O.abortController)O.abortController.abort();else if(O.reader)try{O.reader.cancel(),O.onabort()}catch{}},calculateDownloadedTime:K,setup:function(O){c=O.dashMetrics}},i}gn.__dashjs_factory_name="FetchLoader";const bn=h.Z.getClassFactory(gn);var On=L(1180);function An(o,i){for(var c=0;c<i.length;c++){var E=i[c];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(o,E.key,E)}}const _n=function(){function o(){(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.mimeType=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.mediaFinishedInformation={numberOfSegments:0,mediaTimeOfLastSignaledSegment:NaN},this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}var i,c;return i=o,(c=[{key:"hasInitialization",value:function(){return this.initialization!==null||this.range!==null}},{key:"hasSegments",value:function(){return this.segmentInfoType!==r.Z.BASE_URL&&this.segmentInfoType!==r.Z.SEGMENT_BASE&&!this.indexRange}}])&&An(i.prototype,c),o}(),Hn=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.period=null,this.index=-1,this.type=null};var Tn=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null,this.nextPeriodId=null};Tn.DEFAULT_ID="defaultId";const Vn=Tn,Kn=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.publishTime=null,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN};var Wn=L(2610);const Xn=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};var Qn=function o(i,c,E,T){(function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=i||"",this.serviceLocation=c||i||"",this.dvb_priority=E||1,this.dvb_weight=T||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0};Qn.DEFAULT_DVB_PRIORITY=1,Qn.DEFAULT_DVB_WEIGHT=1;const nr=Qn,$n=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri="",this.presentationTimeOffset=0},br=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.inband=!1,this.type="encoder",this.applicationScheme=null,this.wallClockTime=null,this.presentationTime=NaN,this.UTCTiming=null},Et=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.defaultServiceLocation=null,this.queryBeforeStart=!1,this.proxyServerUrl=null,this.serverUrl=null};var ft=L(3101),dt=L.n(ft);function Le(){return{areEqual:function(o,i){return dt()(o,i)}}}Le.__dashjs_factory_name="ObjectUtils";const it=h.Z.getSingletonFactory(Le);var Ze=L(7803);function Xe(o,i){var c;if(typeof Symbol>"u"||o[Symbol.iterator]==null){if(Array.isArray(o)||(c=It(o))||i&&o&&typeof o.length=="number"){c&&(o=c);var E=0,T=function(){};return{s:T,n:function(){return E>=o.length?{done:!0}:{done:!1,value:o[E++]}},e:function(F){throw F},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,m=!0,C=!1;return{s:function(){c=o[Symbol.iterator]()},n:function(){var F=c.next();return m=F.done,F},e:function(F){C=!0,_=F},f:function(){try{m||c.return==null||c.return()}finally{if(C)throw _}}}}function It(o,i){if(o){if(typeof o=="string")return Rt(o,i);var c=Object.prototype.toString.call(o).slice(8,-1);return c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set"?Array.from(o):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Rt(o,i):void 0}}function Rt(o,i){(i==null||i>o.length)&&(i=o.length);for(var c=0,E=new Array(i);c<i;c++)E[c]=o[c];return E}function Zt(){var o,i,c,E,T=this.context,_=(0,Pe.Z)(T).getInstance(),m=Number.isInteger||function(p){return typeof p=="number"&&isFinite(p)&&Math.floor(p)===p};function C(p,R){if(!p)throw new Error("adaptation is not defined");if(!R)throw new Error("type is not defined");if(p.Representation_asArray&&p.Representation_asArray.length){var Y=le(p.Representation_asArray[0]);if(Y&&Y.length>0&&Ze.Y.indexOf(Y[0].schemeIdUri)>=0)return R===t.Z.IMAGE}if(p.ContentComponent_asArray&&p.ContentComponent_asArray.length>0){if(p.ContentComponent_asArray.length>1)return R===t.Z.MUXED;if(p.ContentComponent_asArray[0].contentType===R)return!0}var k=R===t.Z.TEXT?new RegExp("(ttml|vtt|wvtt|stpp)"):new RegExp(R);if(p.Representation_asArray&&p.Representation_asArray.length){var D=p.Representation_asArray[0].codecs;if(k.test(D))return!0}if(p.hasOwnProperty(r.Z.MIME_TYPE))return k.test(p.mimeType);if(p.Representation_asArray){for(var I,J=0;J<p.Representation_asArray.length;J++)if((I=p.Representation_asArray[J]).hasOwnProperty(r.Z.MIME_TYPE))return k.test(I.mimeType)}return!1}function F(p){if(!p)throw new Error("adaptation is not defined");if(p.hasOwnProperty(r.Z.SEGMENT_TEMPLATE)||p.hasOwnProperty(r.Z.SEGMENT_TIMELINE)||p.hasOwnProperty(r.Z.SEGMENT_LIST)||p.hasOwnProperty(r.Z.SEGMENT_BASE))return!0;if(p.Representation_asArray&&p.Representation_asArray.length>0){var R=p.Representation_asArray[0];if(R.hasOwnProperty(r.Z.SEGMENT_TEMPLATE)||R.hasOwnProperty(r.Z.SEGMENT_TIMELINE)||R.hasOwnProperty(r.Z.SEGMENT_LIST)||R.hasOwnProperty(r.Z.SEGMENT_BASE))return!0}return!1}function j(p){return C(p,t.Z.VIDEO)}function K(p){return C(p,t.Z.TEXT)}function O(p){return C(p,t.Z.IMAGE)}function q(p){return p&&Array.isArray(p.Representation_asArray)&&p.Representation_asArray.sort(function(R,Y){return R.bandwidth-Y.bandwidth}),p}function Z(p,R){return p&&p.Period_asArray&&m(R)&&p.Period_asArray[R]?p.Period_asArray[R].AdaptationSet_asArray:[]}function ce(p){return p&&p.Period_asArray?p.Period_asArray:[]}function re(p){var R=!1;return p&&p.hasOwnProperty("type")&&(R=p.type===r.Z.DYNAMIC),R}function le(p){return p&&p.EssentialProperty_asArray&&p.EssentialProperty_asArray.length?p.EssentialProperty_asArray.map(function(R){return{schemeIdUri:R.schemeIdUri,value:R.value}}):null}function de(p){if(!p||!p.S_asArray)return NaN;var R=p.S_asArray[0],Y=p.S_asArray[1];return R.hasOwnProperty("d")?R.d:Y.t-R.t}function U(p,R){if(!p)throw new Error("Period cannot be null or undefined");var Y=Vn.DEFAULT_ID+"_"+R;return p.hasOwnProperty(r.Z.ID)&&p.id.length>0&&p.id!=="__proto__"&&(Y=p.id),Y}function oe(p,R,Y){var k,D=[];if(!p)return D;for(k=0;k<p.length;k++){var I=new $n;if(I.timescale=1,I.representation=R,!p[k].hasOwnProperty(t.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");I.schemeIdUri=p[k].schemeIdUri,p[k].hasOwnProperty(r.Z.TIMESCALE)&&(I.timescale=p[k].timescale),p[k].hasOwnProperty(r.Z.VALUE)&&(I.value=p[k].value),D.push(I),I.period=Y}return D}function Q(p){var R=[],Y=p.BaseURL_asArray||[p.baseUri],k=!1;return Y.some(function(D){if(D){var I=new nr,J=D.__text||D;return _.isRelative(J)&&(k=!0,p.baseUri&&(J=_.resolve(J,p.baseUri))),I.url=J,D.hasOwnProperty(r.Z.SERVICE_LOCATION)&&D.serviceLocation.length?I.serviceLocation=D.serviceLocation:I.serviceLocation=J,D.hasOwnProperty(r.Z.DVB_PRIORITY)&&(I.dvb_priority=D[r.Z.DVB_PRIORITY]),D.hasOwnProperty(r.Z.DVB_WEIGHT)&&(I.dvb_weight=D[r.Z.DVB_WEIGHT]),D.hasOwnProperty(r.Z.AVAILABILITY_TIME_OFFSET)&&(I.availabilityTimeOffset=D[r.Z.AVAILABILITY_TIME_OFFSET]),D.hasOwnProperty(r.Z.AVAILABILITY_TIME_COMPLETE)&&(I.availabilityTimeComplete=D[r.Z.AVAILABILITY_TIME_COMPLETE]!=="false"),R.push(I),k}}),R}return o={getIsTypeOf:C,getIsText:K,getIsFragmented:F,getProducerReferenceTimesForAdaptation:function(p){var R=p&&p.hasOwnProperty(r.Z.PRODUCERREFERENCETIME_ASARRAY)?p[r.Z.PRODUCERREFERENCETIME_ASARRAY]:[];(p&&p.hasOwnProperty(r.Z.REPRESENTATION_ASARRAY)?p[r.Z.REPRESENTATION_ASARRAY]:[]).forEach(function(k){var D;k.hasOwnProperty(r.Z.PRODUCERREFERENCETIME_ASARRAY)&&R.push.apply(R,function(I){if(Array.isArray(I))return Rt(I)}(D=k[r.Z.PRODUCERREFERENCETIME_ASARRAY])||function(I){if(typeof Symbol<"u"&&Symbol.iterator in Object(I))return Array.from(I)}(D)||It(D)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())});var Y=[];return R.forEach(function(k){var D=new br;k.hasOwnProperty(r.Z.ID)&&(D[r.Z.ID]=k[r.Z.ID],k.hasOwnProperty(r.Z.WALL_CLOCK_TIME)&&(D[r.Z.WALL_CLOCK_TIME]=k[r.Z.WALL_CLOCK_TIME],k.hasOwnProperty(r.Z.PRESENTATION_TIME)&&(D[r.Z.PRESENTATION_TIME]=k[r.Z.PRESENTATION_TIME],Y.push(D))))}),Y},getLanguageForAdaptation:function(p){var R="";return p&&p.hasOwnProperty(r.Z.LANG)&&(R=p.lang),R},getViewpointForAdaptation:function(p){return p&&p.hasOwnProperty(r.Z.VIEWPOINT)?p.Viewpoint:null},getRolesForAdaptation:function(p){return p&&p.hasOwnProperty(r.Z.ROLE_ASARRAY)?p.Role_asArray:[]},getAccessibilityForAdaptation:function(p){return p&&p.hasOwnProperty(r.Z.ACCESSIBILITY_ASARRAY)?p.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(p){return p&&p.hasOwnProperty(r.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)?p.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function(p){return p&&p.hasOwnProperty(r.Z.AUDIOCHANNELCONFIGURATION_ASARRAY)?p.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(p,R,Y){var k=Z(R,Y);return k.length>0&&m(p)?k[p]:null},getIndexForAdaptation:function(p,R,Y){if(!p)return-1;for(var k=Z(R,Y),D=0;D<k.length;D++)if(it(T).getInstance().areEqual(k[D],p))return D;return-1},getAdaptationForId:function(p,R,Y){var k,D,I=Z(R,Y);for(k=0,D=I.length;k<D;k++)if(I[k].hasOwnProperty(r.Z.ID)&&I[k].id===p)return I[k];return null},getAdaptationsForType:function(p,R,Y){var k,D,I=Z(p,R),J=[];for(k=0,D=I.length;k<D;k++)C(I[k],Y)&&J.push(q(I[k]));return J},getRealPeriods:ce,getRealPeriodForIndex:function(p,R){var Y=ce(R);return Y.length>0&&m(p)?Y[p]:null},getCodec:function(p,R,Y){var k=null;if(p&&p.Representation_asArray&&p.Representation_asArray.length>0){var D=m(R)&&R>=0&&R<p.Representation_asArray.length?p.Representation_asArray[R]:p.Representation_asArray[0];D&&(k=D.mimeType+';codecs="'+D.codecs+'"',Y&&D.width!==void 0&&(k+=';width="'+D.width+'";height="'+D.height+'"'))}return k&&(k=k.replace(/\sprofiles=[^;]*/g,"")),k},getSelectionPriority:function(p){try{var R=p&&p.selectionPriority!==void 0?parseInt(p.selectionPriority):1;return isNaN(R)?1:R}catch{return 1}},getMimeType:function(p){return p&&p.Representation_asArray&&p.Representation_asArray.length>0?p.Representation_asArray[0].mimeType:null},getKID:function(p){return p&&p.hasOwnProperty(r.Z.CENC_DEFAULT_KID)?p[r.Z.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(p){if(!p||!Array.isArray(p.Label_asArray))return[];for(var R=[],Y=0;Y<p.Label_asArray.length;Y++)R.push({lang:p.Label_asArray[Y].lang,text:p.Label_asArray[Y].__text||p.Label_asArray[Y]});return R},getContentProtectionData:function(p){return p&&p.hasOwnProperty(r.Z.CONTENTPROTECTION_ASARRAY)&&p.ContentProtection_asArray.length!==0?p.ContentProtection_asArray:null},getIsDynamic:re,getId:function(p){return p&&p[r.Z.ID]||null},hasProfile:function(p,R){var Y=!1;return p&&p.profiles&&p.profiles.length>0&&(Y=p.profiles.indexOf(R)!==-1),Y},getDuration:function(p){return p&&p.hasOwnProperty(r.Z.MEDIA_PRESENTATION_DURATION)?p.mediaPresentationDuration:p&&p.type=="dynamic"?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(p){return p&&p.bandwidth?p.bandwidth:NaN},getManifestUpdatePeriod:function(p){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Y=NaN;return p&&p.hasOwnProperty(r.Z.MINIMUM_UPDATE_PERIOD)&&(Y=p.minimumUpdatePeriod),isNaN(Y)?Y:Math.max(Y-R,1)},getPublishTime:function(p){return p&&p.hasOwnProperty(r.Z.PUBLISH_TIME)?new Date(p[r.Z.PUBLISH_TIME]):null},getRepresentationCount:function(p){return p&&Array.isArray(p.Representation_asArray)?p.Representation_asArray.length:0},getBitrateListForAdaptation:function(p){var R=q(p);return(R&&Array.isArray(R.Representation_asArray)?R.Representation_asArray:[]).map(function(Y){return{bandwidth:Y.bandwidth,width:Y.width||0,height:Y.height||0,scanType:Y.scanType||null,id:Y.id||null}})},getRepresentationFor:function(p,R){return R&&R.Representation_asArray&&R.Representation_asArray.length>0&&m(p)?R.Representation_asArray[p]:null},getRepresentationsForAdaptation:function(p){var R,Y,k,D,I=[],J=function(Oe){if(Oe&&Oe.period&&m(Oe.period.index)){var at=Oe.period.mpd.manifest.Period_asArray[Oe.period.index];if(at&&at.AdaptationSet_asArray&&m(Oe.index))return q(at.AdaptationSet_asArray[Oe.index])}}(p);if(J&&J.Representation_asArray){if(p&&p.period&&m(p.period.index)){var W=Q(p.period.mpd.manifest);W&&(Y=W[0])}for(var ne=0,H=J.Representation_asArray.length;ne<H;++ne){var X=J.Representation_asArray[ne],ge=new _n;if(ge.index=ne,ge.adaptation=p,X.hasOwnProperty(r.Z.ID)&&(ge.id=X.id),X.hasOwnProperty(r.Z.CODECS)&&(ge.codecs=X.codecs),X.hasOwnProperty(r.Z.MIME_TYPE)&&(ge.mimeType=X[r.Z.MIME_TYPE]),X.hasOwnProperty(r.Z.CODEC_PRIVATE_DATA)&&(ge.codecPrivateData=X.codecPrivateData),X.hasOwnProperty(r.Z.BANDWITH)&&(ge.bandwidth=X.bandwidth),X.hasOwnProperty(r.Z.WIDTH)&&(ge.width=X.width),X.hasOwnProperty(r.Z.HEIGHT)&&(ge.height=X.height),X.hasOwnProperty(r.Z.SCAN_TYPE)&&(ge.scanType=X.scanType),X.hasOwnProperty(r.Z.MAX_PLAYOUT_RATE)&&(ge.maxPlayoutRate=X.maxPlayoutRate),X.hasOwnProperty(r.Z.SEGMENT_BASE)?(R=X.SegmentBase,ge.segmentInfoType=r.Z.SEGMENT_BASE):X.hasOwnProperty(r.Z.SEGMENT_LIST)?(R=X.SegmentList).hasOwnProperty(r.Z.SEGMENT_TIMELINE)?ge.segmentInfoType=r.Z.SEGMENT_TIMELINE:ge.segmentInfoType=r.Z.SEGMENT_LIST:X.hasOwnProperty(r.Z.SEGMENT_TEMPLATE)?((R=X.SegmentTemplate).hasOwnProperty(r.Z.SEGMENT_TIMELINE)?ge.segmentInfoType=r.Z.SEGMENT_TIMELINE:ge.segmentInfoType=r.Z.SEGMENT_TEMPLATE,R.hasOwnProperty(r.Z.INITIALIZATION_MINUS)&&(ge.initialization=R.initialization.split("$Bandwidth$").join(X.bandwidth).split("$RepresentationID$").join(X.id))):ge.segmentInfoType=r.Z.BASE_URL,ge.essentialProperties=le(X),R){if(R.hasOwnProperty(r.Z.INITIALIZATION)){var Ue=R.Initialization;Ue.hasOwnProperty(r.Z.SOURCE_URL)&&(ge.initialization=Ue.sourceURL),Ue.hasOwnProperty(r.Z.RANGE)&&(ge.range=Ue.range)}else K(J)&&F(J)&&J.mimeType&&J.mimeType.indexOf("application/mp4")===-1&&(ge.range=0);R.hasOwnProperty(r.Z.TIMESCALE)&&(ge.timescale=R.timescale),R.hasOwnProperty(r.Z.DURATION)?ge.segmentDuration=R.duration/ge.timescale:X.hasOwnProperty(r.Z.SEGMENT_TEMPLATE)&&(R=X.SegmentTemplate).hasOwnProperty(r.Z.SEGMENT_TIMELINE)&&(ge.segmentDuration=de(R.SegmentTimeline)/ge.timescale),R.hasOwnProperty(r.Z.MEDIA)&&(ge.media=R.media),R.hasOwnProperty(r.Z.START_NUMBER)&&(ge.startNumber=R.startNumber),R.hasOwnProperty(r.Z.INDEX_RANGE)&&(ge.indexRange=R.indexRange),R.hasOwnProperty(r.Z.PRESENTATION_TIME_OFFSET)&&(ge.presentationTimeOffset=R.presentationTimeOffset/ge.timescale),R.hasOwnProperty(r.Z.AVAILABILITY_TIME_OFFSET)?ge.availabilityTimeOffset=R.availabilityTimeOffset:Y&&Y.availabilityTimeOffset!==void 0&&(ge.availabilityTimeOffset=Y.availabilityTimeOffset),R.hasOwnProperty(r.Z.AVAILABILITY_TIME_COMPLETE)?ge.availabilityTimeComplete=R.availabilityTimeComplete!=="false":Y&&Y.availabilityTimeComplete!==void 0&&(ge.availabilityTimeComplete=Y.availabilityTimeComplete)}ge.MSETimeOffset=(D=(k=ge).presentationTimeOffset,k.adaptation.period.start-D),ge.path=[p.period.index,p.index,ne],I.push(ge)}}return I},getAdaptationsForPeriod:function(p){var R,Y,k,D=p&&m(p.index)?p.mpd.manifest.Period_asArray[p.index]:null,I=[];if(D&&D.AdaptationSet_asArray)for(k=0;k<D.AdaptationSet_asArray.length;k++)Y=D.AdaptationSet_asArray[k],R=new Hn,Y.hasOwnProperty(r.Z.ID)&&(R.id=Y.id),R.index=k,R.period=p,C(Y,t.Z.MUXED)?R.type=t.Z.MUXED:C(Y,t.Z.AUDIO)?R.type=t.Z.AUDIO:j(Y)?R.type=t.Z.VIDEO:K(Y)?R.type=t.Z.TEXT:O(Y)?R.type=t.Z.IMAGE:i.warn("Unknown Adaptation stream type"),I.push(R);return I},getRegularPeriods:function(p){var R,Y,k=!!p&&re(p.manifest),D=[],I=null,J=null,W=null,ne=null;for(Y=0,R=p&&p.manifest&&p.manifest.Period_asArray?p.manifest.Period_asArray.length:0;Y<R;Y++)(J=p.manifest.Period_asArray[Y]).hasOwnProperty(r.Z.START)?(ne=new Vn).start=J.start:I!==null&&I.hasOwnProperty(r.Z.DURATION)&&W!==null?(ne=new Vn).start=parseFloat((W.start+W.duration).toFixed(5)):Y!==0||k||((ne=new Vn).start=0),W!==null&&isNaN(W.duration)&&(ne!==null?W.duration=parseFloat((ne.start-W.start).toFixed(5)):i.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),ne!==null&&(ne.id=U(J,Y),ne.index=Y,ne.mpd=p,J.hasOwnProperty(r.Z.DURATION)&&(ne.duration=J.duration),W&&(W.nextPeriodId=ne.id),D.push(ne),I=J,W=ne),J=null,ne=null;return D.length===0||W!==null&&isNaN(W.duration)&&(W.duration=parseFloat((function(H){(function(){if(!c||!c.hasOwnProperty("error"))throw new Error(t.Z.MISSING_CONFIG_ERROR)})();var X,ge=re(H.mpd.manifest);return H.mpd.manifest.mediaPresentationDuration?X=H.mpd.manifest.mediaPresentationDuration:H.duration?X=H.duration:ge?X=Number.POSITIVE_INFINITY:c.error(new V.Z(ae.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",H)),X}(W)-W.start).toFixed(5))),D},getMpd:function(p){var R=new Kn;return p&&(R.manifest=p,p.hasOwnProperty(r.Z.AVAILABILITY_START_TIME)?R.availabilityStartTime=new Date(p.availabilityStartTime.getTime()):p.loadedTime&&(R.availabilityStartTime=new Date(p.loadedTime.getTime())),p.hasOwnProperty(r.Z.AVAILABILITY_END_TIME)&&(R.availabilityEndTime=new Date(p.availabilityEndTime.getTime())),p.hasOwnProperty(r.Z.MINIMUM_UPDATE_PERIOD)&&(R.minimumUpdatePeriod=p.minimumUpdatePeriod),p.hasOwnProperty(r.Z.MEDIA_PRESENTATION_DURATION)&&(R.mediaPresentationDuration=p.mediaPresentationDuration),p.hasOwnProperty(r.Z.SUGGESTED_PRESENTATION_DELAY)&&(R.suggestedPresentationDelay=p.suggestedPresentationDelay),p.hasOwnProperty(r.Z.TIMESHIFT_BUFFER_DEPTH)&&(R.timeShiftBufferDepth=p.timeShiftBufferDepth),p.hasOwnProperty(r.Z.MAX_SEGMENT_DURATION)&&(R.maxSegmentDuration=p.maxSegmentDuration),p.hasOwnProperty(r.Z.PUBLISH_TIME)&&(R.publishTime=new Date(p.publishTime))),R},getEventsForPeriod:function(p){var R,Y,k=p&&p.mpd&&p.mpd.manifest?p.mpd.manifest:null,D=k?k.Period_asArray:null,I=D&&p&&m(p.index)?D[p.index].EventStream_asArray:null,J=[];if(I)for(R=0;R<I.length;R++){var W=new $n;if(W.period=p,W.timescale=1,!I[R].hasOwnProperty(t.Z.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(W.schemeIdUri=I[R][t.Z.SCHEME_ID_URI],I[R].hasOwnProperty(r.Z.TIMESCALE)&&(W.timescale=I[R][r.Z.TIMESCALE]),I[R].hasOwnProperty(r.Z.VALUE)&&(W.value=I[R][r.Z.VALUE]),I[R].hasOwnProperty(r.Z.PRESENTATION_TIME_OFFSET)&&(W.presentationTimeOffset=I[R][r.Z.PRESENTATION_TIME_OFFSET]),Y=0;I[R].Event_asArray&&Y<I[R].Event_asArray.length;Y++){var ne=I[R].Event_asArray[Y],H=new Xn;H.presentationTime=0,H.eventStream=W,ne.hasOwnProperty(r.Z.PRESENTATION_TIME)&&(H.presentationTime=ne.presentationTime);var X=W.presentationTimeOffset?W.presentationTimeOffset/W.timescale:0;H.calculatedPresentationTime=H.presentationTime/W.timescale+p.start-X,ne.hasOwnProperty(r.Z.DURATION)&&(H.duration=ne.duration/W.timescale),ne.hasOwnProperty(r.Z.ID)?H.id=ne.id:H.id=null,ne.Signal&&ne.Signal.Binary?H.messageData=E.decodeArray(ne.Signal.Binary.toString()):H.messageData=ne.messageData||ne.__cdata||ne.__text,J.push(H)}}return J},getEssentialPropertiesForRepresentation:le,getEventStreamForAdaptationSet:function(p,R,Y){var k,D,I;return p&&p.Period_asArray&&R&&R.period&&m(R.period.index)&&(D=p.Period_asArray[R.period.index])&&D.AdaptationSet_asArray&&m(R.index)&&(I=D.AdaptationSet_asArray[R.index])&&(k=I.InbandEventStream_asArray),oe(k,null,Y)},getEventStreamForRepresentation:function(p,R,Y){var k,D,I,J;return p&&p.Period_asArray&&R&&R.adaptation&&R.adaptation.period&&m(R.adaptation.period.index)&&(D=p.Period_asArray[R.adaptation.period.index])&&D.AdaptationSet_asArray&&m(R.adaptation.index)&&(I=D.AdaptationSet_asArray[R.adaptation.index])&&I.Representation_asArray&&m(R.index)&&(J=I.Representation_asArray[R.index])&&(k=J.InbandEventStream_asArray),oe(k,R,Y)},getUTCTimingSources:function(p){var R=re(p),Y=!!p&&p.hasOwnProperty(r.Z.AVAILABILITY_START_TIME),k=p?p.UTCTiming_asArray:null,D=[];return(R||Y)&&k&&k.forEach(function(I){var J=new Wn.Z;I.hasOwnProperty(t.Z.SCHEME_ID_URI)&&(J.schemeIdUri=I.schemeIdUri,I.hasOwnProperty(r.Z.VALUE)&&(J.value=I.value.toString(),D.push(J)))}),D},getBaseURLsFromElement:Q,getRepresentationSortFunction:function(){return function(p,R){return p.bandwidth-R.bandwidth}},getContentSteering:function(p){if(p&&p.hasOwnProperty(r.Z.CONTENT_STEERING_AS_ARRAY)){var R=p[r.Z.CONTENT_STEERING_AS_ARRAY][0],Y=new Et;return Y.serverUrl=R.__text,R.hasOwnProperty(r.Z.DEFAULT_SERVICE_LOCATION)&&(Y.defaultServiceLocation=R[r.Z.DEFAULT_SERVICE_LOCATION]),R.hasOwnProperty(r.Z.QUERY_BEFORE_START)&&(Y.queryBeforeStart=R[r.Z.QUERY_BEFORE_START].toLowerCase()==="true"),R.hasOwnProperty(r.Z.PROXY_SERVER_URL)&&(Y.proxyServerUrl=R[r.Z.PROXY_SERVER_URL]),Y}},getLocation:function(p){if(p&&p.hasOwnProperty(t.Z.LOCATION))return p.Location=p.Location_asArray[0],p.Location},getPatchLocation:function(p){if(p&&p.hasOwnProperty(r.Z.PATCH_LOCATION))return p.PatchLocation=p.PatchLocation_asArray[0],p.PatchLocation},getSuggestedPresentationDelay:function(p){return p&&p.hasOwnProperty(r.Z.SUGGESTED_PRESENTATION_DELAY)?p.suggestedPresentationDelay:null},getAvailabilityStartTime:function(p){return p&&p.hasOwnProperty(r.Z.AVAILABILITY_START_TIME)&&p.availabilityStartTime!==null?p.availabilityStartTime.getTime():null},getServiceDescriptions:function(p){var R=[];if(p&&p.hasOwnProperty(r.Z.SERVICE_DESCRIPTION)){var Y,k=Xe(p.ServiceDescription_asArray);try{for(k.s();!(Y=k.n()).done;){var D=Y.value,I=null,J=null,W=null,ne=null,H=null,X=null;for(var ge in D)D.hasOwnProperty(ge)&&(ge===r.Z.ID?I=D[ge]:ge===r.Z.SERVICE_DESCRIPTION_SCOPE?J=D[ge].schemeIdUri:ge===r.Z.SERVICE_DESCRIPTION_LATENCY?W={target:parseInt(D[ge].target),max:parseInt(D[ge].max),min:parseInt(D[ge].min),referenceId:parseInt(D[ge].referenceId)}:ge===r.Z.SERVICE_DESCRIPTION_PLAYBACK_RATE?ne={max:parseFloat(D[ge].max),min:parseFloat(D[ge].min)}:ge===r.Z.SERVICE_DESCRIPTION_OPERATING_QUALITY?H={mediaType:D[ge].mediaType,max:parseInt(D[ge].max),min:parseInt(D[ge].min),target:parseInt(D[ge].target),type:D[ge].type,maxQualityDifference:parseInt(D[ge].maxQualityDifference)}:ge===r.Z.SERVICE_DESCRIPTION_OPERATING_BANDWIDTH&&(X={mediaType:D[ge].mediaType,max:parseInt(D[ge].max),min:parseInt(D[ge].min),target:parseInt(D[ge].target)}));R.push({id:I,schemeIdUri:J,latency:W,playbackRate:ne,operatingQuality:H,operatingBandwidth:X})}}catch(Ue){k.e(Ue)}finally{k.f()}}return R},getSupplementalProperties:function(p){var R={};if(p&&p.hasOwnProperty(r.Z.SUPPLEMENTAL_PROPERTY)){var Y,k=Xe(p.SupplementalProperty_asArray);try{for(k.s();!(Y=k.n()).done;){var D=Y.value;D.hasOwnProperty(t.Z.SCHEME_ID_URI)&&D.hasOwnProperty(r.Z.VALUE)&&(R[D[t.Z.SCHEME_ID_URI]]=D[r.Z.VALUE])}}catch(I){k.e(I)}finally{k.f()}}return R},setConfig:function(p){p&&(p.errHandler&&(c=p.errHandler),p.BASE64&&(E=p.BASE64))}},i=(0,w.Z)(T).getInstance().getLogger(o),o}Zt.__dashjs_factory_name="DashManifestModel";const Bt=h.Z.getSingletonFactory(Zt);var Nt=L(703);function lt(o,i){var c;if(typeof Symbol>"u"||o[Symbol.iterator]==null){if(Array.isArray(o)||(c=function(F,j){if(F){if(typeof F=="string")return xt(F,j);var K=Object.prototype.toString.call(F).slice(8,-1);return K==="Object"&&F.constructor&&(K=F.constructor.name),K==="Map"||K==="Set"?Array.from(F):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?xt(F,j):void 0}}(o))||i&&o&&typeof o.length=="number"){c&&(o=c);var E=0,T=function(){};return{s:T,n:function(){return E>=o.length?{done:!0}:{done:!1,value:o[E++]}},e:function(F){throw F},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,m=!0,C=!1;return{s:function(){c=o[Symbol.iterator]()},n:function(){var F=c.next();return m=F.done,F},e:function(F){C=!0,_=F},f:function(){try{m||c.return==null||c.return()}finally{if(C)throw _}}}}function xt(o,i){(i==null||i>o.length)&&(i=o.length);for(var c=0,E=new Array(i);c<i;c++)E[c]=o[c];return E}function Pt(){var o,i,c,E,T,_,m,C,F,j,K=this.context,O=(0,g.Z)(K).getInstance(),q=(0,pt.Z)(K).getInstance();function Z(){c={pr:1,nor:null,st:null,sf:null,sid:"".concat(Nt.Z.generateUuid()),cid:null},F={},C={},j={},re()}function ce(){re()}function re(){if(_){var I=_.getStreamController();if(I&&typeof I.getActiveStream=="function"){var J=I.getActiveStream();J&&(m=J.getProcessors())}}}function le(I,J){var W,ne={},H=lt(J);try{for(H.s();!(W=H.n()).done;){var X=W.value;I[X]&&(ne[X]=I[X])}}catch(ge){H.e(ge)}finally{H.f()}return ne}function de(I){var J=q.get().streaming.cmcd.enabledKeys;return I.filter(function(W){return J.includes(W)})}function U(I){try{return I.type===Te.w.MPD_TYPE?((W=oe()).ot="m",W):I.type===Te.w.MEDIA_SEGMENT_TYPE?(J=I.mediaType,j.hasOwnProperty(J)||(j[J]=!1),C.hasOwnProperty(J)||(C[J]=!1),F.hasOwnProperty(J)||(F[J]=!1),function(ne){var H,X=oe(),ge=function(At){try{var Ce=At.quality,ee=At.mediaInfo.bitrateList;return parseInt(ee[Ce].bandwidth/1e3)}catch{return null}}(ne),Ue=function(At){try{return isNaN(At.duration)?null:Math.round(1e3*At.duration)}catch{return null}}(ne),Oe=function(At){try{return 100*parseInt(E.getThroughputHistory().getSafeAverageThroughput(At)/100)}catch{return null}}(ne.mediaType),at=function(At){try{var Ce=c.pr,ee=T.getCurrentBufferLevel(At);return isNaN(Ce)||isNaN(ee)?null:100*parseInt(ee/Ce*10)}catch{return null}}(ne.mediaType),Ae=Q(ne.mediaType),Ne=function(At){try{var Ce=E.getTopBitrateInfoFor(At);return Math.round(Ce.bitrate/1e3)}catch{return null}}(ne.mediaType),ht=c.pr,et=function(At){if(m&&m.length!==0){var Ce,ee=lt(m);try{for(ee.s();!(Ce=ee.n()).done;){var ve=Ce.value;if(ve.getType()===At)return ve.probeNextRequest()}}catch(Ee){ee.e(Ee)}finally{ee.f()}}}(ne.mediaType);ne.mediaType===t.Z.VIDEO&&(H="v"),ne.mediaType===t.Z.AUDIO&&(H="a"),ne.mediaType===t.Z.TEXT&&(H=ne.mediaInfo.mimeType==="application/mp4"?"tt":"c");var mt=q.get().streaming.cmcd.rtp;return mt||(mt=function(At){var Ce=_.getPlaybackRate();Ce||(Ce=1);var ee=At.quality,ve=At.mediaType,Ee=At.mediaInfo,Ie=At.duration,Je=Q(ve);Je===0&&(Je=500);var Ge=Ee.bitrateList[ee].bandwidth*Ie/1e3/(Je/Ce/1e3),je=q.get().streaming.cmcd.rtpSafetyFactor&&!isNaN(q.get().streaming.cmcd.rtpSafetyFactor)?q.get().streaming.cmcd.rtpSafetyFactor:5;return 100*(parseInt(Ge*je/100)+1)}(ne)),X.rtp=mt,et&&(ne.url!==et.url?X.nor=encodeURIComponent(Nt.Z.getRelativeUrl(ne.url,et.url)):et.range&&(X.nrr=et.range)),ge&&(X.br=ge),H&&(X.ot=H),isNaN(Ue)||(X.d=Ue),isNaN(Oe)||(X.mtp=Oe),isNaN(at)||(X.dl=at),isNaN(Ae)||(X.bl=Ae),isNaN(Ne)||(X.tb=Ne),isNaN(ht)||ht===1||(X.pr=ht),F[ne.mediaType]&&(X.bs=!0,F[ne.mediaType]=!1),!C[ne.mediaType]&&j[ne.mediaType]||(X.su=!0,C[ne.mediaType]=!1,j[ne.mediaType]=!0),X}(I)):I.type===Te.w.INIT_SEGMENT_TYPE?function(){var ne=oe();return ne.ot="i",ne.su=!0,ne}():I.type===Te.w.OTHER_TYPE||I.type===Te.w.XLINK_EXPANSION_TYPE?function(){var ne=oe();return ne.ot="o",ne}():I.type===Te.w.LICENSE?function(ne){var H=oe();return H.ot="k",H}():null}catch{return null}var J,W}function oe(){var I={},J=q.get().streaming.cmcd.cid?q.get().streaming.cmcd.cid:c.cid;return I.v=1,I.sid=q.get().streaming.cmcd.sid?q.get().streaming.cmcd.sid:c.sid,I.sid="".concat(I.sid),J&&(I.cid="".concat(J)),isNaN(c.pr)||c.pr===1||c.pr===null||(I.pr=c.pr),c.st&&(I.st=c.st),c.sf&&(I.sf=c.sf),I}function Q(I){try{var J=T.getCurrentBufferLevel(I);return isNaN(J)?null:100*parseInt(10*J)}catch{return null}}function p(I){try{c.pr=I.playbackRate}catch{}}function R(I){try{var J=o.getIsDynamic(I.data)?"l":"v",W=I.protocol&&I.protocol==="MSS"?"s":"d";c.st="".concat(J),c.sf="".concat(W)}catch{}}function Y(I){try{I.state&&I.mediaType&&I.state===e.Z.BUFFER_EMPTY&&(F[I.mediaType]||(F[I.mediaType]=!0),C[I.mediaType]||(C[I.mediaType]=!0))}catch{}}function k(){for(var I in F)F.hasOwnProperty(I)&&(F[I]=!0);for(var J in C)C.hasOwnProperty(J)&&(C[J]=!0)}function D(I){try{if(!I)return null;var J=Object.keys(I).sort(function(H,X){return H.localeCompare(X)}),W=J.length,ne=J.reduce(function(H,X,ge){return X==="v"&&I[X]===1||(typeof I[X]=="string"&&X!=="ot"&&X!=="sf"&&X!=="st"?H+="".concat(X,"=").concat(JSON.stringify(I[X])):H+="".concat(X,"=").concat(I[X]),ge<W-1&&(H+=",")),H},"");return(ne=ne.replace(/=true/g,"")).replace(/,\s*$/,"")}catch{return null}}return i={getQueryParameter:function(I){try{if(q.get().streaming.cmcd&&q.get().streaming.cmcd.enabled){var J=U(I),W=function(H){try{var X=q.get().streaming.cmcd.enabledKeys;return Object.keys(H).filter(function(ge){return X.includes(ge)}).reduce(function(ge,Ue){return ge[Ue]=H[Ue],ge},{})}catch{return H}}(J),ne=D(W);return O.trigger(On.Z.CMCD_DATA_GENERATED,{url:I.url,mediaType:I.mediaType,cmcdData:J,cmcdString:ne}),{key:"CMCD",value:ne}}return null}catch{return null}},getHeaderParameters:function(I){try{if(q.get().streaming.cmcd&&q.get().streaming.cmcd.enabled){var J=U(I),W=le(J,de(["br","d","ot","tb"])),ne=le(J,de(["bl","dl","mtp","nor","nrr","su"])),H=le(J,de(["bs","rtp"])),X=le(J,de(["cid","pr","sf","sid","st","v"])),ge={"CMCD-Object":D(W),"CMCD-Request":D(ne),"CMCD-Status":D(H),"CMCD-Session":D(X)};return O.trigger(On.Z.CMCD_DATA_GENERATED,{url:I.url,mediaType:I.mediaType,cmcdData:J,headers:ge}),ge}return null}catch{return null}},setConfig:function(I){I&&(I.abrController&&(E=I.abrController),I.dashMetrics&&(T=I.dashMetrics),I.playbackController&&(_=I.playbackController))},reset:function(){O.off(e.Z.PLAYBACK_RATE_CHANGED,p,this),O.off(e.Z.MANIFEST_LOADED,R,this),O.off(e.Z.BUFFER_LEVEL_STATE_CHANGED,Y,i),O.off(e.Z.PLAYBACK_SEEKED,k,i),Z()},initialize:function(){O.on(e.Z.PLAYBACK_RATE_CHANGED,p,i),O.on(e.Z.MANIFEST_LOADED,R,i),O.on(e.Z.BUFFER_LEVEL_STATE_CHANGED,Y,i),O.on(e.Z.PLAYBACK_SEEKED,k,i),O.on(e.Z.PERIOD_SWITCH_COMPLETED,ce,i)}},o=Bt(K).getInstance(),Z(),i}Pt.__dashjs_factory_name="CmcdModel";const Wt=h.Z.getSingletonFactory(Pt);function on(o){return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},on(o)}function mn(o,i){mn=function(C,F){return new _(C,void 0,F)};var c=gt(RegExp),E=RegExp.prototype,T=new WeakMap;function _(C,F,j){var K=c.call(this,C,F);return T.set(K,j||T.get(C)),K}function m(C,F){var j=T.get(F);return Object.keys(j).reduce(function(K,O){return K[O]=C[j[O]],K},Object.create(null))}return Vt(_,c),_.prototype.exec=function(C){var F=E.exec.call(this,C);return F&&(F.groups=m(F,this)),F},_.prototype[Symbol.replace]=function(C,F){if(typeof F=="string"){var j=T.get(this);return E[Symbol.replace].call(this,C,F.replace(/\$<([^>]+)>/g,function(O,q){return"$"+j[q]}))}if(typeof F=="function"){var K=this;return E[Symbol.replace].call(this,C,function(){var O=[];return O.push.apply(O,arguments),on(O[O.length-1])!=="object"&&O.push(m(O,K)),F.apply(this,O)})}return E[Symbol.replace].call(this,C,F)},mn.apply(this,arguments)}function Vt(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),i&&zt(o,i)}function gt(o){var i=typeof Map=="function"?new Map:void 0;return gt=function(c){if(c===null||(E=c,Function.toString.call(E).indexOf("[native code]")===-1))return c;var E;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(i!==void 0){if(i.has(c))return i.get(c);i.set(c,T)}function T(){return yt(c,arguments,Xt(this).constructor)}return T.prototype=Object.create(c.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),zt(T,c)},gt(o)}function yt(o,i,c){return yt=Ct()?Reflect.construct:function(E,T,_){var m=[null];m.push.apply(m,T);var C=new(Function.bind.apply(E,m));return _&&zt(C,_.prototype),C},yt.apply(null,arguments)}function Ct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zt(o,i){return zt=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},zt(o,i)}function Xt(o){return Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},Xt(o)}var fn="static",hn="dynamic",Bn="cmsd-",jn=Bn+fn,Nn=Bn+hn,Pn="stream",kn=["mb","st","sf","v"],Yn={video:"v",audio:"a",text:"tt",stream:Pn},Er=/^[-0-9]/;function cr(){var o,i,c,E,T=this.context,_=(0,g.Z)(T).getInstance();function m(){c={},E={}}function C(Z){Z&&Object.keys(Z).forEach(function(ce){kn.includes(ce)||delete Z[ce]})}function F(Z){return!Z||Z.toLowerCase()!=="false"&&(Er.test(Z)?parseInt(Z,10):Z.replace(/["]+/g,""))}function j(Z){try{for(var ce={},re=Z.split(","),le=0;le<re.length;le++){var de=re[le].split("="),U=de[0],oe=F(de[1]);ce[U]=oe}return ce}catch(Q){i.error("Failed to parse CMSD-Static response header value:",Q)}}function K(Z){try{for(var ce={},re=Z.split(","),le=re[re.length-1].split(";"),de=1;de<le.length;de++){var U=le[de].split("="),oe=U[0],Q=F(U[1]);ce[oe]=Q}return ce}catch(p){return i.error("Failed to parse CMSD-Dynamic response header value:",p),[]}}function O(Z){return Yn[Z]||"o"}function q(Z,ce,re){var le=Z===fn?c:E,de=le[ce]||{},U=le[Pn]||{};return de[re]||U[re]}return o={setConfig:function(){},initialize:function(){},reset:function(){m()},parseResponseHeaders:function(Z,ce){for(var re=null,le=null,de=Z.split(`\r
`),U=de.length-1;U>=0;U--){var oe=de[U].match(mn(/^((?:(?!:)[\s\S])*):[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(.*)$/,{key:1,value:2}));if(oe&&oe.groups){var Q=oe.groups.key.toLowerCase(),p=oe.groups.value;switch(Q){case jn:re=j(p),_.trigger(u.Z.CMSD_STATIC_HEADER,re);break;case Nn:le||(le=K(p))}}}var R=Pn;return re&&re.ot?R=re.ot:ce&&(R=O(ce)),C(c[R]),C(E[R]),re&&(c[R]=Object.assign(c[R]||{},re)),le&&(E[R]=Object.assign(E[R]||{},le)),{static:re,dynamic:le}},getMaxBitrate:function(Z){var ce=O(Z);return q(hn,ce,"mb")||-1},getEstimatedThroughput:function(Z){var ce=O(Z);return q(hn,ce,"etp")||null},getResponseDelay:function(Z){var ce=O(Z);return q(hn,ce,"rd")||null},getRoundTripTime:function(Z){var ce=O(Z);return q(hn,ce,"rtt")||null}},i=(0,w.Z)(T).getInstance().getLogger(o),m(),o}cr.__dashjs_factory_name="CmsdModel";const rr=h.Z.getSingletonFactory(cr);function Gn(){var o,i,c=this.context,E={};function T(){i=(0,w.Z)(c).getInstance().getLogger(o)}function _(C){for(var F={},j=0,K=0,O=0,q=0,Z=C.length,ce=0;ce<Z;++ce)j+=C[ce].chunkDownloadTimeRelativeMS,K+=C[ce].bufferLevel,O+=C[ce].chunkDownloadTimeRelativeMS*C[ce].bufferLevel,q+=C[ce].chunkDownloadTimeRelativeMS*C[ce].chunkDownloadTimeRelativeMS;return F.m=(O-j*K/Z)/(q-j*j/Z),F.b=K/Z-F.m*j/Z,function(re){return F.m*re+F.b}}function m(C){var F,j=!0,K=C.reduce(function(O,q){return O+q.bufferLevelAtSegmentEnd},0)/C.length;return C.forEach(function(O){Math.abs(O.bufferLevelAtSegmentEnd/O.bufferLevelAtSegmentStart)<.95&&(j=!1),O.bufferLevelAtSegmentEnd/K<.8&&(j=!1),F?F>O.bitrate&&(j=!1):F=O.bitrate}),j}return o={setup:T,addMeasurement:function(C,F,j,K,O){C&&C.mediaType&&!E[C.mediaType]&&(E[C.mediaType]=[]);var q=C.mediaInfo.bitrateList.find(function(Z){return Z.id===C.representationId});E[C.mediaType].push({index:C.index,repId:C.representationId,mediaType:C.mediaType,requestTimeMS:K,adjustedAvailabilityStartTimeMS:C.availabilityStartTime.getTime(),segDurationMS:1e3*C.duration,chunksDurationMS:j.reduce(function(Z,ce){return Z+ce.chunkDownloadDurationMS},0),segmentBytes:j.reduce(function(Z,ce){return Z+ce.chunkBytes},0),bitrate:q&&q.bandwidth,bitrateList:C.mediaInfo.bitrateList,chunkMeasurements:j,fetchDownloadDurationMS:F,throughputCapacityDelayMS:O,getEstimatedBufferLevel:_(j.slice(1))}),E[C.mediaType].length>10&&E[C.mediaType].shift()},getThroughputCapacityDelayMS:function(C,F){var j=E[C.mediaType]&&E[C.mediaType].slice(-3);return!j||j.length<3?0:m(j)?F/4>250?250:F/4:0},getEstimatedDownloadDurationMS:function(C){var F=E[C.mediaType].slice(-1).pop(),j=E[C.mediaType].slice(-3),K=F.chunkMeasurements.slice(-1).pop().chunkDownloadTimeRelativeMS;F.bufferLevelAtSegmentStart=F.getEstimatedBufferLevel(K/2),F.bufferLevelAtSegmentEnd=F.getEstimatedBufferLevel(K);var O=m(j),q=O?.6:.8;if(F.isBufferStable&&1.05*F.segDurationMS<F.fetchDownloadDurationMS)return F.fetchDownloadDurationMS;if(!O||F.segDurationMS<F.fetchDownloadDurationMS||F.adjustedAvailabilityStartTimeMS<=F.requestTimeMS+F.throughputCapacityDelayMS-F.segDurationMS)return .8*F.fetchDownloadDurationMS;for(var Z=F.requestTimeMS+F.throughputCapacityDelayMS-F.adjustedAvailabilityStartTimeMS,ce=0,re=0,le=0,de=0;de<F.chunkMeasurements.length;de++){var U=F.chunkMeasurements[de];if(Z<re+U.chunkDownloadDurationMS)break;re+=U.chunkDownloadDurationMS,ce+=U.chunkBytes,le++}if(Z<0&&i.warn("request time was before adjusted availibitly start time"),ce&&re&&le>.2*F.chunkMeasurements.length){var oe=ce/re,Q=F.segmentBytes/oe;return F.fetchDownloadDurationMS<Q?F.fetchDownloadDurationMS*q:Q*q}var p=F.bitrate;return F.bitrateList.some(function(R){if(R.bandwidth>F.bitrate)return p=R.bandwidth,!0}),p===F.bitrate?F.fetchDownloadDurationMS*q:q*F.segmentBytes*8*1e3/p}},T(),o}Gn.__dashjs_factory_name="LowLatencyThroughputModel";const Kr=h.Z.getSingletonFactory(Gn);var xr=L(5717);function ur(o,i,c){return i in o?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c,o}function Fr(o){o=o||{};var i,c,E,T,_,m,C,F,j,K,O,q=this.context,Z=o.errHandler,ce=o.dashMetrics,re=o.mediaPlayerModel,le=o.requestModifier,de=o.boxParser,U=o.errors,oe=o.requestTimeout||0,Q=(0,g.Z)(q).getInstance(),p=(0,pt.Z)(q).getInstance();function R(Y,k){var D,I=Y.request,J=[],W=!0,ne=!0,H=new Date,X=H,ge=0,Ue=null;if(!le||!ce||!Z)throw new Error("config object is not correct or missing");var Oe,at=function(Ee){if(ne=!1,I.requestStartDate=H,I.requestEndDate=new Date,I.firstByteDate=I.firstByteDate||H,I.fileLoaderType=Ue,!I.checkExistenceOnly){var Ie=D.response?D.response.responseURL:null,Je=D.response?D.response.status:null,Ge=D.response&&D.response.getAllResponseHeaders?D.response.getAllResponseHeaders():D.response?D.response.responseHeaders:null,je=p.get().streaming.cmsd&&p.get().streaming.cmsd.enabled?C.parseResponseHeaders(Ge,I.mediaType):null;ce.addHttpRequest(I,Ie,Je,Ge,Ee?J:null,je),I.type===Te.w.MPD_TYPE&&ce.addManifestUpdate(I)}},Ae=function(){if(c.indexOf(D)!==-1&&(c.splice(c.indexOf(D),1),ne))if(at(!1),k>0){try{p.get().streaming.utcSynchronization.enableBackgroundSyncAfterSegmentDownloadError&&I.type===Te.w.MEDIA_SEGMENT_TYPE&&re.getRetryAttemptsForType(Te.w.MEDIA_SEGMENT_TYPE)===k&&Q.trigger(u.Z.ATTEMPT_BACKGROUND_SYNC)}catch{}k--;var Ee={config:Y};T.push(Ee),Ee.timeout=setTimeout(function(){T.indexOf(Ee)!==-1&&(T.splice(T.indexOf(Ee),1),R(Y,k))},re.getRetryIntervalsForType(I.type))}else{if(I.type===Te.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE)return;Z.error(new V.Z(_[I.type],I.url+" is not available",{request:I,response:D.response})),Y.error&&Y.error(I,"error",D.response.statusText),Y.complete&&Y.complete(I,D.response.statusText)}};I.hasOwnProperty("availabilityTimeComplete")&&I.availabilityTimeComplete===!1&&window.fetch&&I.responseType==="arraybuffer"&&I.type===Te.w.MEDIA_SEGMENT_TYPE?((Oe=bn(q).create({requestModifier:le,lowLatencyThroughputModel:j,boxParser:de})).setup({dashMetrics:ce}),Ue=t.Z.FILE_LOADER_TYPES.FETCH):(Oe=(0,qt.Z)(q).create({requestModifier:le}),Ue=t.Z.FILE_LOADER_TYPES.XHR);var Ne=null,ht=le.modifyRequestURL?le.modifyRequestURL(I.url):I.url;if(p.get().streaming.cmcd&&p.get().streaming.cmcd.enabled){var et=p.get().streaming.cmcd.mode;if(et===t.Z.CMCD_MODE_QUERY){var mt=function(Ee){try{var Ie=[],Je=m.getQueryParameter(Ee);return Je&&Ie.push(Je),Ie}catch{return[]}}(I);ht=Nt.Z.addAditionalQueryParameterToUrl(ht,mt)}else et===t.Z.CMCD_MODE_HEADER&&(Ne=m.getHeaderParameters(I))}I.url=ht;var At=I.checkExistenceOnly?Te.w.HEAD:Te.w.GET,Ce=F.getXHRWithCredentialsForType(I.type);D={url:ht,method:At,withCredentials:Ce,request:I,onload:function(){D.response.status>=200&&D.response.status<=299&&(at(!0),Y.success&&Y.success(D.response.response,D.response.statusText,D.response.responseURL),Y.complete&&Y.complete(I,D.response.statusText))},onend:Ae,onerror:Ae,progress:function(Ee){var Ie=new Date;W&&(W=!1,(!Ee.lengthComputable||Ee.lengthComputable&&Ee.total!==Ee.loaded)&&(I.firstByteDate=Ie)),Ee.lengthComputable&&(I.bytesLoaded=Ee.loaded,I.bytesTotal=Ee.total),Ee.noTrace||(J.push({s:X,d:Ee.time?Ee.time:Ie.getTime()-X.getTime(),b:[Ee.loaded?Ee.loaded-ge:0]}),X=Ie,ge=Ee.loaded),Y.progress&&Ee&&Y.progress(Ee)},onabort:function(){Y.abort&&Y.abort(I)},ontimeout:function(Ee){var Ie;if(Ee.lengthComputable){var Je=Ee.loaded/Ee.total*100;Ie="Request timeout: loaded: "+Ee.loaded+", out of: "+Ee.total+" : "+Je.toFixed(3)+"% Completed"}else Ie="Request timeout: non-computable download size";K.warn(Ie)},loader:Oe,timeout:oe,headers:Ne};var ee=new Date().getTime();if(isNaN(I.delayLoadingTime)||ee>=I.delayLoadingTime)c.push(D),Oe.load(D);else{var ve={httpRequest:D};E.push(ve),ve.delayTimeout=setTimeout(function(){if(E.indexOf(ve)!==-1){E.splice(E.indexOf(ve),1);try{H=new Date,X=H,c.push(ve.httpRequest),Oe.load(ve.httpRequest)}catch{ve.httpRequest.onerror()}}},I.delayLoadingTime-ee)}}return i={load:function(Y){Y.request?R(Y,re.getRetryAttemptsForType(Y.request.type)):Y.error&&Y.error(Y.request,"error")},abort:function(){T.forEach(function(Y){clearTimeout(Y.timeout),Y.config.request&&Y.config.abort&&Y.config.abort(Y.config.request)}),T=[],E.forEach(function(Y){return clearTimeout(Y.delayTimeout)}),E=[],c.forEach(function(Y){Y.request.type!==Te.w.MSS_FRAGMENT_INFO_SEGMENT_TYPE&&(Y.onloadend=Y.onerror=Y.onprogress=void 0,Y.loader.abort(Y))}),c=[]}},K=(0,w.Z)(q).getInstance().getLogger(i),c=[],E=[],T=[],m=Wt(q).getInstance(),C=rr(q).getInstance(),j=Kr(q).getInstance(),F=(0,xr.Z)(q).getInstance(),ur(O={},Te.w.MPD_TYPE,U.DOWNLOAD_ERROR_ID_MANIFEST_CODE),ur(O,Te.w.XLINK_EXPANSION_TYPE,U.DOWNLOAD_ERROR_ID_XLINK_CODE),ur(O,Te.w.INIT_SEGMENT_TYPE,U.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),ur(O,Te.w.MEDIA_SEGMENT_TYPE,U.DOWNLOAD_ERROR_ID_CONTENT_CODE),ur(O,Te.w.INDEX_SEGMENT_TYPE,U.DOWNLOAD_ERROR_ID_CONTENT_CODE),ur(O,Te.w.BITSTREAM_SWITCHING_SEGMENT_TYPE,U.DOWNLOAD_ERROR_ID_CONTENT_CODE),ur(O,Te.w.OTHER_TYPE,U.DOWNLOAD_ERROR_ID_CONTENT_CODE),_=O,i}Fr.__dashjs_factory_name="HTTPLoader";const zr=h.Z.getClassFactory(Fr);function Ar(){var o;function i(){o={}}function c(){i()}return c(),{getLoader:function(E){for(var T in o)if(o.hasOwnProperty(T)&&E.startsWith(T))return o[T];return zr},registerLoader:function(E,T){o[E]=T},unregisterLoader:function(E){o[E]&&delete o[E]},unregisterAllLoader:i,reset:c}}Ar.__dashjs_factory_name="SchemeLoaderFactory";const bt=h.Z.getSingletonFactory(Ar);function Kt(o){o=o||{};var i,c,E=this.context;return i=bt(E).getInstance(),{load:function(T){if(!c){var _=i.getLoader(T&&T.request?T.request.url:null);c=_(E).create({errHandler:o.errHandler,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,dashMetrics:o.dashMetrics,boxParser:o.boxParser?o.boxParser:null,constants:o.constants?o.constants:null,dashConstants:o.dashConstants?o.dashConstants:null,urlUtils:o.urlUtils?o.urlUtils:null,requestTimeout:isNaN(o.requestTimeout)?0:o.requestTimeout,errors:o.errors})}c.load(T)},abort:function(){c&&c.abort()}}}Kt.__dashjs_factory_name="URLLoader";const Jt=h.Z.getClassFactory(Kt);function Cn(o){return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Cn(o)}function In(o,i){return In=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},In(o,i)}function Zn(o,i){return!i||Cn(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function vn(o){return vn=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},vn(o)}const Jn=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&In(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=vn(i);if(c){var C=vn(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Zn(this,_)});function T(_){var m;return function(C,F){if(!(C instanceof F))throw new TypeError("Cannot call a class as a function")}(this,T),(m=E.call(this,_)).checkForExistenceOnly=!0,m}return T}(b.Z);function Fn(o){o=o||{};var i,c,E=this.context,T=o.eventBus,_=o.events,m=o.urlUtils,C=o.errors,F=o.streamId;return i={checkForExistence:function(j){var K=function(q){T.trigger(_.CHECK_FOR_EXISTENCE_COMPLETED,{request:j,exists:q})};if(j){var O=new Jn(j.url);c.load({request:O,success:function(){K(!0)},error:function(){K(!1)}})}else K(!1)},load:function(j){var K=function(O,q){T.trigger(_.LOADING_COMPLETED,{request:j,response:O||null,error:q||null,sender:i})};j?c.load({request:j,progress:function(O){T.trigger(_.LOADING_PROGRESS,{request:j,stream:O.stream,streamId:F}),O.data&&T.trigger(_.LOADING_DATA_PROGRESS,{request:j,response:O.data||null,error:null,sender:i})},success:function(O){K(O)},error:function(O,q,Z){K(void 0,new V.Z(C.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,Z,q))},abort:function(O){O&&T.trigger(_.LOADING_ABANDONED,{mediaType:O.mediaType,request:O,sender:i})}}):K(void 0,new V.Z(C.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,C.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){c&&c.abort()},reset:function(){c&&(c.abort(),c=null)}},c=Jt(E).create({errHandler:o.errHandler,errors:C,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,urlUtils:m,constants:t.Z,boxParser:o.boxParser,dashConstants:o.dashConstants,requestTimeout:o.settings.get().streaming.fragmentRequestTimeout}),i}Fn.__dashjs_factory_name="FragmentLoader";const wn=h.Z.getClassFactory(Fn);function er(){return{modifyResponseAsync:function(o){return Promise.resolve(o)}}}er.__dashjs_factory_name="SegmentResponseModifier";const zn=h.Z.getSingletonFactory(er);function lr(o){o=o||{};var i,c,E,T=this.context,_=(0,g.Z)(T).getInstance(),m=o.errHandler,C=o.mediaPlayerModel,F=o.dashMetrics,j=(0,w.Z)(T).getInstance(),K=zn(T).getInstance(),O=o.streamInfo;function q(){return O.id}function Z(){for(var re in E)E[re].reset();E={}}function ce(re){if(re.sender){var le=re.request,de=re.response,U=le.isInitializationRequest(),oe=le.mediaInfo.streamInfo;if(re.error&&(le.mediaType===t.Z.AUDIO||le.mediaType===t.Z.VIDEO||le.mediaType===t.Z.TEXT&&le.mediaInfo.isFragmented)&&_.trigger(u.Z.SERVICE_LOCATION_BLACKLIST_ADD,{entry:re.request.serviceLocation}),de&&oe){var Q=function(p,R,Y,k){var D=new Ut;return D.streamId=Y,D.mediaInfo=R.mediaInfo,D.segmentType=R.type,D.start=R.startTime,D.duration=R.duration,D.end=D.start+D.duration,D.bytes=p,D.index=R.index,D.quality=R.quality,D.representationId=R.representationId,D.endFragment=k,D}(de,le,O.id,re.type!==u.Z.FRAGMENT_LOADING_PROGRESS);K.modifyResponseAsync(Q).then(function(p){_.trigger(U?u.Z.INIT_FRAGMENT_LOADED:u.Z.MEDIA_FRAGMENT_LOADED,{chunk:p,request:le},{streamId:oe.id,mediaType:le.mediaType})}).catch(function(p){c.error(p),_.trigger(U?u.Z.INIT_FRAGMENT_LOADED:u.Z.MEDIA_FRAGMENT_LOADED,{chunk:Q,request:le},{streamId:oe.id,mediaType:le.mediaType})})}else c.warn("No "+le.mediaType+" bytes to push or stream is inactive.")}}return i={getStreamId:q,getModel:function(re){var le=E[re];return le||(le=z(T).create({streamInfo:O,type:re,dashMetrics:F,fragmentLoader:wn(T).create({dashMetrics:F,mediaPlayerModel:C,errHandler:m,requestModifier:(0,me.Z)(T).getInstance(),settings:o.settings,boxParser:o.boxParser,eventBus:_,events:u.Z,errors:ae,dashConstants:o.dashConstants,urlUtils:o.urlUtils,streamId:q()}),debug:j,eventBus:_,events:u.Z}),E[re]=le),le},reset:function(){_.off(e.Z.FRAGMENT_LOADING_COMPLETED,ce,this),_.off(e.Z.FRAGMENT_LOADING_PROGRESS,ce,this),Z()}},c=j.getLogger(i),Z(),_.on(e.Z.FRAGMENT_LOADING_COMPLETED,ce,i),_.on(e.Z.FRAGMENT_LOADING_PROGRESS,ce,i),i}lr.__dashjs_factory_name="FragmentController";const tr=h.Z.getClassFactory(lr),gr=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},fr=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN};function kr(o){var i,c,E=this.context,T=o.streamInfo;function _(C){c.setTrackByIndex(C)}function m(){c&&c.reset()}return i={getStreamId:function(){return T.id},initialize:function(){c.addTracks();var C=c.getTracks();C&&C.length>0&&_(0)},provide:function(C,F){if(typeof F=="function"){var j,K,O=c.getCurrentTrack();if(!O||O.segmentDuration<=0||C==null)F(null);else{(K=c.getThumbnailRequestForTime(C))&&(O.segmentDuration=K.duration),j=C%O.segmentDuration;var q=Math.floor(j*O.tilesHor*O.tilesVert/O.segmentDuration),Z=new gr;if(Z.width=Math.floor(O.widthPerTile),Z.height=Math.floor(O.heightPerTile),Z.x=Math.floor(q%O.tilesHor)*O.widthPerTile,Z.y=Math.floor(q/O.tilesHor)*O.heightPerTile,"readThumbnail"in O)return O.readThumbnail(C,function(re){Z.url=re,F(Z)});if(K)Z.url=K.url,O.segmentDuration=NaN;else{var ce=Math.floor(C/O.segmentDuration);Z.url=function(re,le){var de=le+re.startNumber,U=(0,l.vi)(re.templateUrl,"Number",de);return U=(0,l.vi)(U,"Time",(de-1)*re.segmentDuration*re.timescale),U=(0,l.vi)(U,"Bandwidth",re.bandwidth),(0,l.eR)(U)}(O,ce)}F(Z)}}},setTrackByIndex:_,getCurrentTrackIndex:function(){return c.getCurrentTrackIndex()},getBitrateList:function(){var C=c.getTracks(),F=0;return C.map(function(j){var K=new fr;return K.mediaType=t.Z.IMAGE,K.qualityIndex=F++,K.bitrate=j.bitrate,K.width=j.width,K.height=j.height,K})},reset:m},m(),c=(0,Ze.Z)(E).create({streamInfo:T,adapter:o.adapter,baseURLController:o.baseURLController,timelineConverter:o.timelineConverter,debug:o.debug,eventBus:o.eventBus,events:o.events,dashConstants:o.dashConstants,dashMetrics:o.dashMetrics,segmentBaseController:o.segmentBaseController}),i}kr.__dashjs_factory_name="ThumbnailController";const Ir=h.Z.getClassFactory(kr);function Rr(o){var i;o=o||{};var c=[],E=(0,g.Z)(this.context).getInstance(),T=o.updateEventName,_=o.addBlacklistEventName;function m(C){c.indexOf(C)===-1&&(c.push(C),E.trigger(T,{entry:C}))}return i={add:m,contains:function(C){return!!(c.length&&C&&C.length)&&c.indexOf(C)!==-1},reset:function(){c=[]}},_&&E.on(_,function(C){m(C.entry)},i),i}Rr.__dashjs_factory_name="BlackListController";const Zr=h.Z.getClassFactory(Rr);var _i=[t.Z.VIDEO,t.Z.AUDIO,t.Z.TEXT,t.Z.MUXED,t.Z.IMAGE];function Wr(o){o=o||{};var i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re,le,de,U,oe=this.context,Q=(0,g.Z)(oe).getInstance(),p=(0,Pe.Z)(oe).getInstance(),R=o.manifestModel,Y=o.mediaPlayerModel,k=o.dashMetrics,D=o.manifestUpdater,I=o.adapter,J=o.timelineConverter,W=o.capabilities,ne=o.errHandler,H=o.abrController,X=o.playbackController,ge=o.eventController,Ue=o.mediaController,Oe=o.protectionController,at=o.textController,Ae=o.videoModel,Ne=o.streamInfo,ht=o.settings;function et(ct,ke){return new Promise(function(nt,vt){Ge(),K=!0,Ot();var Mt,Be=Ae.getElement();_i.forEach(function(st){(st!==t.Z.TEXT||ct)&&(st!==t.Z.VIDEO||!Be||Be&&/^VIDEO$/i.test(Be.nodeName))&&mt(st,ct)}),(Mt=ke,new Promise(function(st){var $={},De=E.map(function(ot){return ot.createBufferSinks(Mt)});Promise.all(De).then(function(ot){ot.forEach(function(_t){_t&&($[_t.getType()]=_t)}),st($)}).catch(function(){st($)})})).then(function(st){if(K=!1,E.length===0){var $="No streams to play.";ne.error(new V.Z(ae.MANIFEST_ERROR_ID_NOSTREAMS_CODE,$,R.getValue())),c.fatal($)}else Tt();ct&&at.createTracks(Ne),nt(st)}).catch(function(st){vt(st)})})}function mt(ct,ke){var nt,vt=I.getAllMediaInfoForType(Ne,ct),Mt=[],Be=null;if(vt&&vt.length!==0){ct===t.Z.VIDEO&&(C=!0),ct===t.Z.AUDIO&&(F=!0);for(var st=0,$=vt.length;st<$;st++)Be=vt[st],ct===t.Z.TEXT&&Be.isEmbedded&&(at.addEmbeddedTrack(Ne,Be),Mt.push(Be)),At(Be)&&Ue.addTrack(Be);if(Mt.length>0&&(Ue.setInitialMediaSettingsForType(ct,Ne),at.addMediaInfosToBuffer(Ne,ct,Mt)),vt=vt.filter(function(ot){return!ot.isEmbedded}),vt.length!==0)if(ct!==t.Z.IMAGE){Q.trigger(u.Z.STREAM_INITIALIZING,{streamInfo:Ne,mediaInfo:Be}),Ue.setInitialMediaSettingsForType(ct,Ne);var De=function(ot,_t){var Lt=ot&&ot.length>0?ot[0]:null,$t=O.getModel(Lt?Lt.type:null),En=Lt?Lt.type:null,Ln=Lt?Lt.mimeType:null,Dn=Lt?Lt.isFragmented:null,qn=Dt(oe).create({streamInfo:Ne,type:En,mimeType:Ln,timelineConverter:J,adapter:I,manifestModel:R,mediaPlayerModel:Y,fragmentModel:$t,dashMetrics:o.dashMetrics,baseURLController:o.baseURLController,segmentBaseController:o.segmentBaseController,abrController:H,playbackController:X,mediaController:Ue,textController:at,errHandler:ne,settings:ht,boxParser:re,segmentBlacklistController:Z});qn.initialize(_t,C,Dn),E.push(qn);for(var Mn=0;Mn<ot.length;Mn++)qn.addMediaInfo(ot[Mn]);return En===t.Z.TEXT&&at.addMediaInfosToBuffer(Ne,En,ot,$t),qn}(vt,ke);(nt=Ue.getCurrentTrackFor(ct,Ne.id))&&(H.updateTopQualityIndex(nt),De.selectMediaInfo(ct===t.Z.TEXT&&nt.isEmbedded?vt[0]:nt))}else(q=Ir(oe).create({streamInfo:Ne,adapter:I,baseURLController:o.baseURLController,timelineConverter:o.timelineConverter,debug:le,eventBus:Q,events:u.Z,dashConstants:r.Z,dashMetrics:o.dashMetrics,segmentBaseController:o.segmentBaseController})).initialize()}else c.info("No "+ct+" data.")}function At(ct){var ke,nt=ct?ct.type:null;return nt===t.Z.MUXED?(ke="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",c.fatal(ke),ne.error(new V.Z(ae.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,ke,R.getValue())),!1):!(nt!==t.Z.TEXT&&nt!==t.Z.IMAGE&&ct.contentProtection&&!W.supportsEncryptedMedia()&&(ne.error(new V.Z(ae.CAPABILITY_MEDIAKEYS_ERROR_CODE,ae.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE)),1))}function Ce(ct){for(var ke=E?E.length:0,nt=0;nt<ke;nt++){var vt=E[nt].getFragmentModel();vt.abortRequests(),vt.resetInitialSettings(),E[nt].reset(!1,ct)}at&&at.deactivateStream(Ne),E=[],_=!1,m=!1,nn(!1),ve(!1),Q.trigger(u.Z.STREAM_DEACTIVATED,{streamInfo:Ne})}function ee(ct){Ce(ct),T=!1,C=!1,F=!1,j={},K=!1,de=!1,U=[]}function ve(ct){de=ct}function Ee(){return Ne?Ne.start:NaN}function Ie(){return Ne?Ne.id:null}function Je(){return Ne}function Ge(){if(!Ae||!H)throw new Error(t.Z.MISSING_CONFIG_ERROR)}function je(ct){ct.error&&(ne.error(ct.error),c.fatal(ct.error.message))}function Ot(){if(ge){var ct=I.getEventsFor(Ne);ct&&ct.length>0&&ge.addInlineEvents(ct,Ne.id)}}function Tt(){for(var ct=E.length,ke=j.audio||j.video?new V.Z(ae.DATA_UPDATE_FAILED_ERROR_CODE,ae.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,nt=0;nt<ct;nt++)if(E[nt].isUpdating()||K)return;if(Oe){Oe.clearMediaInfoArray();for(var vt=0;vt<ct&&E[vt];vt++){var Mt=E[vt].getType(),Be=E[vt].getMediaInfo();if(Mt===t.Z.AUDIO||Mt===t.Z.VIDEO||Mt===t.Z.TEXT&&Be.isFragmented){var st=E[vt].getMediaInfo();st&&Oe.initializeForMedia(st)}}Oe.handleKeySystemFromManifest()}ke?ne.error(ke):T||(T=!0,Ae.waitForReadyState(t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){Q.trigger(u.Z.STREAM_INITIALIZED,{streamInfo:Ne})}))}function Ft(){var ct=an(),ke=ct.length;if(ke!==0){for(var nt=0;nt<ke;nt++)if(!ct[nt].isBufferingCompleted()&&(ct[nt].getType()===t.Z.AUDIO||ct[nt].getType()===t.Z.VIDEO))return void c.debug("onBufferingCompleted - One streamProcessor has finished but",ct[nt].getType(),"one is not buffering completed");c.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),m=!0,Q.trigger(u.Z.STREAM_BUFFERING_COMPLETED,{streamInfo:Ne},{streamInfo:Ne})}else c.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}function Gt(ct){j[ct.mediaType]=ct.error,Tt()}function kt(ct){ge&&ge.addInbandEvents(ct.events,Ne.id)}function Yt(ct){return ct&&ct.type?Qt(ct.type):null}function Qt(ct){return ct?an().filter(function(ke){return ke.getType()===ct})[0]:null}function an(){for(var ct,ke,nt=[],vt=0;vt<E.length;vt++)(ct=(ke=E[vt]).getType())!==t.Z.AUDIO&&ct!==t.Z.VIDEO&&ct!==t.Z.TEXT||nt.push(ke);return nt}function en(ct,ke){var nt=Je(),vt=ke.getStreamInfo();if(!vt||!nt)return!0;var Mt=I.getAdaptationForType(vt.index,ct,vt),Be=I.getAdaptationForType(nt.index,ct,nt);return Mt&&Be?!(!dn(Be)&&dn(Mt)):!Mt&&!Be}function dn(ct){return!!ct&&!!(ct.ContentProtection||ct.Representation&&ct.Representation.length>0&&ct.Representation[0].ContentProtection)}function ln(ct,ke){var nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!ct||!ct.hasOwnProperty("getStreamInfo"))return!1;var vt=ct.getStreamInfo(),Mt=nt?nt.getStreamInfo():Je();if(!vt||!Mt)return!1;var Be=I.getAdaptationForType(vt.index,ke,vt),st=I.getAdaptationForType(Mt.index,ke,Mt);if(!Be||!st)return!Be&&!st;var $=Be&&st&&Be.mimeType===st.mimeType,De=st.Representation_asArray.map(function($t){return $t.codecs}),ot=Be.Representation_asArray.map(function($t){return $t.codecs}),_t=ot.some(function($t){return De.indexOf($t)>-1}),Lt=ot.some(function($t){return De.some(function(En){return W.codecRootCompatibleWithCodec(En,$t)})});return _t||Lt&&$}function nn(ct){ce=ct}function cn(){return ce}return i={initialize:function(){Q.on(u.Z.BUFFERING_COMPLETED,Ft,i),Q.on(u.Z.DATA_UPDATE_COMPLETED,Gt,i),Q.on(u.Z.INBAND_EVENTS,kt,i),Oe&&(Q.on(u.Z.KEY_ERROR,je,i),Q.on(u.Z.SERVER_CERTIFICATE_UPDATED,je,i),Q.on(u.Z.LICENSE_REQUEST_COMPLETE,je,i),Q.on(u.Z.KEY_SYSTEM_SELECTED,je,i),Q.on(u.Z.KEY_SESSION_CREATED,je,i),Q.on(u.Z.KEY_STATUSES_CHANGED,je,i)),at.initializeForStream(Ne),Q.trigger(u.Z.STREAM_UPDATED,{streamInfo:Ne})},getStreamId:function(){return Ne?Ne.id:null},activate:function(ct,ke){return new Promise(function(nt,vt){if(!_)return cn()?(_=!0,Q.trigger(u.Z.STREAM_ACTIVATED,{streamInfo:Ne}),void nt(ke)):void function(Mt,Be){return et(Mt,Be)}(ct,ke).then(function(Mt){_=!0,Q.trigger(u.Z.STREAM_ACTIVATED,{streamInfo:Ne}),nt(Mt)}).catch(function(Mt){vt(Mt)});nt(ke)})},deactivate:Ce,getIsActive:function(){return _},getDuration:function(){return Ne?Ne.duration:NaN},getStartTime:Ee,getId:Ie,getStreamInfo:Je,getHasAudioTrack:function(){return F},getHasVideoTrack:function(){return C},startPreloading:function(ct,ke){return new Promise(function(nt,vt){cn()?vt():(c.info("[startPreloading] Preloading next stream with id ".concat(Ie())),nn(!0),et(ct,ke).then(function(){for(var Mt=0;Mt<E.length&&E[Mt];Mt++)E[Mt].setExplicitBufferingTime(Ee()),E[Mt].getScheduleController().startScheduleTimer();nt()}).catch(function(){nn(!1),vt()}))})},initializeForTextWithMediaSource:function(ct){return new Promise(function(ke,nt){var vt;mt(t.Z.TEXT,ct),(vt=Qt(t.Z.TEXT),vt?vt.createBufferSinks():Promise.resolve()).then(function(){at.createTracks(Ne),ke()}).catch(function(Mt){nt(Mt)})})},getThumbnailController:function(){return q},getBitrateListFor:function(ct){if(Ge(),ct===t.Z.IMAGE)return q?q.getBitrateList():[];var ke=function(nt){for(var vt=null,Mt=0;Mt<E.length;Mt++)if((vt=E[Mt]).getType()===nt)return vt.getMediaInfo();return null}(ct);return H.getBitrateList(ke)},updateData:function(ct){return new Promise(function(ke){K=!0,Ne=ct,ge&&Ot();for(var nt=[],vt=0,Mt=E.length;vt<Mt;vt++){var Be=E[vt],st=Be.getMediaInfo();nt.push(Be.updateStreamInfo(Ne));var $=I.getAllMediaInfoForType(Ne,Be.getType());if($=$.filter(function(_t){return!_t.isEmbedded})){Be.clearMediaInfoArray();for(var De=0;De<$.length;De++){var ot=$[De];Be.addMediaInfo($[De]),I.areMediaInfosEqual(st,ot)&&(H.updateTopQualityIndex(ot),nt.push(Be.selectMediaInfo(ot)))}}}Promise.all(nt).then(function(){for(nt=[];U.length>0;){var _t=U.pop(),Lt=_t.newMediaInfo,$t=Yt(_t.oldMediaInfo);if(!$t)return;nt.push($t.prepareTrackSwitch()),$t.selectMediaInfo(Lt)}return Promise.all(nt)}).then(function(){K=!1,Tt(),Q.trigger(u.Z.STREAM_UPDATED,{streamInfo:Ne}),ke()})})},reset:function(ct){O&&(O.reset(),O=null),H&&Ne&&H.clearDataForStream(Ne.id),Z&&(Z.reset(),Z=null),ee(ct),Ne=null,Q.off(u.Z.DATA_UPDATE_COMPLETED,Gt,i),Q.off(u.Z.BUFFERING_COMPLETED,Ft,i),Q.off(u.Z.INBAND_EVENTS,kt,i),Oe&&(Q.off(u.Z.KEY_ERROR,je,i),Q.off(u.Z.SERVER_CERTIFICATE_UPDATED,je,i),Q.off(u.Z.LICENSE_REQUEST_COMPLETE,je,i),Q.off(u.Z.KEY_SYSTEM_SELECTED,je,i),Q.off(u.Z.KEY_SESSION_CREATED,je,i),Q.off(u.Z.KEY_STATUSES_CHANGED,je,i))},getProcessors:an,setMediaSource:function(ct){return new Promise(function(ke,nt){for(var vt=[],Mt=0;Mt<E.length;)At(E[Mt].getMediaInfo())?(vt.push(E[Mt].setMediaSource(ct)),Mt++):(E[Mt].reset(),E.splice(Mt,1));Promise.all(vt).then(function(){for(var Be=0;Be<E.length;Be++)E[Be].dischargePreBuffer();if(E.length===0){var st="No streams to play.";ne.error(new V.Z(ae.MANIFEST_ERROR_ID_NOSTREAMS_CODE,st+"nostreams",R.getValue())),c.fatal(st)}ke()}).catch(function(Be){c.error(Be),nt(Be)})})},isMediaCodecCompatible:function(ct){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return ln(ct,t.Z.VIDEO,ke)&&ln(ct,t.Z.AUDIO,ke)},isProtectionCompatible:function(ct){return!ct||en(t.Z.VIDEO,ct)&&en(t.Z.AUDIO,ct)},getPreloaded:cn,getIsEndedEventSignaled:function(){return de},setIsEndedEventSignaled:ve,getAdapter:function(){return I},getHasFinishedBuffering:function(){return m},setPreloaded:nn,startScheduleControllers:function(){for(var ct=E.length,ke=0;ke<ct&&E[ke];ke++)E[ke].getScheduleController().startScheduleTimer()},prepareTrackChange:function(ct){if(_&&Ne){m=!1;var ke=ct.newMediaInfo,nt=R.getValue();I.setCurrentMediaInfo(Ne.id,ke.type,ke);var vt=Yt(ke);if(vt){var Mt=X.getTime();c.info("Stream -  Process track changed at current time "+Mt),nt.refreshManifestOnSwitchTrack?(U.push(ct),D.getIsUpdating()||(c.debug("Stream -  Refreshing manifest for switch track"),D.refreshManifest())):vt.selectMediaInfo(ke).then(function(){ke.type!==t.Z.VIDEO&&ke.type!==t.Z.AUDIO||H.updateTopQualityIndex(ke),vt.prepareTrackSwitch()})}}},prepareQualityChange:function(ct){var ke=Qt(ct.mediaType);ke&&ke.prepareQualityChange(ct)}},function(){try{le=(0,w.Z)(oe).getInstance(),c=le.getLogger(i),ee(),re=(0,He.Z)(oe).getInstance(),Z=Zr(oe).create({updateEventName:u.Z.SEGMENT_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:u.Z.SEGMENT_LOCATION_BLACKLIST_ADD}),O=tr(oe).create({streamInfo:Ne,mediaPlayerModel:Y,dashMetrics:k,errHandler:ne,settings:ht,boxParser:re,dashConstants:r.Z,urlUtils:p})}catch(ct){throw ct}}(),i}Wr.__dashjs_factory_name="Stream";const Ti=h.Z.getClassFactory(Wr);function Xr(){var o,i,c,E,T,_,m,C,F,j,K,O,q=this.context,Z=(0,g.Z)(q).getInstance(),ce=(0,Pe.Z)(q).getInstance();function re(){c=NaN,m=!1,T=!0,_=!1,le()}function le(){E!==null&&(clearTimeout(E),E=null)}function de(D){le(),_||(isNaN(D)&&!isNaN(c)&&(D=1e3*c),isNaN(D)||(i.debug("Refresh manifest in "+D+" milliseconds."),E=setTimeout(Q,D)))}function U(){var D=arguments.length>0&&arguments[0]!==void 0&&arguments[0];m=!0;var I=F.getValue(),J=I.url,W=j.getPatchLocation(I),ne=j.getLocation(I);W&&!D?J=W:ne&&(J=ne),ce.isRelative(J)&&(J=ce.resolve(J,I.url)),C.load(J)}function oe(D){if(D){if(j.getIsPatch(D)){var I=D;D=F.getValue();var J=j.isPatchValid(D,I),W=J;if(J){var ne=j.getPublishTime(D);W=j.applyPatchToManifest(D,I);var H=j.getPublishTime(D);W=ne.getTime()!=H.getTime()}if(!W)return i.debug("Patch provided is invalid, performing full manifest refresh"),void U(!0);D.loadedTime=new Date}}else(D=F.getValue()).loadedTime=new Date;if(F.getValue()&&F.getValue().type===r.Z.DYNAMIC&&D.type===r.Z.STATIC)return Z.trigger(u.Z.DYNAMIC_TO_STATIC),m=!1,void(_=!0);F.setValue(D);var X=new Date,ge=(X.getTime()-D.loadedTime.getTime())/1e3;1e3*(c=j.getManifestUpdatePeriod(D,ge))>2147483647&&(c=2147483647e-3),Z.trigger(u.Z.MANIFEST_UPDATED,{manifest:D}),i.info("Manifest has been refreshed at "+X+"["+X.getTime()/1e3+"] "),T||de()}function Q(){T||(m?de(O.get().streaming.manifestUpdateRetryInterval):U())}function p(D){D.error?D.error.code===ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&K.error(D.error):oe(D.manifest)}function R(){T=!1,de()}function Y(){(T=!O.get().streaming.scheduling.scheduleWhilePaused)&&le()}function k(){m=!1}return o={initialize:function(){re(),Z.on(u.Z.STREAMS_COMPOSED,k,this),Z.on(e.Z.PLAYBACK_STARTED,R,this),Z.on(e.Z.PLAYBACK_PAUSED,Y,this),Z.on(u.Z.INTERNAL_MANIFEST_LOADED,p,this)},setManifest:function(D){oe(D)},refreshManifest:U,getIsUpdating:function(){return m},setConfig:function(D){D&&(D.manifestModel&&(F=D.manifestModel),D.adapter&&(j=D.adapter),D.manifestLoader&&(C=D.manifestLoader),D.errHandler&&(K=D.errHandler),D.settings&&(O=D.settings))},reset:function(){Z.off(e.Z.PLAYBACK_STARTED,R,this),Z.off(e.Z.PLAYBACK_PAUSED,Y,this),Z.off(u.Z.STREAMS_COMPOSED,k,this),Z.off(u.Z.INTERNAL_MANIFEST_LOADED,p,this),re()}},i=(0,w.Z)(q).getInstance().getLogger(o),o}Xr.__dashjs_factory_name="ManifestUpdater";const Qr=h.Z.getClassFactory(Xr);function Ur(){var o,i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re,le=this.context,de=(0,g.Z)(le).getInstance(),U=(0,Pe.Z)(le).getInstance();function oe(){C=[],F=[],j=null,K=null,q=null,O=NaN,c=!1,E=!1,Z=T.get().streaming.utcSynchronization.timeBetweenSyncAttempts}function Q(){T.get().streaming.utcSynchronization.enabled&&!c&&!E&&q&&q.value&&q.schemeIdUri&&!isNaN(O)&&!isNaN(T.get().streaming.utcSynchronization.backgroundAttempts)&&(K&&(Date.now()-K)/1e3<30||(C=[],E=!0,p(isNaN(T.get().streaming.utcSynchronization.backgroundAttempts)?2:T.get().streaming.utcSynchronization.backgroundAttempts)))}function p(Ae){try{if(Ae<=0)return void Oe();var Ne=Date.now();_[q.schemeIdUri](q.value,function(ht){var et=Date.now(),mt=Y(Ne,et,ht);C.push(mt),p(Ae-1)},function(){Oe()})}catch{Oe()}}function R(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Ne=Ae||0;if(!F||F.length===0||Ne>=F.length)k();else{var ht=F[Ne];if(ht)if(_.hasOwnProperty(ht.schemeIdUri)){var et=new Date().getTime();_[ht.schemeIdUri](ht.value,function(mt){var At=new Date().getTime(),Ce=Y(et,At,mt);q=ht,k(Ce)},function(){R(Ne+1)})}else R(Ne+1);else k()}}function Y(Ae,Ne,ht){return ht-(Ne-(Ne-Ae)/2)}function k(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN,Ne=isNaN(Ae);Ne&&T.get().streaming.utcSynchronization.useManifestDateHeaderTimeSource?ge():Ue(Ne,Ae)}function D(Ae){var Ne=Date.parse(Ae);return isNaN(Ne)&&(Ne=function(ht){var et,mt,At=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(ht);return et=Date.UTC(parseInt(At[1],10),parseInt(At[2],10)-1,parseInt(At[3],10),parseInt(At[4],10),parseInt(At[5],10),At[6]&&(parseInt(At[6],10)||0),At[7]&&1e3*parseFloat(At[7])||0),At[9]&&At[10]&&(mt=60*parseInt(At[9],10)+parseInt(At[10],10),et+=(At[8]==="+"?-1:1)*mt*60*1e3),new Date(et).getTime()}(Ae)),Ne}function I(Ae){return Date.parse(Ae)}function J(Ae){return Date.parse(Ae)}function W(Ae,Ne,ht){ht()}function ne(Ae,Ne,ht){var et=D(Ae);isNaN(et)?ht():Ne(et)}function H(Ae,Ne,ht,et,mt){var At,Ce,ee=!1,ve=new XMLHttpRequest,Ee=mt?Te.w.HEAD:Te.w.GET,Ie=Ne.match(/\S+/g);if(Ne=Ie.shift(),At=function(){ee||(ee=!0,Ie.length?H(Ae,Ie.join(" "),ht,et,mt):et())},Ce=function(){var Ge,je;ve.status===200&&(Ge=mt?ve.getResponseHeader("Date"):ve.response,je=Ae(Ge),isNaN(je)||(ht(je),ee=!0))},U.isRelative(Ne)){var Je=re.resolve();Je&&(Ne=U.resolve(Ne,Je.url))}ve.open(Ee,Ne),ve.timeout=5e3,ve.onload=Ce,ve.onloadend=At,ve.send()}function X(Ae,Ne,ht){H(J,Ae,Ne,ht,!0)}function ge(){var Ae=m.getLatestMPDRequestHeaderValueByID("Date"),Ne=Ae!==null?new Date(Ae).getTime():Number.NaN;isNaN(Ne)?Ue(!0):Ue(!1,Ne-Date.now())}function Ue(Ae,Ne){if(isNaN(O)||isNaN(Ne)||Ae||function(et){try{var mt,At=at(et),Ce=isNaN(Z)?30:Z,ee=isNaN(T.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor)?2:T.get().streaming.utcSynchronization.timeBetweenSyncAttemptsAdjustmentFactor,ve=isNaN(T.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts)?600:T.get().streaming.utcSynchronization.maximumTimeBetweenSyncAttempts,Ee=isNaN(T.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts)?2:T.get().streaming.utcSynchronization.minimumTimeBetweenSyncAttempts;At?(mt=Math.min(Ce*ee,ve),i.debug("Increasing timeBetweenSyncAttempts to ".concat(mt))):(mt=Math.max(Ce/ee,Ee),i.debug("Decreasing timeBetweenSyncAttempts to ".concat(mt))),Z=mt}catch{}}(Ne),!Ae&&!isNaN(Ne)){j=Date.now(),c=!1;var ht=isNaN(O);O=Ne,ht&&Q(),i.debug("Completed UTC sync. Setting client - server offset to ".concat(Ne))}Ae&&(q=null,c=!1,ce.error(new V.Z(ae.TIME_SYNC_FAILED_ERROR_CODE,ae.TIME_SYNC_FAILED_ERROR_MESSAGE))),de.trigger(u.Z.UPDATE_TIME_SYNC_OFFSET,{offset:Ne}),de.trigger(u.Z.TIME_SYNCHRONIZATION_COMPLETED)}function Oe(){if(C&&C.length!==0){var Ae=C.reduce(function(Ne,ht){return Ne+ht},0)/C.length;at(Ae)?i.debug("Completed background UTC sync. Offset is within allowed threshold and is not adjusted."):(i.debug("Completed background UTC sync. Setting client - server offset to ".concat(Ae)),O=Ae,de.trigger(u.Z.UPDATE_TIME_SYNC_OFFSET,{offset:O})),E=!1,K=Date.now()}}function at(Ae){try{if(isNaN(O))return!0;var Ne=T.get().streaming.utcSynchronization.maximumAllowedDrift&&!isNaN(T.get().streaming.utcSynchronization.maximumAllowedDrift)?T.get().streaming.utcSynchronization.maximumAllowedDrift:100;return Ae>=O-Ne&&Ae<=O+Ne}catch{return!0}}return o={initialize:function(){oe(),_={"urn:mpeg:dash:utc:http-head:2014":X,"urn:mpeg:dash:utc:http-xsdate:2014":H.bind(null,D),"urn:mpeg:dash:utc:http-iso:2014":H.bind(null,I),"urn:mpeg:dash:utc:direct:2014":ne,"urn:mpeg:dash:utc:http-head:2012":X,"urn:mpeg:dash:utc:http-xsdate:2012":H.bind(null,D),"urn:mpeg:dash:utc:http-iso:2012":H.bind(null,I),"urn:mpeg:dash:utc:direct:2012":ne,"urn:mpeg:dash:utc:http-ntp:2014":W,"urn:mpeg:dash:utc:ntp:2014":W,"urn:mpeg:dash:utc:sntp:2014":W}},attemptSync:function(Ae,Ne){F=Ae,c||(function(ht){try{if(!ht||!T.get().streaming.utcSynchronization.enabled)return!1;var et=isNaN(Z)?30:Z;return!(j&&et&&!isNaN(et))||(Date.now()-j)/1e3>=et}catch{return!0}}(Ne)?(c=!0,R()):de.trigger(u.Z.TIME_SYNCHRONIZATION_COMPLETED))},setConfig:function(Ae){Ae&&(Ae.dashMetrics&&(m=Ae.dashMetrics),Ae.baseURLController&&(re=Ae.baseURLController),Ae.errHandler&&(ce=Ae.errHandler),Ae.settings&&(T=Ae.settings))},reset:function(){oe(),de.off(u.Z.ATTEMPT_BACKGROUND_SYNC,Q,o)}},i=(0,w.Z)(le).getInstance().getLogger(o),de.on(u.Z.ATTEMPT_BACKGROUND_SYNC,Q,o),o}Ur.__dashjs_factory_name="TimeSyncController";var Br=h.Z.getSingletonFactory(Ur);Br.HTTP_TIMEOUT_MS=5e3,h.Z.updateSingletonFactory(Ur.__dashjs_factory_name,Br);const Si=Br;function Gr(){var o,i,c,E=this.context;return o={createMediaSource:function(){var T="WebKitMediaSource"in window;return"MediaSource"in window?i=new MediaSource:T&&(i=new WebKitMediaSource),i},attachMediaSource:function(T){var _=window.URL.createObjectURL(i);return T.setSource(_),_},detachMediaSource:function(T){T.setSource(null)},setDuration:function T(_){i&&i.readyState==="open"&&(_===null&&isNaN(_)||i.duration!==_&&(function(m){for(var C=m.sourceBuffers,F=0;F<C.length;F++)if(C[F].updating)return!0;return!1}(i)?setTimeout(T.bind(null,_),50):(c.info("Set MediaSource duration:"+_),i.duration=_)))},setSeekable:function(T,_){i&&typeof i.setLiveSeekableRange=="function"&&typeof i.clearLiveSeekableRange=="function"&&i.readyState==="open"&&T>=0&&T<_&&(i.clearLiveSeekableRange(),i.setLiveSeekableRange(T,_))},signalEndOfStream:function(T){if(T&&T.readyState==="open"){for(var _=T.sourceBuffers,m=0;m<_.length;m++)if(_[m].updating||_[m].buffered.length===0)return;c.info("call to mediaSource endOfStream"),T.endOfStream()}}},c=(0,w.Z)(E).getInstance().getLogger(o),o}Gr.__dashjs_factory_name="MediaSourceController";const bi=h.Z.getSingletonFactory(Gr);function Sn(){var o,i,c,E,T,_,m,C,F,j,K,O="urn:mpeg:dash:event:2012",q="discarded",Z="updated",ce="added",re=this.context,le=(0,g.Z)(re).getInstance();function de(){if(!m||!C)throw new Error("setConfig function has to be called previously")}function U(){K=!1,c={},E={},T=null,j=!1,_=Date.now()/1e3}function oe(){try{if(!j){j=!0;var W=C.getTime(),ne=W-_;ne=_>0?Math.max(0,ne):0,Q(E,ne,W),Q(c,ne,W),p(E),p(c),_=W,j=!1}}catch(H){j=!1,i.error(H)}}function Q(W,ne,H){try{D(W,function(X){if(X!==void 0){var ge=isNaN(X.duration)?0:X.duration;X.calculatedPresentationTime<=H&&X.calculatedPresentationTime+ne+ge>=H?J(X,e.Z.EVENT_MODE_ON_START):(I(H,ge+ne,X.calculatedPresentationTime)||function(Ue){try{var Oe=Ue.eventStream.period.start+Ue.eventStream.period.duration;return Ue.calculatedPresentationTime>Oe}catch(at){return i.error(at),!1}}(X))&&(i.debug("Removing event ".concat(X.id," from period ").concat(X.eventStream.period.id," as it is expired or invalid")),function(Ue,Oe){try{var at=Oe.eventStream.schemeIdUri,Ae=Oe.eventStream.period.id,Ne=Oe.eventStream.value,ht=Oe.id;Ue[Ae][at]=Ue[Ae][at].filter(function(et){return Ne&&et.eventStream.value&&et.eventStream.value!==Ne||et.id!==ht}),Ue[Ae][at].length===0&&delete Ue[Ae][at]}catch(et){i.error(et)}}(W,X))}})}catch(X){i.error(X)}}function p(W){try{for(var ne in W)W.hasOwnProperty(ne)&&Object.keys(W[ne]).length===0&&delete W[ne]}catch(H){i.error(H)}}function R(W,ne){var H=arguments.length>2&&arguments[2]!==void 0&&arguments[2],X=W.eventStream.schemeIdUri,ge=W.eventStream.value,Ue=W.id,Oe=q;ne[X]||(ne[X]=[]);var at=ne[X].findIndex(function(Ne){return(!ge||Ne.eventStream.value&&Ne.eventStream.value===ge)&&Ne.id===Ue});if(at===-1)ne[X].push(W),W.triggeredReceivedEvent=!1,W.triggeredStartEvent=!1,Oe=ce;else if(H){var Ae=ne[X][at];W.triggeredReceivedEvent=Ae.triggeredReceivedEvent,W.triggeredStartEvent=Ae.triggeredStartEvent,ne[X][at]=W,Oe=Z}return Oe}function Y(W){try{if(W.eventStream.value==1){var ne,H=W.calculatedPresentationTime;ne=W.calculatedPresentationTime==4294967295?NaN:W.calculatedPresentationTime+W.duration,le.trigger(e.Z.MANIFEST_VALIDITY_CHANGED,{id:W.id,validUntil:H,newDuration:ne,newManifestValidAfter:NaN},{mode:e.Z.EVENT_MODE_ON_START})}}catch(X){i.error(X)}}function k(W){try{var ne=C.getTime();D(W,function(H){var X=H.eventStream&&H.eventStream.period&&!isNaN(H.eventStream.period.duration)?H.eventStream.period.duration:NaN,ge=H.eventStream&&H.eventStream.period&&!isNaN(H.eventStream.period.start)?H.eventStream.period.start:NaN;if(!isNaN(X)&&!isNaN(ge)){var Ue=H.calculatedPresentationTime;Math.abs(Ue-ne)<300&&J(H,e.Z.EVENT_MODE_ON_START)}})}catch(H){i.error(H)}}function D(W,ne){try{if(W)for(var H=Object.keys(W),X=0;X<H.length;X++)for(var ge=W[H[X]],Ue=Object.keys(ge),Oe=0;Oe<Ue.length;Oe++)ge[Ue[Oe]].forEach(function(at){at!==void 0&&ne(at)})}catch(at){i.error(at)}}function I(W,ne,H){try{return W-ne>H}catch(X){return i.error(X),!1}}function J(W,ne){try{var H=C.getTime(),X=W.id;if(ne===e.Z.EVENT_MODE_ON_RECEIVE&&!W.triggeredReceivedEvent)return i.debug("Received event ".concat(X)),W.triggeredReceivedEvent=!0,void le.trigger(W.eventStream.schemeIdUri,{event:W},{mode:ne});W.triggeredStartEvent||(W.eventStream.schemeIdUri===O&&W.eventStream.value==1?W.duration===0&&W.presentationTimeDelta===0||(i.debug("Starting manifest refresh event ".concat(X," at ").concat(H)),function(){try{de(),m.refreshManifest()}catch(ge){i.error(ge)}}()):W.eventStream.schemeIdUri==="urn:mpeg:dash:event:callback:2015"&&W.eventStream.value==1?(i.debug("Starting callback event ".concat(X," at ").concat(H)),function(ge){try{(0,qt.Z)(re).create({}).load({method:"get",url:ge,request:{responseType:"arraybuffer"}})}catch(Ue){i.error(Ue)}}(W.messageData)):(i.debug("Starting event ".concat(X," from period ").concat(W.eventStream.period.id," at ").concat(H)),le.trigger(W.eventStream.schemeIdUri,{event:W},{mode:ne})),W.triggeredStartEvent=!0)}catch(ge){i.error(ge)}}return o={addInlineEvents:function(W,ne){try{if(de(),c[ne]||(c[ne]={}),W)for(var H=0;H<W.length;H++){var X=W[H];if(!I(C.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)){var ge=R(X,c[ne],!0);ge===ce?(i.debug("Added inline event with id ".concat(X.id," from period ").concat(ne)),J(X,e.Z.EVENT_MODE_ON_RECEIVE)):ge===Z&&i.debug("Updated inline event with id ".concat(X.id," from period ").concat(ne))}}}catch(Ue){throw Ue}},addInbandEvents:function(W,ne){try{de(),E[ne]||(E[ne]={});for(var H=0;H<W.length;H++){var X=W[H];I(C.getTime(),isNaN(X.duration)?0:X.duration,X.calculatedPresentationTime)||(R(X,E[ne],!1)===ce?(X.eventStream.schemeIdUri===O&&Y(X),i.debug("Added inband event with id ".concat(X.id," from period ").concat(ne)),J(X,e.Z.EVENT_MODE_ON_RECEIVE)):i.debug("Inband event with scheme_id_uri ".concat(X.eventStream.schemeIdUri,", value ").concat(X.eventStream.value,", period id ").concat(ne," and event id ").concat(X.id," was ignored because it has been added before.")))}oe()}catch(ge){throw ge}},getInbandEvents:function(){return E},getInlineEvents:function(){return c},start:function(){try{de(),i.debug("Start Event Controller");var W=F.get().streaming.eventControllerRefreshDelay;K||isNaN(W)||(K=!0,T=setInterval(oe,W))}catch(ne){throw ne}},setConfig:function(W){try{if(!W)return;W.manifestUpdater&&(m=W.manifestUpdater),W.playbackController&&(C=W.playbackController),W.settings&&(F=W.settings)}catch(ne){throw ne}},reset:function(){(function(){try{T!==null&&K&&(clearInterval(T),T=null,K=!1,function(){try{k(E),k(c)}catch(W){i.error(W)}}())}catch(W){throw W}})(),U()}},i=(0,w.Z)(re).getInstance().getLogger(o),U(),o}Sn.__dashjs_factory_name="EventController";const vr=h.Z.getSingletonFactory(Sn),ir={LEVELS:{SUGGESTION:"Suggestion",WARNING:"Warning",ERROR:"Error"},EVENTS:{NO_UTC_TIMING_ELEMENT:{key:"NO_UTC_TIMING_ELEMENT",message:"No UTCTiming element is present in the manifest. You may experience playback failures. For a detailed validation use https://conformance.dashif.org/"},NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE:{key:"NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE",message:'SMPTE 2052-1:2013 defines the attribute name as "imageType" and does not define "imagetype"'},INVALID_DVR_WINDOW:{key:"INVALID_DVR_WINDOW",message:"No valid segment found when applying a specification compliant DVR window calculation. Using SegmentTimeline entries as a fallback."}}};function dr(o,i){(i==null||i>o.length)&&(i=o.length);for(var c=0,E=new Array(i);c<i;c++)E[c]=o[c];return E}function $r(){var o,i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re,le,de,U,oe,Q,p,R,Y,k,D,I,J,W,ne,H,X,ge,Ue,Oe,at,Ae,Ne,ht,et,mt,At,Ce,ee,ve,Ee,Ie,Je,Ge=this.context,je=(0,g.Z)(Ge).getInstance();function Ot(){if(!(_&&_.hasOwnProperty("load")&&Q&&Q.hasOwnProperty("initialize")&&Q.hasOwnProperty("reset")&&Q.hasOwnProperty("getClientTimeOffset")&&m&&oe&&F&&ge))throw new Error(t.Z.MISSING_CONFIG_ERROR)}function Tt(){if(!T||!T.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously")}function Ft(){(function(){try{var Ye=C.getStreamsInfo();if(!R&&Ye.length===0)throw new Error("There are no periods in the MPD");R&&Ye.length>0&&F.updateManifestUpdateInfo({currentTime:ge.getTime(),buffered:X.getBufferRange(),presentationStartTime:Ye[0].start,clientTimeOffset:Q.getClientTimeOffset()}),p.length>0&&function(yn){yn.length!==0?p=p.filter(function(tn){var Un=yn.filter(function(un){return un.id===tn.getId()}).length>0||tn.getId()===R.getId();return Un||(i.debug("Removing stream ".concat(tn.getId())),tn.reset(!0)),Un}):i.warn("No periods included in the current manifest. Skipping the filtering of outdated stream objects.")}(Ye);for(var St=[],jt=0,rn=Ye.length;jt<rn;jt++){var pn=Ye[jt];St.push(kt(pn)),F.addManifestUpdateStreamInfo(pn)}Promise.all(St).then(function(){return ee.get().streaming.applyContentSteering&&!R&&O.shouldQueryBeforeStart()?O.loadSteeringData():Promise.resolve()}).then(function(){R||Yt(Ye),je.trigger(u.Z.STREAMS_COMPOSED),Lt()}).catch(function(yn){throw yn})}catch(yn){oe.error(new V.Z(ae.MANIFEST_ERROR_ID_NOSTREAMS_CODE,yn.message+" nostreamscomposed",m.getValue())),ne=!0,pi()}})()}function Gt(){ve=!0}function kt(Ye){var St=Pr(Ye.id);return St?St.updateData(Ye):(St=Ti(Ge).create({manifestModel:m,mediaPlayerModel:Oe,dashMetrics:F,manifestUpdater:T,adapter:C,timelineConverter:Q,capabilities:c,capabilitiesFilter:E,errHandler:oe,baseURLController:q,segmentBaseController:Z,textController:k,abrController:re,playbackController:ge,eventController:de,mediaController:le,protectionController:Y,videoModel:X,streamInfo:Ye,settings:ee}),p.push(St),St.initialize(),Promise.resolve())}function Yt(Ye){vt();var St=F.getCurrentDVRInfo().range;if(St.end<St.start){Ee&&clearTimeout(Ee);var jt=Math.min(1e3*(-1*(St.end-St.start)+2),2147483647);return i.debug("Waiting for ".concat(jt," ms before playback can start")),je.trigger(u.Z.AST_IN_FUTURE,{delay:jt}),void(Ee=setTimeout(function(){Yt(Ye)},jt))}ee.get().streaming.applyProducerReferenceTime&&Ue.calculateProducerReferenceTimeOffsets(Ye);var rn=Ye[0].manifestInfo;if(ee.get().streaming.applyServiceDescription&&Ue.applyServiceDescription(rn),C.getIsDynamic()){var pn=Hr(Ye,rn);ge.computeAndSetLiveDelay(pn,rn)}var yn=function(){var un;if(C.getIsDynamic()){var or=F.getCurrentDVRInfo();un=(or&&or.range?or.range.end:0)-ge.getOriginalLiveDelay();var Lr=or?or.range:null;if(Lr){if(isNaN(Ie)&&Ie.toString().indexOf("posix:")===-1){var $i=qn(!0);isNaN($i)||(i.info("Start time from URI parameters: ".concat($i)),un=Math.min(un,$i))}else{i.info("Start time provided by the app: ".concat(Ie));var lo=Mn(!0,Ie);isNaN(lo)||(un=Math.min(un,lo))}var Xs=ee.get().streaming.timeShiftBuffer.calcFromSegmentTimeline?.1:0;un=Math.max(un,Lr.start+Xs)}}else if(un=yi()[0].getStreamInfo().start,isNaN(Ie)){var Ji=qn(!1);isNaN(Ji)||(i.info("Start time from URI parameters: ".concat(Ji)),un=Math.max(un,Ji))}else{i.info("Start time provided by the app: ".concat(Ie));var co=Mn(!1,Ie);isNaN(co)||(un=Math.max(un,co))}return un}(),tn=nt(yn),Un=tn!==null?tn:p[0];je.trigger(u.Z.INITIAL_STREAM_SWITCH,{startTime:yn}),Qt(Un,null,yn),et||(et=setInterval(function(){!J&&ge.getTimeToStreamEnd()<=0&&!ge.isSeeking()&&je.trigger(u.Z.PLAYBACK_ENDED,{isLast:pr().isLast})},200))}function Qt(Ye,St,jt){try{if(J||!Ye||St===Ye&&Ye.getIsActive())return;J=!0,je.trigger(u.Z.PERIOD_SWITCH_STARTED,{fromStreamInfo:St?St.getStreamInfo():null,toStreamInfo:Ye.getStreamInfo()});var rn=!1;R=Ye,St&&(rn=ct(Ye,St),St.deactivate(rn)),jt=isNaN(jt)?!rn&&St?Ye.getStreamInfo().start:NaN:jt,i.info("Switch to stream ".concat(Ye.getId(),". Seektime is ").concat(jt,", current playback time is ").concat(ge.getTime(),". Seamless period switch is set to ").concat(rn)),At=At.filter(function(pn){return pn.getId()!==R.getId()}),ge.initialize(pr(),!!St),X.getElement()?an(jt,rn,!1):en(jt,rn)}catch{J=!1}}function an(Ye,St){var jt,rn=arguments.length>2&&arguments[2]!==void 0&&arguments[2];function pn(){if(H&&H.readyState==="open"){i.debug("MediaSource is open!"),window.URL.revokeObjectURL(jt),H.removeEventListener("sourceopen",pn),H.removeEventListener("webkitsourceopen",pn),Dn();var tn=F.getCurrentDVRInfo();j.setSeekable(tn.range.start,tn.range.end),rn?R.setMediaSource(H).then(function(){R.initializeForTextWithMediaSource(H)}):en(Ye,St)}}function yn(){H.addEventListener("sourceopen",pn,!1),H.addEventListener("webkitsourceopen",pn,!1),jt=j.attachMediaSource(X),i.debug("MediaSource attached to element.  Waiting on open...")}H?St?en(Ye,St):(j.detachMediaSource(X),yn()):(H=j.createMediaSource(),yn())}function en(Ye,St){R.activate(H,St?mt:void 0,Ye).then(function(jt){if(jt){var rn=Object.keys(jt);rn.length>0&&jt[rn[0]].getBuffer().changeType&&(Ce=!0),mt=jt}isNaN(Ye)||(je.trigger(u.Z.SEEK_TARGET,{time:Ye},{streamId:R.getId()}),ge.seek(Ye,!1,!0),R.startScheduleControllers()),J=!1,je.trigger(u.Z.PERIOD_SWITCH_COMPLETED,{toStreamInfo:pr()})})}function dn(Ye){var St=nt(Ye.seekTime);St&&St!==R?St&&St!==R&&(ln(),function(jt,rn){var pn=jt&&!isNaN(jt.seekTime)?jt.seekTime:NaN,yn=R.getProcessors().map(function(tn){return tn.prepareOuterPeriodPlaybackSeeking(jt)});Promise.all(yn).then(function(){Qt(rn,R,pn)}).catch(function(tn){oe.error(tn)})}(Ye,St)):(ln(),function(jt){R.getProcessors().forEach(function(rn){return rn.prepareInnerPeriodPlaybackSeeking(jt)}),Or(we.USER_REQUEST_STOP_REASON)}(Ye)),Vr(Qe.SEEK_START_REASON)}function ln(){nn()}function nn(){At&&At.length>0&&(At.forEach(function(Ye){Ye.deactivate(!0)}),At=[])}function cn(Ye){Ye.newMediaInfo.streamInfo.id===R.getId()&&(nn(),R.prepareTrackChange(Ye))}function ct(Ye,St){try{return ee.get().streaming.buffer.reuseExistingSourceBuffers&&(St.isProtectionCompatible(Ye)||ve)&&(Ce||St.isMediaCodecCompatible(Ye,St))}catch{return!1}}function ke(Ye){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(H&&!Ye.getPreloaded()){var jt=ct(Ye,St);jt&&Ye.startPreloading(H,mt).then(function(){At.push(Ye)})}}function nt(Ye){if(isNaN(Ye))return null;for(var St=p.length,jt=0;jt<St;jt++){var rn=p[jt];if(Ye<parseFloat((rn.getStartTime()+rn.getDuration()).toFixed(5)))return rn}return null}function vt(){try{var Ye=C.getIsDynamic(),St=C.getStreamsInfo()[0].manifestInfo,jt=ge.getTime(),rn=Q.calcTimeShiftBufferWindow(p,Ye),pn=En();if(rn.start===void 0||rn.end===void 0)return;pn&&pn.length!==0?pn.forEach(function(yn){F.addDVRInfo(yn.getType(),jt,St,rn)}):F.addDVRInfo(t.Z.VIDEO,jt,St,rn)}catch{}}function Mt(Ye){if(Ne&&I){var St=Oe.getInitialBufferLevel(),jt=[t.Z.TEXT];(isNaN(St)||St<=ge.getBufferLevel(jt)||C.getIsDynamic()&&St>ge.getLiveDelay())&&(Ne=!1,Vr(Qe.INITIAL_PLAYOUT_START_REASON),ge.play())}Ye&&Ye.mediaType&&F.addBufferLevel(Ye.mediaType,new Date,1e3*Ye.bufferLevel)}function Be(Ye){Ye.streamInfo.id===R.getId()&&Ye.reason&&Ye.reason.forceReplace&&nn(),Pr(Ye.streamInfo.id).prepareQualityChange(Ye)}function st(){if(C.getIsDynamic()&&ge.getOriginalLiveDelay()!==0&&R){var Ye=C.getStreamsInfo();if(Ye.length>0){var St=Ye[0].manifestInfo,jt=Hr(Ye,St);ge.computeAndSetLiveDelay(jt,St)}}}function $(){if(mr()){var Ye=X.getPlaybackQuality();Ye&&F.addDroppedFrames(Ye)}}function De(){i.debug("[onPlaybackStarted]"),!Ne&&Ae&&Vr(Qe.RESUME_FROM_PAUSE_START_REASON),Ne&&(Ne=!1),ht&&(ht=!1,ee.get().streaming.applyContentSteering&&!O.shouldQueryBeforeStart()&&O.loadSteeringData()),Ae=!1}function ot(Ye){i.debug("[onPlaybackPaused]"),Ye.ended||(Ae=!0,Or(we.USER_REQUEST_STOP_REASON))}function _t(Ye){i.debug("Stream with id ".concat(Ye.streamInfo.id," finished buffering"));var St=Ye.streamInfo.isLast;H&&St?(i.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),j.signalEndOfStream(H)):Lt()}function Lt(){if(R&&R.getHasFinishedBuffering())for(var Ye=function(){var pn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;try{var yn=pn||R||null;if(yn){var tn=yn.getStreamInfo();return p.filter(function(Un){var un=Un.getStreamInfo();return un.start>tn.start&&tn.id!==un.id})}}catch{return[]}}(R),St=0;St<Ye.length;){var jt=Ye[St],rn=St===0?R:Ye[St-1];!jt.getPreloaded()&&rn.getHasFinishedBuffering()&&H&&ke(jt,rn),St+=1}}function $t(){et&&(clearInterval(et),et=null)}function En(){return R?R.getProcessors():[]}function Ln(Ye){if(R&&!R.getIsEndedEventSignaled()){R.setIsEndedEventSignaled(!0);var St=function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,rn=jt||R||null;if(!rn)return null;for(var pn=rn.getStreamInfo(),yn=pn.start,tn=0,Un=-1,un=NaN;tn<p.length;){var or=p[tn].getStreamInfo(),Lr=or.start-yn;Lr>0&&(isNaN(un)||Lr<un)&&pn.id!==or.id&&(un=Lr,Un=tn),tn+=1}return Un>=0?p[Un]:null}();St?(i.debug("StreamController onEnded, found next stream with id ".concat(St.getStreamInfo().id,". Switching from ").concat(R.getStreamInfo().id," to ").concat(St.getStreamInfo().id)),Qt(St,R,NaN)):(i.debug("StreamController no next stream found"),R.setIsEndedEventSignaled(!1)),Or(St?we.END_OF_PERIOD_STOP_REASON:we.END_OF_CONTENT_STOP_REASON)}Ye&&Ye.isLast&&($t(),O.stopSteeringRequestTimer())}function Dn(Ye){var St=Ye||pr().manifestInfo.duration;j.setDuration(St)}function qn(Ye){var St=ce.getURIFragmentData();if(!St||!St.t)return NaN;var jt=yi()[0].getStreamInfo().start;return St.t=St.t.split(",")[0],Dr(Ye,St.t,jt)}function Mn(Ye,St){var jt=0;return Ye||(jt=yi()[0].getStreamInfo().start),Dr(Ye,St,jt)}function Dr(Ye,St,jt){var rn=C.getRegularPeriods()[0],pn=St.toString(),yn=pn.indexOf("posix:")!==-1?pn.substring(6)==="now"?Date.now()/1e3:parseFloat(pn.substring(6)):NaN;return Ye&&!isNaN(yn)?Q.calcPresentationTimeFromWallTime(new Date(1e3*yn),rn):parseFloat(pn)+jt}function Hr(Ye,St){try{var jt=NaN;if(St&&!isNaN(St.maxFragmentDuration)&&isFinite(St.maxFragmentDuration))return St.maxFragmentDuration;if(Ye&&Ye.length===1){var rn=Ye[0],pn=[t.Z.VIDEO,t.Z.AUDIO,t.Z.TEXT].reduce(function(tn,Un){var un=C.getMediaInfoForType(rn,Un);return un&&un.isFragmented!==!1&&tn.push(un),tn},[]).reduce(function(tn,Un){var un=C.getVoRepresentations(Un);return un&&un.length>0&&un.forEach(function(or){or&&tn.push(or)}),tn},[]).reduce(function(tn,Un){var un=C.convertRepresentationToRepresentationInfo(Un);return un&&un.fragmentDuration&&!isNaN(un.fragmentDuration)&&tn.push(un.fragmentDuration),tn},[]);jt=Math.max.apply(Math,function(tn){if(Array.isArray(tn))return dr(tn)}(yn=pn)||function(tn){if(typeof Symbol<"u"&&Symbol.iterator in Object(tn))return Array.from(tn)}(yn)||function(tn,Un){if(tn){if(typeof tn=="string")return dr(tn,Un);var un=Object.prototype.toString.call(tn).slice(8,-1);return un==="Object"&&tn.constructor&&(un=tn.constructor.name),un==="Map"||un==="Set"?Array.from(tn):un==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(un)?dr(tn,Un):void 0}}(yn)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}return isFinite(jt)?jt:NaN}catch{return NaN}var yn}function _r(Ye){if(Ye.error)ne=!0,pi();else{i.info("Manifest updated... updating data system wide.");var St=Ye.manifest;C.updatePeriods(St);var jt=C.getUTCTimingSources();!C.getIsDynamic()||jt&&jt.length!==0||je.trigger(e.Z.CONFORMANCE_VIOLATION,{level:ir.LEVELS.WARNING,event:ir.EVENTS.NO_UTC_TIMING_ELEMENT});var rn=C.getIsDynamic()?jt.concat(at.getUTCTimingSources()):jt;E.filterUnsupportedFeatures(St).then(function(){q.initialize(St),K.attemptSync(rn,C.getIsDynamic())})}}function mr(){return!!R&&R.getHasVideoTrack()}function mi(){return!!R&&R.getHasAudioTrack()}function Or(Ye,St){St=St||new Date,En().forEach(function(jt){jt.finalisePlayList(St,Ye)}),F.addPlayList()}function Vr(Ye){F.createPlaylistMetrics(1e3*ge.getTime(),Ye)}function Mr(Ye){if(Ye.error){var St="";switch(Ye.error.code){case 1:St="MEDIA_ERR_ABORTED";break;case 2:St="MEDIA_ERR_NETWORK";break;case 3:St="MEDIA_ERR_DECODE",Je.counts.mediaErrorDecode+=1;break;case 4:St="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:St="MEDIA_ERR_ENCRYPTED";break;default:St="UNKNOWN"}St==="MEDIA_ERR_DECODE"&&ee.get().errors.recoverAttempts.mediaErrorDecode>=Je.counts.mediaErrorDecode?function(){i.warn("A MEDIA_ERR_DECODE occured: Resetting the MediaSource");var jt=ge.getTime();R.deactivate(!1),i.warn("MediaSource has been resetted. Resuming playback from time ".concat(jt)),an(jt,!1,!1)}():(W=!0,Ye.error.message&&(St+=" ("+Ye.error.message+")"),Ye.error.msExtendedCode&&(St+=" (0x"+(Ye.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),i.fatal("Video Element Error: "+St),Ye.error&&i.fatal(Ye.error),oe.error(new V.Z(Ye.error.code,St)),pi())}}function pr(){return R?R.getStreamInfo():null}function Pr(Ye){for(var St=0,jt=p.length;St<jt;St++)if(p[St].getId()===Ye)return p[St];return null}function Qi(Ye){isNaN(Ye.newDuration)||Dn(Ye.newDuration)}function so(){p=[],Ie=NaN,Y=null,J=!1,R=null,W=!1,ne=!1,Ne=!0,ht=!0,Ae=!1,I=!0,et=null,ve=!1,Ce=!1,At=[],Ee=null,Je={counts:{mediaErrorDecode:0}}}function pi(){Ot(),K.reset(),Or(W||ne?we.FAILURE_STOP_REASON:we.USER_REQUEST_STOP_REASON);for(var Ye=0,St=p?p.length:0;Ye<St;Ye++)p[Ye].reset(W);je.off(e.Z.PLAYBACK_TIME_UPDATED,$,o),je.off(e.Z.PLAYBACK_SEEKING,dn,o),je.off(e.Z.PLAYBACK_ERROR,Mr,o),je.off(e.Z.PLAYBACK_STARTED,De,o),je.off(e.Z.PLAYBACK_PAUSED,ot,o),je.off(e.Z.PLAYBACK_ENDED,Ln,o),je.off(e.Z.METRIC_ADDED,uo,o),je.off(e.Z.MANIFEST_VALIDITY_CHANGED,Qi,o),je.off(e.Z.BUFFER_LEVEL_UPDATED,Mt,o),je.off(e.Z.QUALITY_CHANGE_REQUESTED,Be,o),u.Z.KEY_SESSION_UPDATED&&je.off(u.Z.KEY_SESSION_UPDATED,Gt,o),je.off(u.Z.MANIFEST_UPDATED,_r,o),je.off(u.Z.STREAM_BUFFERING_COMPLETED,_t,o),je.off(u.Z.TIME_SYNCHRONIZATION_COMPLETED,Ft,o),je.off(u.Z.CURRENT_TRACK_CHANGED,cn,o),je.off(u.Z.SETTING_UPDATED_LIVE_DELAY,st,o),je.off(u.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,st,o),q.reset(),T.reset(),de.reset(),F.clearAllCurrentMetrics(),m.setValue(null),_.reset(),Q.reset(),U.reset(),H&&(j.detachMediaSource(X),H=null),X=null,Y&&(Y=null,D=null,m.getValue()&&je.trigger(u.Z.PROTECTION_DESTROYED,{data:m.getValue().url})),$t(),je.trigger(u.Z.STREAM_TEARDOWN_COMPLETE),so()}function uo(Ye){if(Ye.metric===v.Z.DVR_INFO){var St=mi()?t.Z.AUDIO:t.Z.VIDEO;Ye.mediaType===St&&j.setSeekable(Ye.value.range.start,Ye.value.range.end)}}function yi(){return p}return o={initialize:function(Ye,St){Ot(),I=Ye,D=St,Q.initialize(),(T=Qr(Ge).create()).setConfig({manifestModel:m,adapter:C,manifestLoader:_,errHandler:oe,settings:ee}),T.initialize(),(de=vr(Ge).getInstance()).setConfig({manifestUpdater:T,playbackController:ge,settings:ee}),de.start(),K.setConfig({dashMetrics:F,baseURLController:q,errHandler:oe,settings:ee}),K.initialize(),Y&&(je.trigger(u.Z.PROTECTION_CREATED,{controller:Y}),Y.setMediaElement(X.getElement()),D&&Y.setProtectionData(D)),je.on(e.Z.PLAYBACK_TIME_UPDATED,$,o),je.on(e.Z.PLAYBACK_SEEKING,dn,o),je.on(e.Z.PLAYBACK_ERROR,Mr,o),je.on(e.Z.PLAYBACK_STARTED,De,o),je.on(e.Z.PLAYBACK_PAUSED,ot,o),je.on(e.Z.PLAYBACK_ENDED,Ln,o),je.on(e.Z.METRIC_ADDED,uo,o),je.on(e.Z.MANIFEST_VALIDITY_CHANGED,Qi,o),je.on(e.Z.BUFFER_LEVEL_UPDATED,Mt,o),je.on(e.Z.QUALITY_CHANGE_REQUESTED,Be,o),u.Z.KEY_SESSION_UPDATED&&je.on(u.Z.KEY_SESSION_UPDATED,Gt,o),je.on(u.Z.MANIFEST_UPDATED,_r,o),je.on(u.Z.STREAM_BUFFERING_COMPLETED,_t,o),je.on(u.Z.TIME_SYNCHRONIZATION_COMPLETED,Ft,o),je.on(u.Z.CURRENT_TRACK_CHANGED,cn,o),je.on(u.Z.SETTING_UPDATED_LIVE_DELAY,st,o),je.on(u.Z.SETTING_UPDATED_LIVE_DELAY_FRAGMENT_COUNT,st,o)},getActiveStreamInfo:pr,addDVRMetric:vt,hasVideoTrack:mr,hasAudioTrack:mi,getStreamById:Pr,getStreamForTime:nt,getTimeRelativeToStreamId:function(Ye,St){for(var jt=null,rn=0,pn=0,yn=null,tn=0;tn<p.length;tn++){if(pn=(jt=p[tn]).getStartTime(),yn=jt.getDuration(),Number.isFinite(pn)&&(rn=pn),jt.getId()===St)return Ye-rn;Number.isFinite(yn)&&(rn+=yn)}return null},load:function(Ye){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;Ot(),Ie=St,_.load(Ye)},loadWithManifest:function(Ye){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;Tt(),Ie=St,T.setManifest(Ye)},getActiveStreamProcessors:En,setConfig:function(Ye){Ye&&(Ye.capabilities&&(c=Ye.capabilities),Ye.capabilitiesFilter&&(E=Ye.capabilitiesFilter),Ye.manifestLoader&&(_=Ye.manifestLoader),Ye.manifestModel&&(m=Ye.manifestModel),Ye.mediaPlayerModel&&(Oe=Ye.mediaPlayerModel),Ye.customParametersModel&&(at=Ye.customParametersModel),Ye.protectionController&&(Y=Ye.protectionController),Ye.adapter&&(C=Ye.adapter),Ye.dashMetrics&&(F=Ye.dashMetrics),Ye.errHandler&&(oe=Ye.errHandler),Ye.timelineConverter&&(Q=Ye.timelineConverter),Ye.videoModel&&(X=Ye.videoModel),Ye.playbackController&&(ge=Ye.playbackController),Ye.serviceDescriptionController&&(Ue=Ye.serviceDescriptionController),Ye.contentSteeringController&&(O=Ye.contentSteeringController),Ye.textController&&(k=Ye.textController),Ye.abrController&&(re=Ye.abrController),Ye.mediaController&&(le=Ye.mediaController),Ye.settings&&(ee=Ye.settings),Ye.baseURLController&&(q=Ye.baseURLController),Ye.uriFragmentModel&&(ce=Ye.uriFragmentModel),Ye.segmentBaseController&&(Z=Ye.segmentBaseController))},setProtectionData:function(Ye){D=Ye,Y&&Y.setProtectionData(D)},getIsStreamSwitchInProgress:function(){return J},switchToVideoElement:function(Ye){R&&(ge.initialize(pr()),an(Ye,!1,!0))},getHasMediaOrInitialisationError:function(){return W||ne},getStreams:yi,getActiveStream:function(){return R},getInitialPlayback:function(){return Ne},getAutoPlay:function(){return I},reset:pi},i=(0,w.Z)(Ge).getInstance().getLogger(o),K=Si(Ge).getInstance(),j=bi(Ge).getInstance(),U=rt(Ge).getInstance(),so(),o}$r.__dashjs_factory_name="StreamController";const ar=h.Z.getSingletonFactory($r);function Jr(){var o,i,c,E,T,_,m,C,F,j,K,O,q=this.context,Z=(0,g.Z)(q).getInstance();function ce(){O.debug("Stopping the gap controller"),T&&(clearInterval(T),T=null),function(){Z.off(u.Z.WALLCLOCK_TIME_UPDATED,oe,this),Z.off(u.Z.INITIAL_STREAM_SWITCH,U,this),Z.off(u.Z.PLAYBACK_SEEKING,re,this),Z.off(u.Z.BUFFER_REPLACEMENT_STARTED,le,o),Z.off(u.Z.TRACK_CHANGE_RENDERED,de,o)}(),T=null,_=NaN,E=0,j=null,K={}}function re(){j&&(clearTimeout(j),j=null)}function le(D){try{if(D.streamId!==C.getActiveStreamInfo().id||D.mediaType!==t.Z.VIDEO&&D.mediaType!==t.Z.AUDIO)return;D.streamId===C.getActiveStreamInfo().id&&(K[D.mediaType]=!0)}catch(I){O.error(I)}}function de(D){D&&D.mediaType&&(K[D.mediaType]=!1)}function U(){T||function(){try{T||(O.debug("Starting the gap controller"),T=setInterval(function(){Q()&&k(m.getTime())},100))}catch{}}()}function oe(){if(Q(c.get().streaming.gaps.enableSeekFix)&&++E>=10){var D=m.getTime();i===D?k(D,!0):(i=D,_=NaN),E=0}}function Q(){var D=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(!C.getActiveStream())return!1;var I=Object.keys(K).some(function(W){return K[W]}),J=!!D&&p();return!I&&c.get().streaming.gaps.jumpGaps&&C.getActiveStreamProcessors().length>0&&(!m.isSeeking()||J)&&!m.isPaused()&&!C.getIsStreamSwitchInProgress()&&!C.getHasMediaOrInitialisationError()}function p(){var D=C.getActiveStream(),I=parseFloat((D.getStartTime()+D.getDuration()).toFixed(5));return m.getTime()+c.get().streaming.gaps.threshold>=I}function R(D,I){try{if(!D||D.length<=1&&I>0)return NaN;for(var J=NaN,W=0;isNaN(J)&&W<D.length;){var ne=W>0?D.end(W-1):0;I<D.start(W)&&ne-I<c.get().streaming.gaps.threshold&&(J=W),W+=1}return J}catch{return null}}function Y(D,I){for(var J=0,W=D.length;J<W;J++)if(I>=D.start(J)&&I<=D.end(J))return!0;return!1}function k(D){var I,J=arguments.length>1&&arguments[1]!==void 0&&arguments[1],W=c.get().streaming.gaps.enableStallFix,ne=c.get().streaming.gaps.stallSeek,H=c.get().streaming.gaps.smallGapLimit,X=c.get().streaming.gaps.jumpLargeGaps,ge=F.getBufferRange(),Ue=NaN,Oe=!1;if(I=R(ge,D),!isNaN(I)){var at=ge.start(I),Ae=at-D;Ae>0&&(Ae<=H||X)&&(Ue=at)}var Ne=m.getTimeToStreamEnd();if(isNaN(Ue)&&J&&isFinite(Ne)&&!isNaN(Ne)&&Ne<H&&(Ue=parseFloat(m.getStreamEndTime().toFixed(5)),Oe=!0),W&&isNaN(Ue)&&J&&isNaN(I)&&Y(ge,D)&&(ne===0?(O.warn("Toggle play pause to break stall"),F.pause(),F.play()):(O.warn("Jumping ".concat(ne,"s to break stall")),Ue=D+ne)),Ue>0&&_!==Ue&&Ue>D&&!j){var ht=Ue-D;if(Oe){var et=C.getStreamForTime(Ue),mt=et&&!!et.getPreloaded();O.warn("Jumping to end of stream because of gap from ".concat(D," to ").concat(Ue,". Gap duration: ").concat(ht)),m.seek(Ue,!0,mt)}else{var At=m.getIsDynamic(),Ce=I>0?ge.end(I-1):D,ee=At?1e3*Math.max(0,ht-.1):0;j=window.setTimeout(function(){m.seek(Ue,!0,!0),O.warn("Jumping gap occuring in period ".concat(C.getActiveStream().getStreamId()," starting at ").concat(Ce," and ending at ").concat(Ue,". Jumping by: ").concat(Ue-Ce)),j=null},ee)}_=Ue}}return o={reset:ce,setConfig:function(D){D&&(D.settings&&(c=D.settings),D.playbackController&&(m=D.playbackController),D.streamController&&(C=D.streamController),D.videoModel&&(F=D.videoModel))},initialize:function(){(function(){Z.on(u.Z.WALLCLOCK_TIME_UPDATED,oe,this),Z.on(u.Z.INITIAL_STREAM_SWITCH,U,this),Z.on(u.Z.PLAYBACK_SEEKING,re,this),Z.on(u.Z.BUFFER_REPLACEMENT_STARTED,le,o),Z.on(u.Z.TRACK_CHANGE_RENDERED,de,o)})()}},O=(0,w.Z)(q).getInstance().getLogger(o),ce(),o}Jr.__dashjs_factory_name="GapController";const hr=h.Z.getSingletonFactory(Jr);function ei(){var o,i,c,E,T,_,m,C,F,j,K=this.context,O=(0,g.Z)(K).getInstance();function q(){i=!1;var p=Nt.Z.parseUserAgent();c=p&&p.browser&&p.browser.name&&p.browser.name.toLowerCase()==="safari"}function Z(){i=!1}function ce(p){if(p.streamId===_.getActiveStreamInfo().id&&F){var R=m.getLiveDelay();m.getBufferLevel()>R/2&&(F=!1)}}function re(p){p.streamId===_.getActiveStreamInfo().id&&(F=p.state===v.Z.BUFFER_EMPTY)}function le(){C.getCatchupModeEnabled()||E.setPlaybackRate(1)}function de(){m.getIsDynamic()&&C.getCatchupModeEnabled()&&(C.getCatchupPlaybackRates().max>0||C.getCatchupPlaybackRates().min<0)&&!m.isPaused()&&!m.isSeeking()&&function(){try{return!(!m.getTime()>0||i)&&(oe()===t.Z.LIVE_CATCHUP_MODE_LOLP?function(p,R){try{return Math.abs(U())>0||p<R}catch{return!1}}(m.getBufferLevel(),T.get().streaming.liveCatchup.playbackBufferMin):function(){try{return Math.abs(U())>0}catch{return!1}}())}catch{return!1}}()&&function(){if(!i&&E){var p,R=E.getPlaybackRate(),Y=C.getCatchupPlaybackRates(),k=m.getBufferLevel(),D=U(),I=C.getCatchupMaxDrift();if(!isNaN(I)&&I>0&&D>I)j.info("[CatchupController]: Low Latency catchup mechanism. Latency too high, doing a seek to live point"),i=!0,m.seekToCurrentLive(!0,!1);else{var J=m.getCurrentLiveLatency(),W=m.getLiveDelay();p=oe()===t.Z.LIVE_CATCHUP_MODE_LOLP?function(H,X,ge,Ue,Oe){var at;if(Oe<Ue){var Ae=Math.abs(H.min),Ne=5*(Oe-Ue);at=1-Ae+2*Ae/(1+Math.pow(Math.E,-Ne)),j.debug("[LoL+ playback control_buffer-based] bufferLevel: "+Oe+", newRate: "+at)}else{var ht=H.max;if(Math.abs(X-ge)<=.02*ge)at=1;else{var et=5*(X-ge);at=1-ht+2*ht/(1+Math.pow(Math.E,-et))}j.debug("[LoL+ playback control_latency-based] latency: "+X+", newRate: "+at)}return at}(Y,J,W,T.get().streaming.liveCatchup.playbackBufferMin,k):function(H,X,ge,Ue){if(F)return 1;var Oe=X-ge,at=Oe<0?Math.abs(H.min):H.max,Ae=5*Oe,Ne=1-at+2*at/(1+Math.pow(Math.E,-Ae));return m.getPlaybackStalled()&&Ue<=ge/2&&Oe>0&&(Ne=1),Ne}(Y,J,W,k);var ne=c?.25:.02/(.5/Y.max);p&&Math.abs(R-p)>=ne&&(j.debug("[CatchupController]: Setting playback rate to ".concat(p)),E.setPlaybackRate(p))}}}()}function U(){return m.getCurrentLiveLatency()-m.getLiveDelay()}function oe(){var p=T.get().streaming.liveCatchup.playbackBufferMin;return T.get().streaming.liveCatchup.mode!==t.Z.LIVE_CATCHUP_MODE_LOLP||p===null||isNaN(p)?t.Z.LIVE_CATCHUP_MODE_DEFAULT:t.Z.LIVE_CATCHUP_MODE_LOLP}function Q(){C.getCatchupPlaybackRates(!0)}return o={reset:function(){O.off(e.Z.BUFFER_LEVEL_UPDATED,ce,o),O.off(e.Z.BUFFER_LEVEL_STATE_CHANGED,re,o),O.off(e.Z.PLAYBACK_PROGRESS,de,o),O.off(e.Z.PLAYBACK_TIME_UPDATED,de,o),O.off(e.Z.PLAYBACK_SEEKED,de,o),O.off(u.Z.SETTING_UPDATED_CATCHUP_ENABLED,le,o),O.off(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,Q,o),O.off(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,Q,o),O.off(e.Z.STREAM_INITIALIZED,Q,o),q(),E.setPlaybackRate(1,!0)},setConfig:function(p){p&&(p.settings&&(T=p.settings),p.videoModel&&(E=p.videoModel),p.streamController&&(_=p.streamController),p.playbackController&&(m=p.playbackController),p.mediaPlayerModel&&(C=p.mediaPlayerModel))},initialize:function(){O.on(e.Z.BUFFER_LEVEL_UPDATED,ce,o),O.on(e.Z.BUFFER_LEVEL_STATE_CHANGED,re,o),O.on(e.Z.PLAYBACK_PROGRESS,de,o),O.on(e.Z.PLAYBACK_TIME_UPDATED,de,o),O.on(e.Z.PLAYBACK_SEEKED,Z,o),O.on(u.Z.SETTING_UPDATED_CATCHUP_ENABLED,le,o),O.on(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MIN,Q,o),O.on(u.Z.SETTING_UPDATED_PLAYBACK_RATE_MAX,Q,o),O.on(e.Z.STREAM_INITIALIZED,Q,o),Q()}},j=(0,w.Z)(K).getInstance().getLogger(o),q(),o}ei.__dashjs_factory_name="CatchupController";const fo=h.Z.getSingletonFactory(ei);var go=[t.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME],ea="video",ta="audio";function na(){var o,i,c,E,T,_=this.context;function m(){i={liveDelay:NaN,liveCatchup:{maxDrift:NaN,playbackRate:{min:NaN,max:NaN}},minBitrate:{},maxBitrate:{},initialBitrate:{}},c=[]}function C(F,j,K){try{i[F][j]=K/1e3}catch(O){E.error(O)}}return o={getServiceDescriptionSettings:function(){return i},getProducerReferenceTimeOffsets:function(){return c},calculateProducerReferenceTimeOffsets:function(F){try{var j=[];if(F&&F.length>0){var K=[t.Z.VIDEO,t.Z.AUDIO,t.Z.TEXT],O=T.getAvailabilityStartTime()/1e3;F.forEach(function(q){var Z=K.reduce(function(ce,re){return ce.concat(T.getAllMediaInfoForType(q,re))},[]).reduce(function(ce,re){return T.getProducerReferenceTimes(q,re).forEach(function(le){var de=T.getVoRepresentations(re);if(de&&de.length>0&&de[0].adaptation&&de[0].segmentInfoType===r.Z.SEGMENT_TEMPLATE){var U=de[0],oe=new Date(le[r.Z.WALL_CLOCK_TIME]).getTime()/1e3-(le[r.Z.PRESENTATION_TIME]/U[r.Z.TIMESCALE]-U[r.Z.PRESENTATION_TIME_OFFSET]+q.start),Q=O-oe;ce.push({id:le[r.Z.ID],to:Q})}}),ce},[]);j=j.concat(Z)})}c=j}catch(q){E.error(q),c=[]}},applyServiceDescription:function(F){if(F&&F.serviceDescriptions){var j=F.serviceDescriptions.filter(function(q){return go.includes(q.schemeIdUri)}),K=F.serviceDescriptions.filter(function(q){return q.schemeIdUri==null}),O=j.length>0?j[j.length-1]:K[K.length-1];O&&(O.latency&&O.latency.target>0&&function(q){var Z;if(q.schemeIdUri,t.Z.SERVICE_DESCRIPTION_DVB_LL_SCHEME,Z=function(de){return{liveDelay:de.latency.target/1e3,maxDrift:!isNaN(de.latency.max)&&de.latency.max>de.latency.target?(de.latency.max-de.latency.target+500)/1e3:NaN,referenceId:de.latency.referenceId||NaN}}(q),c.length>0){var ce=function(de){var U,oe=0,Q=c.filter(function(p){return p.id===de.referenceId});return Q.length===0?(oe=c.length>0?c[0].to:0,U=c[0].id||NaN):(oe=Q[0].to||0,U=Q[0].id||NaN),{to:oe,id:U}}(Z),re=ce.to,le=ce.id;i.liveDelay=Z.liveDelay-re,i.liveCatchup.maxDrift=Z.maxDrift,E.debug(`
                Found latency properties coming from service description. Applied time offset of `.concat(re," from ProducerReferenceTime element with id ").concat(le,`.
                Live Delay: `).concat(Z.liveDelay-re,", Live catchup max drift: ").concat(Z.maxDrift,`
            `))}else i.liveDelay=Z.liveDelay,i.liveCatchup.maxDrift=Z.maxDrift,E.debug("Found latency properties coming from service description: Live Delay: ".concat(Z.liveDelay,", Live catchup max drift: ").concat(Z.maxDrift))}(O),O.playbackRate&&function(q){var Z=q.playbackRate.min?Math.round(1e3*(q.playbackRate.min-1))/1e3:NaN,ce=q.playbackRate.max?Math.round(1e3*(q.playbackRate.max-1))/1e3:NaN;i.liveCatchup.playbackRate.min=Z,i.liveCatchup.playbackRate.max=ce,E.debug("Found latency properties coming from service description: Live catchup min playback rate: ".concat(Z)),E.debug("Found latency properties coming from service description: Live catchup max playback rate: ".concat(ce))}(O),O.operatingQuality,O.operatingBandwidth&&function(q){if(q&&q.operatingBandwidth&&q.operatingBandwidth.mediaType&&q.operatingBandwidth.mediaType!=="all"){var Z={};Z.minBandwidth=q.operatingBandwidth.min,Z.maxBandwidth=q.operatingBandwidth.max,Z.targetBandwidth=q.operatingBandwidth.target;var ce=[];q.operatingBandwidth.mediaType===ea||q.operatingBandwidth.mediaType===ta?ce.push(q.operatingBandwidth.mediaType):q.operatingBandwidth.mediaType==="any"&&(ce.push(ta),ce.push(ea)),ce.forEach(function(re){isNaN(Z.minBandwidth)||C("minBitrate",re,Z.minBandwidth),isNaN(Z.maxBandwidth)||C("maxBitrate",re,Z.maxBandwidth),isNaN(Z.targetBandwidth)||C("initialBitrate",re,Z.targetBandwidth)})}}(O))}},reset:function(){m()},setConfig:function(F){F&&F.adapter&&(T=F.adapter)}},E=(0,w.Z)(_).getInstance().getLogger(o),m(),o}na.__dashjs_factory_name="ServiceDescriptionController";const ho=h.Z.getSingletonFactory(na),mo=function o(i){(function(c,E){if(!(c instanceof E))throw new TypeError("Cannot call a class as a function")})(this,o),this.url=i||null,this.type=Te.w.CONTENT_STEERING_TYPE,this.responseType="json"},po=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.version=null,this.ttl=300,this.reloadUri=null,this.serviceLocationPriority=[]};function ra(){var o,i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re=this.context,le=(0,Pe.Z)(re).getInstance();function de(k){k&&k.toStreamInfo&&(E=k.toStreamInfo)}function U(k){k&&k.request&&k.request.serviceLocation&&(T=k.request.serviceLocation)}function oe(){var k=K.getValue();return ce.getContentSteering(k)}function Q(){return new Promise(function(k){try{var D=oe();if(!D||!D.serverUrl)return void k();var I=function(W){var ne=W.proxyServerUrl?W.proxyServerUrl:W.serverUrl;c&&c.reloadUri&&(ne=le.isRelative(c.reloadUri)?le.resolve(c.reloadUri,W.serverUrl):c.reloadUri);var H=[];if(E){var X=ce.getIsDynamic(),ge=ce.getAllMediaInfoForType(E,t.Z.VIDEO).length>0?t.Z.VIDEO:t.Z.AUDIO,Ue=q.getThroughputHistory(),Oe=Ue?Ue.getAverageThroughput(ge,X):NaN;isNaN(Oe)||H.push({key:"_DASH_throughput",value:1e3*Oe})}return T&&H.push({key:"_DASH_pathway",value:T}),W.proxyServerUrl&&W.proxyServerUrl===ne&&W.serverUrl&&H.push({key:"url",value:encodeURI(W.serverUrl)}),ne=Nt.Z.addAditionalQueryParameterToUrl(ne,H)}(D),J=new mo(I);m.load({request:J,success:function(W){(function(ne){ne&&ne[r.Z.CONTENT_STEERING_RESPONSE.VERSION]&&parseInt(ne[r.Z.CONTENT_STEERING_RESPONSE.VERSION])===1&&((c=new po).version=ne[r.Z.CONTENT_STEERING_RESPONSE.VERSION],ne[r.Z.CONTENT_STEERING_RESPONSE.TTL]&&!isNaN(ne[r.Z.CONTENT_STEERING_RESPONSE.TTL])&&(c.ttl=ne[r.Z.CONTENT_STEERING_RESPONSE.TTL]),ne[r.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]&&(c.reloadUri=ne[r.Z.CONTENT_STEERING_RESPONSE.RELOAD_URI]),ne[r.Z.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]&&(c.serviceLocationPriority=ne[r.Z.CONTENT_STEERING_RESPONSE.SERVICE_LOCATION_PRIORITY]),p())})(W),Z.trigger(e.Z.CONTENT_STEERING_REQUEST_COMPLETED,{currentSteeringResponseData:c,url:I}),k()},error:function(W){(function(ne){i.warn("Error fetching data from content steering server",ne),p()})(W),k(W)}})}catch(W){k(W)}})}function p(){c&&c.ttl&&!isNaN(c.ttl)&&(_&&clearTimeout(_),_=setTimeout(function(){Q()},1e3*c.ttl))}function R(){_&&clearTimeout(_),_=null}function Y(){c=null,E=null,T=null,R()}return o={reset:function(){Y(),Z.off(e.Z.PERIOD_SWITCH_COMPLETED,de,o),Z.off(u.Z.FRAGMENT_LOADING_STARTED,U,o)},setConfig:function(k){k&&(k.adapter&&(ce=k.adapter),k.errHandler&&(C=k.errHandler),k.dashMetrics&&(F=k.dashMetrics),k.mediaPlayerModel&&(j=k.mediaPlayerModel),k.requestModifier&&(O=k.requestModifier),k.manifestModel&&(K=k.manifestModel),k.abrController&&(q=k.abrController),k.eventBus&&(Z=k.eventBus))},loadSteeringData:Q,getCurrentSteeringResponseData:function(){return c},shouldQueryBeforeStart:function(){var k=oe();return k&&k.queryBeforeStart},getSteeringDataFromManifest:oe,stopSteeringRequestTimer:R,initialize:function(){m=Jt(re).create({errHandler:C,dashMetrics:F,mediaPlayerModel:j,requestModifier:O,errors:ae}),Z.on(e.Z.PERIOD_SWITCH_COMPLETED,de,o),Z.on(u.Z.FRAGMENT_LOADING_STARTED,U,o)}},i=(0,w.Z)(re).getInstance().getLogger(o),Y(),o}ra.__dashjs_factory_name="ContentSteeringController";const ia=h.Z.getSingletonFactory(ra);var yo=L(3973),ti=L.n(yo),aa=L(3039);function Ai(){var o,i,c,E,T,_,m,C,F=this.context,j=(0,g.Z)(F).getInstance();function K(H,X){return H&&c[X]&&c[X][H]?c[X][H].list:[]}function O(H,X){return H&&c[X]&&c[X][H]?c[X][H].current:null}function q(H){var X=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(H&&H.streamInfo){var ge=H.type,Ue=H.streamInfo,Oe=Ue.id,at=O(ge,Oe);if(c[Oe]&&c[Oe][ge]&&(c[Oe][ge].current=H,c[Oe][ge].current&&(ge!==t.Z.TEXT&&!re(H,at)||ge===t.Z.TEXT&&H.isFragmented)&&j.trigger(u.Z.CURRENT_TRACK_CHANGED,{oldMediaInfo:at,newMediaInfo:H,switchMode:E.get().streaming.trackSwitchMode[ge]},{streamId:Oe}),!X)){var Ae=de(H);if(!Ae||!c[Oe][ge].storeLastSettings)return;Ae.roles&&(Ae.role=Ae.roles[0],delete Ae.roles),Ae.accessibility&&(Ae.accessibility=Ae.accessibility[0]),Ae.audioChannelConfiguration&&(Ae.audioChannelConfiguration=Ae.audioChannelConfiguration[0]),_[ge]=Ae,C.setSavedMediaSettings(ge,Ae)}}}function Z(H,X){H&&X&&(T[H]=X)}function ce(H){return H?T[H]:null}function re(H,X){if(!H&&!X)return!0;if(!H||!X)return!1;var ge=H.id===X.id,Ue=H.viewpoint===X.viewpoint,Oe=H.lang===X.lang,at=H.codec===X.codec,Ae=H.roles.toString()===X.roles.toString(),Ne=H.accessibility.toString()===X.accessibility.toString(),ht=H.audioChannelConfiguration.toString()===X.audioChannelConfiguration.toString();return ge&&at&&Ue&&Oe&&Ae&&Ne&&ht}function le(){c={},_={},T={audio:null,video:null,text:null}}function de(H){var X={lang:H.lang,viewpoint:H.viewpoint,roles:H.roles,accessibility:H.accessibility,audioChannelConfiguration:H.audioChannelConfiguration};return X.lang||X.viewpoint||X.role&&X.role.length>0||X.accessibility&&X.accessibility.length>0||X.audioChannelConfiguration&&X.audioChannelConfiguration.length>0?X:null}function U(H,X,ge){var Ue=[];return H.forEach(function(Oe){X(ge,Oe)&&Ue.push(Oe)}),Ue.length!==0?Ue:H}function oe(H,X){return!H.lang||H.lang instanceof RegExp?X.lang.match(H.lang):X.lang!==""&&(0,aa.extendedFilter)(X.lang,ti()(H.lang)).length>0}function Q(H,X){return H.index===void 0||H.index===null||X.index===H.index}function p(H,X){return!H.viewpoint||H.viewpoint===X.viewpoint}function R(H,X){var ge=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ue=!H.role||!!X.roles.filter(function(Oe){return Oe===H.role})[0];return Ue||X.type===t.Z.AUDIO&&ge}function Y(H,X){return H.accessibility?!!X.accessibility.filter(function(ge){return ge===H.accessibility})[0]:!X.accessibility.length}function k(H,X){return!H.audioChannelConfiguration||!!X.audioChannelConfiguration.filter(function(ge){return ge===H.audioChannelConfiguration})[0]}function D(H){var X,ge=0,Ue=[];return H.forEach(function(Oe){(X=Math.max.apply(Math,Oe.bitrateList.map(function(at){return at.bandwidth})))>ge?(ge=X,Ue=[Oe]):X===ge&&Ue.push(Oe)}),Ue}function I(H){var X,ge=1/0,Ue=[];return H.forEach(function(Oe){var at=Oe.bitrateList.reduce(function(Ae,Ne){var ht=Math.max(1,Ne.width*Ne.height);return Ae+Ne.bandwidth/ht},0);(X=at/Oe.bitrateList.length)<ge?(ge=X,Ue=[Oe]):X===ge&&Ue.push(Oe)}),Ue}function J(H){var X,ge=0,Ue=[];return H.forEach(function(Oe){(X=Oe.representationCount)>ge?(ge=X,Ue=[Oe]):X===ge&&Ue.push(Oe)}),Ue}function W(H,X){if(H===t.Z.TEXT)return X[0];var ge,Ue=E.get().streaming.selectionModeForInitialTrack,Oe=m.getCustomInitialTrackSelectionFunction();if(Oe&&typeof Oe=="function")ge=Oe(X);else switch(Ue){case t.Z.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY:ge=function(at){var Ae,Ne,ht=(Ae=0,Ne=[],at.forEach(function(et){isNaN(et.selectionPriority)||(et.selectionPriority>Ae?(Ae=et.selectionPriority,Ne=[et]):et.selectionPriority===Ae&&Ne.push(et))}),Ne);return ht.length>1&&(ht=D(ht)),ht.length>1&&(ht=J(ht)),ht}(X);break;case t.Z.TRACK_SELECTION_MODE_HIGHEST_BITRATE:ge=function(at){var Ae=D(at);return Ae.length>1&&(Ae=J(Ae)),Ae}(X);break;case t.Z.TRACK_SELECTION_MODE_FIRST_TRACK:ge=ne(X);break;case t.Z.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY:ge=function(at){var Ae=I(at);return Ae.length>1&&(Ae=D(Ae)),Ae}(X);break;case t.Z.TRACK_SELECTION_MODE_WIDEST_RANGE:ge=function(at){var Ae=J(at);return Ae.length>1&&(Ae=D(at)),Ae}(X);break;default:i.warn("Track selection mode ".concat(Ue," is not supported. Falling back to TRACK_SELECTION_MODE_FIRST_TRACK")),ge=ne(X)}return ge.length>0?ge[0]:X[0]}function ne(H){return H[0]}return o={setInitialMediaSettingsForType:function(H,X){var ge=_[H]||ce(H),Ue=K(H,X.id),Oe=[];ge||Z(H,ge=C.getSavedMediaSettings(H)),Ue&&Ue.length!==0&&(ge&&(Oe=U(Oe=Array.from(Ue),oe,ge),Oe=U(Oe,Q,ge),Oe=U(Oe,p,ge),H===t.Z.AUDIO&&_[H]||(Oe=U(Oe,R,ge)),Oe=U(Oe,Y,ge),Oe=U(Oe,k,ge)),Oe.length===0?q(W(H,Ue),!0):Oe.length>1?q(W(H,Oe,_[H])):q(Oe[0]))},addTrack:function(H){if(H){var X=H.type;if((ge=X)===t.Z.AUDIO||ge===t.Z.VIDEO||ge===t.Z.TEXT||ge===t.Z.IMAGE){var ge,Ue=H.streamInfo.id;c[Ue]||(c[Ue]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var Oe=c[Ue][X].list,at=0,Ae=Oe.length;at<Ae;++at)if(re(Oe[at],H))return;Oe.push(H)}}},getTracksFor:K,getCurrentTrackFor:O,isCurrentTrack:function(H){if(!H)return!1;var X=H.type,ge=H.streamInfo.id;return c[ge]&&c[ge][X]&&re(c[ge][X].current,H)},setTrack:q,selectInitialTrack:W,setInitialSettings:Z,getInitialSettings:ce,getTracksWithHighestBitrate:D,getTracksWithHighestEfficiency:I,getTracksWithWidestRange:J,isTracksEqual:re,matchSettings:function(H,X){var ge=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{var Ue=!1;if(H.lang){if(H.lang instanceof RegExp)Ue=X.lang.match(H.lang);else if(X.lang!==""){var Oe=ti()(H.lang);Oe&&(Ue=(0,aa.extendedFilter)(X.lang,Oe).length>0)}}else Ue=!0;var at=H.index===void 0||H.index===null||X.index===H.index,Ae=!H.viewpoint||H.viewpoint===X.viewpoint,Ne=!H.role||!!X.roles.filter(function(mt){return mt===H.role})[0],ht=!H.accessibility||!!X.accessibility.filter(function(mt){return mt===H.accessibility})[0],et=!H.audioChannelConfiguration||!!X.audioChannelConfiguration.filter(function(mt){return mt===H.audioChannelConfiguration})[0];return Ue&&at&&Ae&&(Ne||X.type===t.Z.AUDIO&&ge)&&ht&&et}catch{return!1}},matchSettingsLang:oe,matchSettingsIndex:Q,matchSettingsViewPoint:p,matchSettingsRole:R,matchSettingsAccessibility:Y,matchSettingsAudioChannelConfig:k,saveTextSettingsDisabled:function(){C.setSavedMediaSettings(t.Z.TEXT,null)},setConfig:function(H){H&&(H.domStorage&&(C=H.domStorage),H.settings&&(E=H.settings),H.customParametersModel&&(m=H.customParametersModel))},reset:le},i=(0,w.Z)(F).getInstance().getLogger(o),le(),o}Ai.__dashjs_factory_name="MediaController";var oa=h.Z.getSingletonFactory(Ai);h.Z.updateSingletonFactory(Ai.__dashjs_factory_name,oa);const Eo=oa;var ni=NaN,sa=function o(i,c){(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,o),this.data={baseUrls:i||null,selectedIdx:c||ni},this.children=[]};function ua(){var o,i,c,E=this.context,T=it(E).getInstance();function _(F,j,K){var O=c.getBaseURLsFromElement(K);F[j]?T.areEqual(O,F[j].data.baseUrls)||(F[j].data.baseUrls=O,F[j].data.selectedIdx=ni):F[j]=new sa(O)}function m(F,j){var K=j||i;F(K.data),K.children&&K.children.forEach(function(O){return m(F,O)})}function C(){i=new sa}return o={reset:C,update:function(F){(function(j){(function(){if(!c||!c.hasOwnProperty("getBaseURLsFromElement")||!c.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously")})();var K=c.getBaseURLsFromElement(j);T.areEqual(K,i.data.baseUrls)||(i.data.baseUrls=K,i.data.selectedIdx=ni),j&&j.Period_asArray&&j.Period_asArray.forEach(function(O,q){_(i.children,q,O),O.AdaptationSet_asArray&&O.AdaptationSet_asArray.forEach(function(Z,ce){_(i.children[q].children,ce,Z),Z.Representation_asArray&&Z.Representation_asArray.sort(c.getRepresentationSortFunction()).forEach(function(re,le){_(i.children[q].children[ce].children,le,re)})})})})(F)},getForPath:function(F){var j=i,K=[j.data];return F&&F.forEach(function(O){(j=j.children[O])&&K.push(j.data)}),K.filter(function(O){return O.baseUrls.length})},invalidateSelectedIndexes:function(F){m(function(j){isNaN(j.selectedIdx)||F===j.baseUrls[j.selectedIdx].serviceLocation&&(j.selectedIdx=ni)})},setConfig:function(F){F.adapter&&(c=F.adapter)}},C(),o}ua.__dashjs_factory_name="BaseURLTreeModel";const vo=h.Z.getClassFactory(ua);function la(o){var i=(o=o||{}).blacklistController;return{select:function(c){return c&&function(T){var _,m,C=0,F=[],j=0;if((m=T.sort(function(K,O){var q=K.dvb_priority-O.dvb_priority;return isNaN(q)?0:q}).filter(function(K,O,q){return!O||q[0].dvb_priority&&K.dvb_priority&&q[0].dvb_priority===K.dvb_priority})).length)return m.length>1&&(m.forEach(function(K){C+=K.dvb_weight,F.push(C)}),_=Math.floor(Math.random()*(C-1)),F.every(function(K,O){return j=O,!(_<K)})),m[j]}((E=[],c.filter(function(T){return!i.contains(T.serviceLocation)||(T.dvb_priority&&E.push(T.dvb_priority),!1)}).filter(function(T){return!E.length||!T.dvb_priority||E.indexOf(T.dvb_priority)===-1})));var E}}}la.__dashjs_factory_name="DVBSelector";const _o=h.Z.getClassFactory(la);function ca(o){var i=(o=o||{}).blacklistController;return{select:function(c){var E,T=0;return c&&c.some(function(_,m){return T=m,!i.contains(_.serviceLocation)})&&(E=c[T]),E}}}ca.__dashjs_factory_name="BasicSelector";const To=h.Z.getClassFactory(ca);function fa(){var o,i,c,E=this.context;function T(){for(var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=0,F=NaN,j=function(){var O=_[C],q=m.findIndex(function(Z){return Z.serviceLocation&&Z.serviceLocation===O});if(q!==-1&&!c.contains(m[q].serviceLocation))return F=q,"break";C+=1};C<_.length;){var K=j();if(K==="break")break}return F}return o={selectBaseUrlIndex:function(_){var m=NaN;if(isNaN(_.selectedIdx)){var C=i.getSteeringDataFromManifest();C&&C.defaultServiceLocation&&(m=T([C.defaultServiceLocation],_.baseUrls))}var F=i.getCurrentSteeringResponseData();return _.baseUrls&&_.baseUrls.length&&F&&F.serviceLocationPriority&&F.serviceLocationPriority.length&&(m=T(F.serviceLocationPriority,_.baseUrls)),m},setConfig:function(_){_.blacklistController&&(c=_.blacklistController),_.contentSteeringController&&(i=_.contentSteeringController)}},i=ia(E).getInstance(),o}fa.__dashjs_factory_name="ContentSteeringSelector";const So=h.Z.getClassFactory(fa);function da(){var o,i,c,E,T,_,m=this.context,C=(0,g.Z)(m).getInstance(),F=(0,pt.Z)(m).getInstance();function j(){i.reset()}return o={chooseSelector:function(K){(0,ie.PS)(K,"boolean"),_=K?E:c},select:function(K){if(K){if(F.get().streaming.applyContentSteering){var O=T.selectBaseUrlIndex(K);isNaN(O)||O===-1||(K.selectedIdx=O)}if(!isNaN(K.selectedIdx))return K.baseUrls[K.selectedIdx];var q=_.select(K.baseUrls);return q?(K.selectedIdx=K.baseUrls.indexOf(q),q):(C.trigger(u.Z.URL_RESOLUTION_FAILED,{error:new V.Z(ae.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,ae.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(_===c&&j()))}},reset:j,setConfig:function(K){K.selector&&(_=K.selector),K.contentSteeringSelector&&(T=K.contentSteeringSelector)}},i=Zr(m).create({updateEventName:u.Z.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:u.Z.SERVICE_LOCATION_BLACKLIST_ADD}),c=To(m).create({blacklistController:i}),E=_o(m).create({blacklistController:i}),(T=So(m).create()).setConfig({blacklistController:i}),_=c,o}da.__dashjs_factory_name="BaseURLSelector";const bo=h.Z.getClassFactory(da);function ga(){var o,i,c,E,T=this.context,_=(0,g.Z)(T).getInstance(),m=(0,Pe.Z)(T).getInstance();return o={reset:function(){c.reset(),E.reset()},initialize:function(C){var F;c.setConfig({adapter:i}),F=C,c.update(F),E.chooseSelector(i.getIsDVB(F))},resolve:function(C){var F=c.getForPath(C).reduce(function(j,K){var O=E.select(K);return O?(m.isRelative(O.url)?j.url=m.resolve(O.url,j.url):(j.url=O.url,j.serviceLocation=O.serviceLocation),j.availabilityTimeOffset=O.availabilityTimeOffset,j.availabilityTimeComplete=O.availabilityTimeComplete,j):new nr},new nr);if(!m.isRelative(F.url))return F},setConfig:function(C){C.baseURLTreeModel&&(c=C.baseURLTreeModel),C.baseURLSelector&&(E=C.baseURLSelector),C.adapter&&(i=C.adapter)}},c=vo(T).create(),E=bo(T).create(),_.on(u.Z.SERVICE_LOCATION_BLACKLIST_CHANGED,function(C){c.invalidateSelectedIndexes(C.entry)},o),o}ga.__dashjs_factory_name="BaseURLController";const Ao=h.Z.getClassFactory(ga);function Ii(o){return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ii(o)}function Ri(o,i){return Ri=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},Ri(o,i)}function Io(o,i){return!i||Ii(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function ri(o){return ri=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},ri(o)}const ha=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&Ri(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=ri(i);if(c){var C=ri(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Io(this,_)});function T(_,m){var C;return function(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")}(this,T),(C=E.call(this)).url=_||null,C.type=m||null,C.mediaType=t.Z.STREAM,C.responseType="",C}return T}(b.Z);function ma(o){o=o||{};var i=this.context,c=(0,g.Z)(i).getInstance(),E=Jt(i).create({errHandler:o.errHandler,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,errors:ae});return{load:function(T,_,m){var C=function(j,K){_.resolved=!0,_.resolvedContent=j||null,c.trigger(u.Z.XLINK_ELEMENT_LOADED,{element:_,resolveObject:m,error:j||K?null:new V.Z(ae.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,ae.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+T)})};if(T==="urn:mpeg:dash:resolve-to-zero:2013")C(null,!0);else{var F=new ha(T,Te.w.XLINK_EXPANSION_TYPE);E.load({request:F,success:function(j){C(j)},error:function(){C(null)}})}},reset:function(){E&&(E.abort(),E=null)}}}ma.__dashjs_factory_name="XlinkLoader";const Ro=h.Z.getClassFactory(ma),pa=function(o){(o=o||{}).escapeMode===void 0&&(o.escapeMode=!0),o.attributePrefix===void 0&&(o.attributePrefix="_"),o.arrayAccessForm=o.arrayAccessForm||"none",o.emptyNodeForm=o.emptyNodeForm||"text",o.enableToStringFunc===void 0&&(o.enableToStringFunc=!0),o.arrayAccessFormPaths=o.arrayAccessFormPaths||[],o.skipEmptyTextNodesForObj===void 0&&(o.skipEmptyTextNodesForObj=!0),o.stripWhitespaces===void 0&&(o.stripWhitespaces=!0),o.datetimeAccessFormPaths=o.datetimeAccessFormPaths||[],o.useDoubleQuotes===void 0&&(o.useDoubleQuotes=!1),o.xmlElementsFilter=o.xmlElementsFilter||[],o.jsonPropertiesFilter=o.jsonPropertiesFilter||[],o.keepCData===void 0&&(o.keepCData=!1),o.ignoreRoot===void 0&&(o.ignoreRoot=!1);function i(U){var oe=U.localName;return oe==null&&(oe=U.baseName),oe!=null&&oe!=""||(oe=U.nodeName),oe}function c(U){return typeof U=="string"?U.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):U}function E(U,oe,Q,p){for(var R=0;R<U.length;R++){var Y=U[R];if(typeof Y=="string"){if(Y==p)break}else if(Y instanceof RegExp){if(Y.test(p))break}else if(typeof Y=="function"&&Y(oe,Q,p))break}return R!=U.length}function T(U,oe,Q){o.arrayAccessForm==="property"&&(U[oe]instanceof Array?U[oe+"_asArray"]=U[oe]:U[oe+"_asArray"]=[U[oe]]),!(U[oe]instanceof Array)&&o.arrayAccessFormPaths.length>0&&E(o.arrayAccessFormPaths,U,oe,Q)&&(U[oe]=[U[oe]])}function _(U){var oe=U.split(/[-T:+Z]/g),Q=new Date(oe[0],oe[1]-1,oe[2]),p=oe[5].split(".");if(Q.setHours(oe[3],oe[4],p[0]),p.length>1&&Q.setMilliseconds(p[1]),oe[6]&&oe[7]){var R=60*oe[6]+Number(oe[7]);R=0+((/\d\d-\d\d:\d\d$/.test(U)?"-":"+")=="-"?-1*R:R),Q.setMinutes(Q.getMinutes()-R-Q.getTimezoneOffset())}else U.indexOf("Z",U.length-1)!==-1&&(Q=new Date(Date.UTC(Q.getFullYear(),Q.getMonth(),Q.getDate(),Q.getHours(),Q.getMinutes(),Q.getSeconds(),Q.getMilliseconds())));return Q}function m(U,oe,Q,p){return!(oe==1&&o.xmlElementsFilter.length>0)||E(o.xmlElementsFilter,U,Q,p)}function C(U,oe){if(U.nodeType==9){for(var Q=new Object,p=U.childNodes,R=0;R<p.length;R++)(k=p[R]).nodeType==1&&(o.ignoreRoot?Q=C(k):(Q={})[D=i(k)]=C(k));return Q}if(U.nodeType==1){(Q=new Object).__cnt=0;var Y=[];for(p=U.childNodes,R=0;R<p.length;R++){var k,D=i(k=p[R]);if(k.nodeType!=8){var I=oe+"."+D;if(m(Q,k.nodeType,D,I))if(Q.__cnt++,Q[D]==null){var J=C(k,I);(D!="#text"||/[^\s]/.test(J))&&((W={})[D]=J,Y.push(W)),Q[D]=J,T(Q,D,I)}else{var W;Q[D]!=null&&(Q[D]instanceof Array||(Q[D]=[Q[D]],T(Q,D,I))),J=C(k,I),(D!="#text"||/[^\s]/.test(J))&&((W={})[D]=J,Y.push(W)),Q[D][Q[D].length]=J}}}Q.__children=Y;for(var ne=i(U),H=0;H<U.attributes.length;H++){var X=U.attributes[H];Q.__cnt++;for(var ge=X.value,Ue=0,Oe=o.matchers.length;Ue<Oe;Ue++){var at=o.matchers[Ue];at.test(X,ne)&&(ge=at.converter(X.value))}Q[o.attributePrefix+X.name]=ge}var Ae=function(Ne){return Ne.prefix}(U);return Ae!=null&&Ae!=""&&(Q.__cnt++,Q.__prefix=Ae),Q["#text"]!=null&&(Q.__text=Q["#text"],Q.__text instanceof Array&&(Q.__text=Q.__text.join(`
`)),o.stripWhitespaces&&(Q.__text=Q.__text.trim()),delete Q["#text"],o.arrayAccessForm=="property"&&delete Q["#text_asArray"],Q.__text=function(Ne,ht,et){if(o.datetimeAccessFormPaths.length>0){var mt=et.split(".#")[0];return E(o.datetimeAccessFormPaths,Ne,ht,mt)?_(Ne):Ne}return Ne}(Q.__text,D,oe+"."+D)),Q["#cdata-section"]!=null&&(Q.__cdata=Q["#cdata-section"],delete Q["#cdata-section"],o.arrayAccessForm=="property"&&delete Q["#cdata-section_asArray"]),Q.__cnt==0&&o.emptyNodeForm=="text"?Q="":Q.__cnt==1&&Q.__text!=null?Q=Q.__text:Q.__cnt!=1||Q.__cdata==null||o.keepCData?Q.__cnt>1&&Q.__text!=null&&o.skipEmptyTextNodesForObj&&(o.stripWhitespaces&&Q.__text==""||Q.__text.trim()=="")&&delete Q.__text:Q=Q.__cdata,delete Q.__cnt,!o.enableToStringFunc||Q.__text==null&&Q.__cdata==null||(Q.toString=function(){return(this.__text!=null?this.__text:"")+(this.__cdata!=null?this.__cdata:"")}),Q}if(U.nodeType==3||U.nodeType==4)return U.nodeValue}function F(U,oe,Q,p){var R="<"+(U!=null&&U.__prefix!=null?U.__prefix+":":"")+oe;if(Q!=null)for(var Y=0;Y<Q.length;Y++){var k=Q[Y],D=U[k];o.escapeMode&&(D=c(D)),R+=" "+k.substr(o.attributePrefix.length)+"=",o.useDoubleQuotes?R+='"'+D+'"':R+="'"+D+"'"}return R+(p?"/>":">")}function j(U,oe){return"</"+(U.__prefix!=null?U.__prefix+":":"")+oe+">"}function K(U,oe){return o.arrayAccessForm=="property"&&(p="_asArray",(Q=oe.toString()).indexOf(p,Q.length-p.length)!==-1)||oe.toString().indexOf(o.attributePrefix)==0||oe.toString().indexOf("__")==0||U[oe]instanceof Function;var Q,p}function O(U){var oe=0;if(U instanceof Object)for(var Q in U)K(U,Q)||oe++;return oe}function q(U,oe,Q){return o.jsonPropertiesFilter.length==0||Q==""||E(o.jsonPropertiesFilter,U,oe,Q)}function Z(U){var oe=[];if(U instanceof Object)for(var Q in U)Q.toString().indexOf("__")==-1&&Q.toString().indexOf(o.attributePrefix)==0&&oe.push(Q);return oe}function ce(U){var oe="";return U instanceof Object?oe+=function(Q){var p="";return Q.__cdata!=null&&(p+="<![CDATA["+Q.__cdata+"]]>"),Q.__text!=null&&(o.escapeMode?p+=c(Q.__text):p+=Q.__text),p}(U):U!=null&&(o.escapeMode?oe+=c(U):oe+=U),oe}function re(U,oe){return U===""?oe:U+"."+oe}function le(U,oe,Q,p){var R="";if(U.length==0)R+=F(U,oe,Q,!0);else for(var Y=0;Y<U.length;Y++)R+=F(U[Y],oe,Z(U[Y]),!1),R+=de(U[Y],re(p,oe)),R+=j(U[Y],oe);return R}function de(U,oe){var Q="";if(O(U)>0){for(var p in U)if(!K(U,p)&&(oe==""||q(U,p,re(oe,p)))){var R=U[p],Y=Z(R);R==null||R==null?Q+=F(R,p,Y,!0):R instanceof Object?R instanceof Array?Q+=le(R,p,Y,oe):R instanceof Date?(Q+=F(R,p,Y,!1),Q+=R.toISOString(),Q+=j(R,p)):O(R)>0||R.__text!=null||R.__cdata!=null?(Q+=F(R,p,Y,!1),Q+=de(R,re(oe,p)),Q+=j(R,p)):Q+=F(R,p,Y,!0):(Q+=F(R,p,Y,!1),Q+=ce(R),Q+=j(R,p))}}return Q+ce(U)}this.parseXmlString=function(U){var oe;if(U===void 0)return null;if(window.DOMParser){var Q=new window.DOMParser;try{(oe=Q.parseFromString(U,"text/xml")).getElementsByTagNameNS("*","parsererror").length>0&&(oe=null)}catch{oe=null}}else U.indexOf("<?")==0&&(U=U.substr(U.indexOf("?>")+2)),(oe=new ActiveXObject("Microsoft.XMLDOM")).async="false",oe.loadXML(U);return oe},this.asArray=function(U){return U===void 0||U==null?[]:U instanceof Array?U:[U]},this.toXmlDateTime=function(U){return U instanceof Date?U.toISOString():typeof U=="number"?new Date(U).toISOString():null},this.asDateTime=function(U){return typeof U=="string"?_(U):U},this.xml2json=function(U){return C(U)},this.xml_str2json=function(U){var oe=this.parseXmlString(U);return oe!=null?this.xml2json(oe):null},this.json2xml_str=function(U){return de(U,"")},this.json2xml=function(U){var oe=this.json2xml_str(U);return this.parseXmlString(oe)},this.getVersion=function(){return"1.2.0"}};var wr="onLoad";function ya(o){o=o||{};var i,c,E,T,_,m,C=this.context,F=(0,g.Z)(C).getInstance(),j=(0,Pe.Z)(C).getInstance();function K(re,le,de){var U,oe,Q={};Q.elements=re,Q.type=le,Q.resolveType=de,Q.elements.length===0&&q(Q);for(var p=0;p<Q.elements.length;p++)U=Q.elements[p],oe=j.isHTTPURL(U.url)?U.url:U.originalContent.BaseURL+U.url,m.load(oe,U,Q)}function O(re){var le,de,U="";if(le=re.element,de=re.resolveObject,le.resolvedContent){var oe=0;le.resolvedContent.indexOf("<?xml")===0&&(oe=le.resolvedContent.indexOf("?>")+2),U=le.resolvedContent.substr(0,oe)+"<response>"+le.resolvedContent.substr(oe)+"</response>",le.resolvedContent=_.xml_str2json(U)}(function(Q){var p;for(p=0;p<Q.elements.length;p++)if(Q.elements[p].resolved===!1)return!1;return!0})(de)&&q(de)}function q(re){var le,de,U=[];if(function(oe){var Q,p,R,Y,k,D,I=[];for(Y=oe.elements.length-1;Y>=0;Y--){if(p=(Q=oe.elements[Y]).type+"_asArray",Q.resolvedContent){if(Q.resolvedContent)for(k=0;k<Q.resolvedContent[p].length;k++)R=Q.resolvedContent[p][k],I.push(R)}else delete Q.originalContent["xlink:actuate"],delete Q.originalContent["xlink:href"],I.push(Q.originalContent);for(Q.parentElement[p].splice(Q.index,1),D=0;D<I.length;D++)Q.parentElement[p].splice(Q.index+D,0,I[D]);I=[]}oe.elements.length>0&&E.run(T)}(re),re.resolveType==="onActuate"&&F.trigger(u.Z.XLINK_READY,{manifest:T}),re.resolveType===wr)switch(re.type){case r.Z.PERIOD:for(le=0;le<T[r.Z.PERIOD+"_asArray"].length;le++)(de=T[r.Z.PERIOD+"_asArray"][le]).hasOwnProperty(r.Z.ADAPTATION_SET+"_asArray")&&(U=U.concat(Z(de[r.Z.ADAPTATION_SET+"_asArray"],de,r.Z.ADAPTATION_SET,wr))),de.hasOwnProperty(r.Z.EVENT_STREAM+"_asArray")&&(U=U.concat(Z(de[r.Z.EVENT_STREAM+"_asArray"],de,r.Z.EVENT_STREAM,wr)));K(U,r.Z.ADAPTATION_SET,wr);break;case r.Z.ADAPTATION_SET:F.trigger(u.Z.XLINK_READY,{manifest:T})}}function Z(re,le,de,U){var oe,Q,p,R=[];for(Q=re.length-1;Q>=0;Q--)(oe=re[Q]).hasOwnProperty("xlink:href")&&oe["xlink:href"]==="urn:mpeg:dash:resolve-to-zero:2013"&&re.splice(Q,1);for(Q=0;Q<re.length;Q++)(oe=re[Q]).hasOwnProperty("xlink:href")&&oe.hasOwnProperty("xlink:actuate")&&oe["xlink:actuate"]===U&&(p=ce(oe["xlink:href"],le,de,Q,U,oe),R.push(p));return R}function ce(re,le,de,U,oe,Q){return{url:re,parentElement:le,type:de,index:U,resolveType:oe,originalContent:Q,resolvedContent:null,resolved:!1}}return i={resolveManifestOnLoad:function(re){_=new pa({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:c}),(T=re).Period_asArray?K(Z(T.Period_asArray,T,r.Z.PERIOD,wr),r.Z.PERIOD,wr):F.trigger(u.Z.XLINK_READY,{manifest:T})},setMatchers:function(re){re&&(c=re)},setIron:function(re){re&&(E=re)},reset:function(){F.off(u.Z.XLINK_ELEMENT_LOADED,O,i),m&&(m.reset(),m=null)}},F.on(u.Z.XLINK_ELEMENT_LOADED,O,i),m=Ro(C).create({errHandler:o.errHandler,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,settings:o.settings}),i}ya.__dashjs_factory_name="XlinkController";const wo=h.Z.getClassFactory(ya);function jr(o){return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},jr(o)}function Ea(o){function i(T,_){for(var m in T)_.hasOwnProperty(m)||(_[m]=T[m])}function c(T,_,m){for(var C=0,F=T.length;C<F;++C){var j=T[C];if(_[j.name])if(m[j.name]){if(j.merge){var K=_[j.name],O=m[j.name];jr(K)==="object"&&jr(O)==="object"?i(K,O):m[j.name]=K+O}}else m[j.name]=_[j.name]}}function E(T,_){for(var m=0,C=T.children.length;m<C;++m){var F=T.children[m],j=_[F.name+"_asArray"];if(j)for(var K=0,O=j.length;K<O;++K){var q=j[K];c(T.properties,_,q),E(F,q)}}}return{run:function(T){if(T===null||jr(T)!=="object")return T;if(T.Period_asArray&&"period"in o)for(var _=o.period,m=T.Period_asArray,C=0,F=m.length;C<F;++C){var j=m[C];if(E(_,j),"adaptationset"in o){var K=j.AdaptationSet_asArray;if(K)for(var O=o.adaptationset,q=0,Z=K.length;q<Z;++q)E(O,K[q])}}return T}}}Ea.__dashjs_factory_name="ObjectIron";const No=h.Z.getClassFactory(Ea);function Co(o,i){for(var c=0;c<i.length;c++){var E=i[c];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(o,E.key,E)}}const Yr=function(){function o(E,T){(function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this._test=E,this._converter=T}var i,c;return i=o,(c=[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}])&&Co(i.prototype,c),o}();function wi(o){return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},wi(o)}function Rn(o,i,c){return i in o?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c,o}function Ni(o,i){return Ni=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},Ni(o,i)}function Do(o,i){return!i||wi(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function ii(o){return ii=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},ii(o)}const Oo=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&Ni(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=ii(i);if(c){var C=ii(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Do(this,_)});function T(){return function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,T),E.call(this,function(_,m){var C,F=(Rn(C={},r.Z.MPD,[r.Z.ID,r.Z.PROFILES]),Rn(C,r.Z.PERIOD,[r.Z.ID]),Rn(C,r.Z.BASE_URL,[r.Z.SERVICE_LOCATION,r.Z.BYTE_RANGE]),Rn(C,r.Z.SEGMENT_BASE,[r.Z.INDEX_RANGE]),Rn(C,r.Z.INITIALIZATION,[r.Z.RANGE]),Rn(C,r.Z.REPRESENTATION_INDEX,[r.Z.RANGE]),Rn(C,r.Z.SEGMENT_LIST,[r.Z.INDEX_RANGE]),Rn(C,r.Z.BITSTREAM_SWITCHING,[r.Z.RANGE]),Rn(C,r.Z.SEGMENT_URL,[r.Z.MEDIA_RANGE,r.Z.INDEX_RANGE]),Rn(C,r.Z.SEGMENT_TEMPLATE,[r.Z.INDEX_RANGE,r.Z.MEDIA,r.Z.INDEX,r.Z.INITIALIZATION_MINUS,r.Z.BITSTREAM_SWITCHING_MINUS]),Rn(C,r.Z.ASSET_IDENTIFIER,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.EVENT_STREAM,[r.Z.VALUE]),Rn(C,r.Z.ADAPTATION_SET,[r.Z.PROFILES,r.Z.MIME_TYPE,r.Z.SEGMENT_PROFILES,r.Z.CODECS,r.Z.CONTENT_TYPE]),Rn(C,r.Z.FRAME_PACKING,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.AUDIO_CHANNEL_CONFIGURATION,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.CONTENT_PROTECTION,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.ESSENTIAL_PROPERTY,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.SUPPLEMENTAL_PROPERTY,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.INBAND_EVENT_STREAM,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.ACCESSIBILITY,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.ROLE,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.RATING,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.VIEWPOINT,[r.Z.VALUE,r.Z.ID]),Rn(C,r.Z.CONTENT_COMPONENT,[r.Z.CONTENT_TYPE]),Rn(C,r.Z.REPRESENTATION,[r.Z.ID,r.Z.DEPENDENCY_ID,r.Z.MEDIA_STREAM_STRUCTURE_ID]),Rn(C,r.Z.SUBSET,[r.Z.ID]),Rn(C,r.Z.METRICS,[r.Z.METRICS_MINUS]),Rn(C,r.Z.REPORTING,[r.Z.VALUE,r.Z.ID]),C);if(F.hasOwnProperty(m)){var j=F[m];return j!==void 0&&j.indexOf(_.name)>=0}return!1},function(_){return String(_)})}return T}(Yr);function Ci(o){return Ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ci(o)}function Di(o,i){return Di=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},Di(o,i)}function Mo(o,i){return!i||Ci(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function ai(o){return ai=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},ai(o)}var va=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/;const Po=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&Di(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=ai(i);if(c){var C=ai(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Mo(this,_)});function T(){return function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,T),E.call(this,function(_){for(var m=[r.Z.MIN_BUFFER_TIME,r.Z.MEDIA_PRESENTATION_DURATION,r.Z.MINIMUM_UPDATE_PERIOD,r.Z.TIMESHIFT_BUFFER_DEPTH,r.Z.MAX_SEGMENT_DURATION,r.Z.MAX_SUBSEGMENT_DURATION,r.Z.SUGGESTED_PRESENTATION_DELAY,r.Z.START,t.Z.START_TIME,r.Z.DURATION],C=m.length,F=0;F<C;F++)if(_.nodeName===m[F])return va.test(_.value);return!1},function(_){var m=va.exec(_),C=31536e3*parseFloat(m[3]||0)+2592e3*parseFloat(m[5]||0)+86400*parseFloat(m[7]||0)+3600*parseFloat(m[9]||0)+60*parseFloat(m[11]||0)+parseFloat(m[13]||0);return m[1]!==void 0&&(C=-C),C})}return T}(Yr);function Oi(o){return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Oi(o)}function Mi(o,i){return Mi=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},Mi(o,i)}function Lo(o,i){return!i||Oi(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function oi(o){return oi=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},oi(o)}var _a=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/;const xo=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&Mi(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=oi(i);if(c){var C=oi(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Lo(this,_)});function T(){return function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,T),E.call(this,function(_){return _a.test(_.value)},function(_){var m,C=_a.exec(_);if(m=Date.UTC(parseInt(C[1],10),parseInt(C[2],10)-1,parseInt(C[3],10),parseInt(C[4],10),parseInt(C[5],10),C[6]&&parseInt(C[6],10)||0,C[7]&&1e3*parseFloat(C[7])||0),C[9]&&C[10]){var F=60*parseInt(C[9],10)+parseInt(C[10],10);m+=(C[8]==="+"?-1:1)*F*60*1e3}return new Date(m)})}return T}(Yr);function Pi(o){return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Pi(o)}function Li(o,i){return Li=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},Li(o,i)}function Fo(o,i){return!i||Pi(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function si(o){return si=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},si(o)}var ko=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/;const Zo=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&Li(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=si(i);if(c){var C=si(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Fo(this,_)});function T(){return function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,T),E.call(this,function(_){return ko.test(_.value)},function(_){return parseFloat(_)})}return T}(Yr);function xi(o){return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},xi(o)}function qr(o,i,c){return i in o?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c,o}function Fi(o,i){return Fi=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},Fi(o,i)}function Uo(o,i){return!i||xi(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function ui(o){return ui=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},ui(o)}const Bo=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&Fi(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=ui(i);if(c){var C=ui(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Uo(this,_)});function T(){return function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,T),E.call(this,function(_,m){var C,F=(qr(C={},r.Z.ADAPTATION_SET,[r.Z.LANG]),qr(C,r.Z.REPRESENTATION,[r.Z.LANG]),qr(C,r.Z.CONTENT_COMPONENT,[r.Z.LANG]),qr(C,r.Z.LABEL,[r.Z.LANG]),qr(C,r.Z.GROUP_LABEL,[r.Z.LANG]),C);if(F.hasOwnProperty(m)){var j=F[m];return j!==void 0&&j.indexOf(_.name)>=0}return!1},function(_){var m=ti()(_);return m!==void 0?m:String(_)})}return T}(Yr);function Go(o,i){for(var c=0;c<i.length;c++){var E=i[c];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(o,E.key,E)}}const jo=function(){function o(E){var T;(function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=E,this._merge=(T=E)&&T.length&&T.charAt(0)===T.charAt(0).toUpperCase()}var i,c;return i=o,(c=[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}])&&Go(i.prototype,c),o}();function Yo(o,i){for(var c=0;c<i.length;c++){var E=i[c];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(o,E.key,E)}}const Nr=function(){function o(E,T,_){var m=this;(function(C,F){if(!(C instanceof F))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=E||"",this._properties=[],this._children=_||[],Array.isArray(T)&&T.forEach(function(C){m._properties.push(new jo(C))})}var i,c;return i=o,(c=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&Yo(i.prototype,c),o}();function ki(o){return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ki(o)}function Zi(o,i){return Zi=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},Zi(o,i)}function qo(o,i){return!i||ki(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function li(o){return li=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},li(o)}const Ho=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&Zi(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=li(i);if(c){var C=li(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return qo(this,_)});function T(){(function(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")})(this,T);var _=[r.Z.PROFILES,r.Z.WIDTH,r.Z.HEIGHT,r.Z.SAR,r.Z.FRAMERATE,r.Z.AUDIO_SAMPLING_RATE,r.Z.MIME_TYPE,r.Z.SEGMENT_PROFILES,r.Z.CODECS,r.Z.MAXIMUM_SAP_PERIOD,r.Z.START_WITH_SAP,r.Z.MAX_PLAYOUT_RATE,r.Z.CODING_DEPENDENCY,r.Z.SCAN_TYPE,r.Z.FRAME_PACKING,r.Z.AUDIO_CHANNEL_CONFIGURATION,r.Z.CONTENT_PROTECTION,r.Z.ESSENTIAL_PROPERTY,r.Z.SUPPLEMENTAL_PROPERTY,r.Z.INBAND_EVENT_STREAM];return E.call(this,r.Z.ADAPTATION_SET,_,[new Nr(r.Z.REPRESENTATION,_,[new Nr(r.Z.SUB_REPRESENTATION,_)])])}return T}(Nr);function Ui(o){return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ui(o)}function Bi(o,i){return Bi=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},Bi(o,i)}function Vo(o,i){return!i||Ui(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function ci(o){return ci=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},ci(o)}const Ko=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&Bi(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=ci(i);if(c){var C=ci(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Vo(this,_)});function T(){(function(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")})(this,T);var _=[r.Z.SEGMENT_BASE,r.Z.SEGMENT_TEMPLATE,r.Z.SEGMENT_LIST];return E.call(this,r.Z.PERIOD,_,[new Nr(r.Z.ADAPTATION_SET,_,[new Nr(r.Z.REPRESENTATION,_)])])}return T}(Nr);function Ta(o){o=o||{};var i,c,E,T,_,m=this.context,C=o.debug;return i={parse:function(F){var j,K=window.performance.now();if(!(j=T.xml_str2json(F)))throw new Error("parsing the manifest failed");var O=window.performance.now();j.Patch?((j=j.Patch).add_asArray&&j.add_asArray.forEach(function(Z){return _.run(Z)}),j.replace_asArray&&j.replace_asArray.forEach(function(Z){return _.run(Z)})):(j=j.MPD,_.run(j));var q=window.performance.now();return c.info("Parsing complete: ( xml2json: "+(O-K).toPrecision(3)+"ms, objectiron: "+(q-O).toPrecision(3)+"ms, total: "+((q-K)/1e3).toPrecision(3)+"s)"),j.protocol="DASH",j},getMatchers:function(){return E},getIron:function(){return _}},c=C.getLogger(i),E=[new Po,new xo,new Zo,new Bo,new Oo],T=new pa({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!1,matchers:E}),_=No(m).create({adaptationset:new Ho,period:new Ko}),i}Ta.__dashjs_factory_name="DashParser";const zo=h.Z.getClassFactory(Ta);function Sa(o){o=o||{};var i,c,E,T,_,m=this.context,C=o.debug,F=o.settings,j=(0,g.Z)(m).getInstance(),K=(0,Pe.Z)(m).getInstance(),O=o.mssHandler,q=o.errHandler;function Z(ce){j.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:ce.manifest})}return i={load:function(ce){var re=new ha(ce,Te.w.MPD_TYPE);E.load({request:re,success:function(le,de,U){var oe,Q,p;if(T)if(U&&U!==ce?(Q=K.parseBaseUrl(U),oe=U):(K.isRelative(ce)&&(ce=K.resolve(ce,window.location.href)),Q=K.parseBaseUrl(ce)),de!="No Content")if(_===null&&(_=function(Y){var k=null;return Y.indexOf("SmoothStreamingMedia")>-1?(O&&(k=O.createMssParser(),O.registerEvents()),k):Y.indexOf("MPD")>-1||Y.indexOf("Patch")>-1?zo(m).create({debug:C}):k}(le)),_!==null){T.setMatchers(_.getMatchers()),T.setIron(_.getIron());try{p=_.parse(le)}catch{return void j.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new V.Z(ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))})}if(p){if(p.url=oe||ce,p.originalUrl||(p.originalUrl=p.url),p.hasOwnProperty(t.Z.LOCATION)&&(Q=K.parseBaseUrl(p.Location_asArray[0]),c.debug("BaseURI set by Location to: "+Q)),F&&F.get().streaming.enableManifestDurationMismatchFix&&p.mediaPresentationDuration&&p.Period_asArray.length>1){var R=p.Period_asArray.reduce(function(Y,k){return Y+k.duration},0);!isNaN(R)&&p.mediaPresentationDuration>R&&(c.warn("Media presentation duration greater than duration of all periods. Setting duration to total period duration"),p.mediaPresentationDuration=R)}p.baseUri=Q,p.loadedTime=new Date,T.resolveManifestOnLoad(p),j.trigger(u.Z.ORIGINAL_MANIFEST_LOADED,{originalManifest:le})}else j.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new V.Z(ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))})}else j.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new V.Z(ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+"".concat(ce))});else j.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null})},error:function(le,de,U){j.trigger(u.Z.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new V.Z(ae.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,ae.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+"".concat(ce,", ").concat(U))})}})},reset:function(){j.off(u.Z.XLINK_READY,Z,i),O&&O.reset(),T&&(T.reset(),T=null),E&&(E.abort(),E=null)}},c=C.getLogger(i),j.on(u.Z.XLINK_READY,Z,i),E=Jt(m).create({errHandler:o.errHandler,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,urlUtils:K,constants:t.Z,dashConstants:r.Z,errors:ae,requestTimeout:o.settings.get().streaming.manifestRequestTimeout}),T=wo(m).create({errHandler:q,dashMetrics:o.dashMetrics,mediaPlayerModel:o.mediaPlayerModel,requestModifier:o.requestModifier,settings:o.settings}),_=null,i}Sa.__dashjs_factory_name="ManifestLoader";const Wo=h.Z.getClassFactory(Sa);function ba(){var o=this.context,i=(0,g.Z)(o).getInstance();return{error:function(c){i.trigger(u.Z.ERROR,{error:c})}}}ba.__dashjs_factory_name="ErrorHandler";const Xo=h.Z.getSingletonFactory(ba);var Aa=L(1715);function Ia(){var o,i,c,E,T,_,m=this.context,C=(0,g.Z)(m).getInstance();function F(j,K){if(!K||!K.Period_asArray||K.Period_asArray.length===0)return Promise.resolve();var O=[];return K.Period_asArray.forEach(function(q){O.push(function(Z,ce){return new Promise(function(re){if(Z&&Z.AdaptationSet_asArray&&Z.AdaptationSet_asArray.length!==0){var le=[];Z.AdaptationSet_asArray.forEach(function(de){i.getIsTypeOf(de,ce)&&le.push(function(U,oe){return new Promise(function(Q){if(U.Representation_asArray&&U.Representation_asArray.length!==0){var p=[],R=[];U.Representation_asArray.forEach(function(Y,k){var D=i.getCodec(U,k,!1),I=function(J,W,ne){switch(J){case t.Z.VIDEO:return function(H,X){return{codec:X,width:H.width||null,height:H.height||null,framerate:H.frameRate||null,bitrate:H.bandwidth||null}}(W,ne);case t.Z.AUDIO:return function(H,X){var ge=H.audioSamplingRate||null;return{codec:X,bitrate:H.bandwidth||null,samplerate:ge}}(W,ne);default:return null}}(oe,Y,D);R.push(I),p.push(c.supportsCodec(I,oe))}),Promise.all(p).then(function(Y){U.Representation_asArray=U.Representation_asArray.filter(function(k,D){return Y[D]||_.debug("[Stream] Codec ".concat(R[D].codec," not supported ")),Y[D]}),Q()}).catch(function(){Q()})}else Q()})}(de,ce))}),Promise.all(le).then(function(){Z.AdaptationSet_asArray=Z.AdaptationSet_asArray.filter(function(de){var U=de.Representation_asArray&&de.Representation_asArray.length>0;return U||(C.trigger(u.Z.ADAPTATION_SET_REMOVED_NO_CAPABILITIES,{adaptationSet:de}),_.warn("AdaptationSet has been removed because of no supported Representation")),U}),re()}).catch(function(){re()})}else re()})}(q,j))}),Promise.all(O)}return o={setConfig:function(j){j&&(j.adapter&&(i=j.adapter),j.capabilities&&(c=j.capabilities),j.settings&&(E=j.settings),j.customParametersModel&&(T=j.customParametersModel))},filterUnsupportedFeatures:function(j){return new Promise(function(K){var O=[];O.push(F(t.Z.VIDEO,j)),O.push(F(t.Z.AUDIO,j)),Promise.all(O).then(function(){E.get().streaming.capabilities.filterUnsupportedEssentialProperties&&function(q){q&&q.Period_asArray&&q.Period_asArray.length!==0&&q.Period_asArray.forEach(function(Z){Z.AdaptationSet_asArray=Z.AdaptationSet_asArray.filter(function(ce){return!ce.Representation_asArray||ce.Representation_asArray.length===0||(ce.Representation_asArray=ce.Representation_asArray.filter(function(re){var le=i.getEssentialPropertiesForRepresentation(re);if(le&&le.length>0)for(var de=0;de<le.length;){if(!c.supportsEssentialProperty(le[de]))return _.debug("[Stream] EssentialProperty not supported: "+le[de].schemeIdUri),!1;de+=1}return!0}),ce.Representation_asArray&&ce.Representation_asArray.length>0)})})}(j),function(q){var Z=T.getCustomCapabilitiesFilters();Z&&Z.length!==0&&q&&q.Period_asArray&&q.Period_asArray.length!==0&&q.Period_asArray.forEach(function(ce){ce.AdaptationSet_asArray=ce.AdaptationSet_asArray.filter(function(re){return!re.Representation_asArray||re.Representation_asArray.length===0||(re.Representation_asArray=re.Representation_asArray.filter(function(le){return!Z.some(function(de){return!de(le)})}),re.Representation_asArray&&re.Representation_asArray.length>0)})})}(j),K()}).catch(function(){K()})})}},_=(0,w.Z)(m).getInstance().getLogger(o),o}Ia.__dashjs_factory_name="CapabilitiesFilter";const Qo=h.Z.getSingletonFactory(Ia),$o=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null};function Ra(){var o;return{initialize:function(i){if(o=new $o,!i)return null;var c=i.indexOf("#");if(c!==-1)for(var E=i.substr(c+1).split("&"),T=0,_=E.length;T<_;++T){var m=E[T],C=m.indexOf("=");if(C!==-1){var F=m.substring(0,C);o.hasOwnProperty(F)&&(o[F]=m.substr(C+1))}}},getURIFragmentData:function(){return o}}}Ra.__dashjs_factory_name="URIFragmentModel";const Jo=h.Z.getSingletonFactory(Ra);function wa(){var o,i=this.context,c=(0,g.Z)(i).getInstance();return{getValue:function(){return o},setValue:function(E){o=E,E&&c.trigger(u.Z.MANIFEST_LOADED,{data:E})}}}wa.__dashjs_factory_name="ManifestModel";const es=h.Z.getSingletonFactory(wa);var Gi=-.5;function Na(){var o,i,c,E,T=this.context,_=(0,pt.Z)(T).getInstance();function m(j,K){return isNaN(j)?0:j>0?(K&&i.warn("Supplied minimum playback rate is a positive value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):j<Gi?(K&&i.warn("Supplied minimum playback rate is out of range and will be limited to ".concat(Gi,": ").concat(-50,"% playback speed.")),Gi):j}function C(j,K){return isNaN(j)?0:j<0?(K&&i.warn("Supplied maximum playback rate is a negative value when it should be negative or 0. The supplied rate will not be applied and set to 0: 100% playback speed."),0):j>1?(K&&i.warn("Supplied maximum playback rate is out of range and will be limited to ".concat(1,": ").concat(200,"% playback speed.")),1):j}function F(){var j=_.get().streaming.buffer.stableBufferTime>0?_.get().streaming.buffer.stableBufferTime:_.get().streaming.buffer.fastSwitchEnabled?20:12,K=c.getLiveDelay();return!isNaN(K)&&K>0?Math.min(j,K):j}return o={getCatchupMaxDrift:function(){if(!isNaN(_.get().streaming.liveCatchup.maxDrift)&&_.get().streaming.liveCatchup.maxDrift>0)return _.get().streaming.liveCatchup.maxDrift;var j=E.getServiceDescriptionSettings();return j&&j.liveCatchup&&!isNaN(j.liveCatchup.maxDrift)&&j.liveCatchup.maxDrift>0?j.liveCatchup.maxDrift:12},getCatchupModeEnabled:function(){return _.get().streaming.liveCatchup.enabled!==null?_.get().streaming.liveCatchup.enabled:c.getInitialCatchupModeActivated()},getStableBufferTime:F,getInitialBufferLevel:function(){var j=_.get().streaming.buffer.initialBufferLevel;return isNaN(j)||j<0?0:Math.min(F(),j)},getRetryAttemptsForType:function(j){var K=isNaN(_.get().streaming.retryAttempts.lowLatencyMultiplyFactor)?5:_.get().streaming.retryAttempts.lowLatencyMultiplyFactor;return c.getLowLatencyModeEnabled()?_.get().streaming.retryAttempts[j]*K:_.get().streaming.retryAttempts[j]},getRetryIntervalsForType:function(j){var K=isNaN(_.get().streaming.retryIntervals.lowLatencyReductionFactor)?10:_.get().streaming.retryIntervals.lowLatencyReductionFactor;return c.getLowLatencyModeEnabled()?_.get().streaming.retryIntervals[j]/K:_.get().streaming.retryIntervals[j]},getCatchupPlaybackRates:function(j){var K=_.get().streaming.liveCatchup.playbackRate;if(!isNaN(K.min)||!isNaN(K.max))return{min:m(K.min,j),max:C(K.max,j)};var O=E.getServiceDescriptionSettings();if(O&&O.liveCatchup&&(!isNaN(O.liveCatchup.playbackRate.min)||!isNaN(O.liveCatchup.playbackRate.max))){var q=O.liveCatchup.playbackRate;return{min:m(q.min,j),max:C(q.max,j)}}return{min:-.5,max:.5}},getAbrBitrateParameter:function(j,K){try{var O=_.get().streaming.abr[j][K];if(!isNaN(O)&&O!==-1)return O;var q=E.getServiceDescriptionSettings();return q&&q[j]&&!isNaN(q[j][K])?q[j][K]:-1}catch{return-1}},setConfig:function(j){j.playbackController&&(c=j.playbackController),j.serviceDescriptionController&&(E=j.serviceDescriptionController)},reset:function(){}},i=(0,w.Z)(T).getInstance().getLogger(o),o}Na.__dashjs_factory_name="MediaPlayerModel";const ts=h.Z.getSingletonFactory(Na);var ns=L(1767);function Ca(o){var i=(o=o||{}).abrController,c=o.switchHistory,E=o.droppedFramesHistory,T=o.currentRequest,_=o.useBufferOccupancyABR,m=o.useL2AABR,C=o.useLoLPABR,F=o.streamProcessor?o.streamProcessor.getScheduleController():null,j=o.streamProcessor?o.streamProcessor.getRepresentationInfo():null,K=o.videoModel?o.videoModel:null;function O(){return j?j.mediaInfo:null}return{getMediaType:function(){var q=O();return q?q.type:null},getMediaInfo:O,getDroppedFramesHistory:function(){return E},getCurrentRequest:function(){return T},getSwitchHistory:function(){return c},getStreamInfo:function(){var q=O();return q?q.streamInfo:null},getScheduleController:function(){return F},getAbrController:function(){return i},getRepresentationInfo:function(){return j},useBufferOccupancyABR:function(){return _},useL2AABR:function(){return m},useLoLPABR:function(){return C},getVideoModel:function(){return K}}}Ca.__dashjs_factory_name="RulesContext";const Da=h.Z.getClassFactory(Ca);var fi=L(2068);function Oa(){var o=[],i=[];return{push:function(c){c.newValue===fi.Z.NO_CHANGE&&(c.newValue=c.oldValue),o[c.oldValue]||(o[c.oldValue]={noDrops:0,drops:0,dropSize:0});var E=c.newValue-c.oldValue,T=E<0?1:0,_=T?-E:0,m=T?0:1;if(o[c.oldValue].drops+=T,o[c.oldValue].dropSize+=_,o[c.oldValue].noDrops+=m,i.push({idx:c.oldValue,noDrop:m,drop:T,dropSize:_}),i.length>8){var C=i.shift();o[C.idx].drops-=C.drop,o[C.idx].dropSize-=C.dropSize,o[C.idx].noDrops-=C.noDrop}},getSwitchRequests:function(){return o},reset:function(){o=[],i=[]}}}Oa.__dashjs_factory_name="SwitchRequestHistory";const rs=h.Z.getClassFactory(Oa);function Ma(){var o={},i={},c={};return{push:function(E,T,_){if(T){o[E]||(o[E]=[],i[E]=0,c[E]=0);var m=_&&_.droppedVideoFrames?_.droppedVideoFrames:0,C=_&&_.totalVideoFrames?_.totalVideoFrames:0,F=m-i[E];i[E]=m;var j=C-c[E];c[E]=C;var K=o[E];isNaN(T)||(K[T]?(K[T].droppedVideoFrames+=F,K[T].totalVideoFrames+=j):K[T]={droppedVideoFrames:F,totalVideoFrames:j})}},getFrameHistory:function(E){return o[E]},clearForStream:function(E){try{delete o[E],delete i[E],delete c[E]}catch{}},reset:function(){o={},i={},c={}}}}Ma.__dashjs_factory_name="DroppedFramesHistory";const is=h.Z.getClassFactory(Ma);function Pa(o){var i,c,E,T,_,m=(o=o||{}).settings;function C(Z,ce,re,le){var de=Math.pow(.5,re/le.fast);Z.fastEstimate=(1-de)*ce+de*Z.fastEstimate;var U=Math.pow(.5,re/le.slow);Z.slowEstimate=(1-U)*ce+U*Z.slowEstimate,Z.totalWeight+=re}function F(Z,ce,re){return m.get().streaming.abr.movingAverageMethod!==t.Z.MOVING_AVERAGE_SLIDING_WINDOW?function(le,de){var U=le?_.throughputHalfLife:_.latencyHalfLife,oe=le?E[de]:T[de];if(!oe||oe.totalWeight<=0)return NaN;var Q=oe.fastEstimate/(1-Math.pow(.5,oe.totalWeight/U.fast)),p=oe.slowEstimate/(1-Math.pow(.5,oe.totalWeight/U.slow));return le?Math.min(Q,p):Math.max(Q,p)}(Z,ce):function(le,de,U){var oe=function(p,R,Y){var k,D;if(p?(k=i[R],D=Y?3:4):(k=c[R],D=4),k){if(D>=k.length)D=k.length;else if(p)for(var I=1;I<D;++I){var J=k[k.length-I]/k[k.length-I-1];if((J>=1.3||J<=.7692307692307692)&&(D+=1)===k.length)break}}else D=0;return D}(le,de,U),Q=(le?i:c)[de];return oe!==0&&Q&&Q.length!==0?(Q=Q.slice(-oe)).reduce(function(p,R){return p+R})/Q.length:NaN}(Z,ce,re)}function j(Z,ce){return F(!0,Z,ce)}function K(Z){i[Z]=i[Z]||[],c[Z]=c[Z]||[],E[Z]=E[Z]||{fastEstimate:0,slowEstimate:0,totalWeight:0},T[Z]=T[Z]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function O(){i={},c={},E={},T={}}var q={push:function(Z,ce,re){if(ce.trace&&ce.trace.length){var le,de=ce.tresponse.getTime()-ce.trequest.getTime()||1,U=ce._tfinish.getTime()-ce.tresponse.getTime()||1,oe=ce.trace.reduce(function(Y,k){return Y+k.b[0]},0),Q=0;if((le=ce._fileLoaderType&&ce._fileLoaderType===t.Z.FILE_LOADER_TYPES.FETCH?ce.trace.reduce(function(Y,k){return Y+k.d},0):re?U:de+U)!==0&&(Q=Math.round(8*oe/le)),ce.cmsd){var p=ce.cmsd.dynamic&&ce.cmsd.dynamic.etp?ce.cmsd.dynamic.etp:null;if(p){var R=m.get().streaming.cmsd.abr.etpWeightRatio;R>0&&R<=1&&(Q=Q*(1-R)+p*R)}}if(K(Z),function(Y,k,D){return Y===t.Z.VIDEO?D<m.get().streaming.cacheLoadThresholds[t.Z.VIDEO]:Y===t.Z.AUDIO?D<m.get().streaming.cacheLoadThresholds[t.Z.AUDIO]:void 0}(Z,0,U)){if(i[Z].length>0&&!i[Z].hasCachedEntries)return;i[Z].hasCachedEntries=!0}else i[Z]&&i[Z].hasCachedEntries&&function(Y){delete i[Y],delete c[Y],delete E[Y],delete T[Y],K(Y)}(Z);i[Z].push(Q),i[Z].length>20&&i[Z].shift(),c[Z].push(de),c[Z].length>20&&c[Z].shift(),C(E[Z],Q,.001*U,_.throughputHalfLife),C(T[Z],de,1,_.latencyHalfLife)}},getAverageThroughput:j,getSafeAverageThroughput:function(Z,ce){var re=j(Z,ce);return isNaN(re)||(re*=m.get().streaming.abr.bandwidthSafetyFactor),re},getAverageLatency:function(Z){return F(!1,Z)},reset:O};return _={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}},O(),q}Pa.__dashjs_factory_name="ThroughputHistory";const as=h.Z.getClassFactory(Pa);function ji(){var o,i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re,le,de,U,oe,Q,p,R,Y,k,D,I,J=this.context,W=(0,w.Z)(J).getInstance(),ne=(0,g.Z)(J).getInstance();function H(){T={},_={},C={},m={},oe={},R={},Y={},k={},j===void 0&&(j=!1),Q&&Q.reset(),U=void 0,Q=void 0,p=void 0,clearTimeout(F),F=null}function X(ee){var ve=ee.request.mediaType,Ee=ee.streamId;if(ve&&Ee&&m[Ee]&&I.get().streaming.abr.autoSwitchBitrate[ve]){var Ie=m[Ee][ve];if(Ie){var Je=Da(J).create({abrController:o,streamProcessor:Ie,currentRequest:ee.request,useBufferOccupancyABR:R[ve],useL2AABR:Y[ve],useLoLPABR:k[ve],videoModel:Z}),Ge=c.shouldAbandonFragment(Je,Ee);Ge.quality>fi.Z.NO_CHANGE&&Ie.getFragmentModel().getRequests({state:z.FRAGMENT_MODEL_LOADING,index:ee.request.index})[0]&&(C[Ee][ve].state=v.Z.ABANDON_LOAD,oe[Ee][ve].reset(),oe[Ee][ve].push({oldValue:Ae(ve,Ee),newValue:Ge.quality,confidence:1,reason:Ge.reason}),Ne(ve,E.getActiveStreamInfo(),Ge.quality,Ge.reason),clearTimeout(F),F=setTimeout(function(){C[Ee][ve].state=v.Z.ALLOW_LOAD,F=null},I.get().streaming.abandonLoadTimeout))}}}function ge(ee){ee.mediaType===t.Z.VIDEO&&(U!==void 0&&Q.push(ee.streamId,U,Z.getPlaybackQuality()),U=ee.newQuality)}function Ue(ee){var ve,Ee;ee.metric!==v.Z.HTTP_REQUEST||!ee.value||ee.value.type!==Te.w.MEDIA_SEGMENT_TYPE||ee.mediaType!==t.Z.AUDIO&&ee.mediaType!==t.Z.VIDEO||p.push(ee.mediaType,ee.value,I.get().streaming.abr.useDeadTimeLatency),ee.metric!==v.Z.BUFFER_LEVEL||ee.mediaType!==t.Z.AUDIO&&ee.mediaType!==t.Z.VIDEO||(ve=ee.mediaType,Ee=.001*ee.value.level,I.get().streaming.abr.ABRStrategy===t.Z.ABR_STRATEGY_DYNAMIC&&function(Ie,Je){try{var Ge=ce.getStableBufferTime(),je=Ge,Ot=.5*Ge,Tt=R[Ie],Ft=Je>(Tt?Ot:je);R[Ie]=Ft,Ft!==Tt&&(Ft?i.info("["+Ie+"] switching from throughput to buffer occupancy ABR rule (buffer: "+Je.toFixed(3)+")."):i.info("["+Ie+"] switching from buffer occupancy to throughput ABR rule (buffer: "+Je.toFixed(3)+")."))}catch(Gt){i.error(Gt)}}(ve,Ee))}function Oe(ee,ve){try{var Ee;return T[ve]=T[ve]||{},T[ve].hasOwnProperty(ee)||(T[ve][ee]=0),Ee=function(Ie,Je){var Ge=T[Je][Ie],je=Ge;if(!m[Je]||!m[Je][Ie])return je;var Ot=at(Ie,Je);Ot!==void 0&&(je=Math.max(Ge,Ot));var Tt=function(Ft,Gt){try{var kt=ce.getAbrBitrateParameter("maxBitrate",Ft);return kt>-1?mt(m[Gt][Ft].getMediaInfo(),kt,Gt):void 0}catch{return}}(Ie,Je);return Tt!==void 0&&(je=Math.min(je,Tt)),je}(ee,ve),Ee=function(Ie,Je,Ge){var je=T[Ge][Je],Ot=I.get().streaming.abr.maxRepresentationRatio[Je];return isNaN(Ot)||Ot>=1||Ot<0?Ie:Math.min(Ie,Math.round(je*Ot))}(Ee,ee,ve),Ee=function(Ie,Je,Ge){if(Je!==t.Z.VIDEO||!I.get().streaming.abr.limitBitrateByPortal||!m[Ge]||!m[Ge][Je])return Ie;j||Ce();var je=m[Ge][Je].getStreamInfo(),Ot=q.getAdaptationForType(je.index,Je,je).Representation_asArray,Tt=Ie;if(K>0&&O>0){for(;Tt>0&&Ot[Tt]&&K<Ot[Tt].width&&K-Ot[Tt-1].width<Ot[Tt].width-K;)Tt-=1;for(;Tt<Ot.length-1&&Ot[Tt].width===Ot[Tt+1].width;)Tt+=1}return Tt}(Ee,ee,ve),I.get().streaming.cmsd.enabled&&I.get().streaming.cmsd.abr.applyMb&&(Ee=function(Ie,Je,Ge){if(Je!=="video")return Ie;var je=le.getMaxBitrate(Je);if(je<0)return Ie;var Ot=et(Ge,"audio",Ae("audio",Ge));je-=Ot?Ot.bitrate/1e3:0;var Tt=mt(m[Ge][Je].getMediaInfo(),je,Ge);return i.debug("Stream ID: "+Ge+" ["+Je+"] Apply max bit rate from CMSD: "+je),Math.min(Ie,Tt)}(Ee,ee,ve)),Ee}catch{return}}function at(ee,ve){try{return function(Ee,Ie){try{var Je=ce.getAbrBitrateParameter("minBitrate",Ee);if(Je>-1){var Ge=m[Ie][Ee].getMediaInfo(),je=At(Ge),Ot=mt(Ge,Je,Ie);return je[Ot]&&Ot<je.length-1&&je[Ot].bitrate<1e3*Je&&Ot++,Ot}return}catch{return}}(ee,ve)}catch{return}}function Ae(ee){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;try{return ve||(ve=E.getActiveStreamInfo().id),ee&&m[ve]&&m[ve][ee]&&ve?(_[ve]=_[ve]||{},_[ve].hasOwnProperty(ee)||(_[ve][ee]=0),_[ve][ee]):0}catch{return 0}}function Ne(ee,ve,Ee){var Ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(ve&&ve.id&&ee){var Je=ve.id,Ge=Ae(ee,Je);(0,ie.SE)(Ee);var je=Oe(ee,Je);Ee!==Ge&&Ee>=0&&Ee<=je&&ht(ee,Ge,Ee,je,Ie,Je)}}function ht(ee,ve,Ee,Ie,Je,Ge){if(ee&&m[Ge]&&m[Ge][ee]){var je=m[Ge][ee].getStreamInfo(),Ot=je&&je.manifestInfo&&je.manifestInfo.isDynamic,Tt=D.getCurrentBufferLevel(ee);i.info("Stream ID: "+Ge+" ["+ee+"] switch from "+ve+" to "+Ee+"/"+Ie+" (buffer: "+Tt+") "+(Je?JSON.stringify(Je):".")),_[Ge]=_[Ge]||{},_[Ge][ee]=Ee;var Ft=et(Ge,ee,Ee);ne.trigger(u.Z.QUALITY_CHANGE_REQUESTED,{oldQuality:ve,newQuality:Ee,reason:Je,streamInfo:je,bitrateInfo:Ft,maxIdx:Ie,mediaType:ee},{streamId:je.id,mediaType:ee});var Gt=p.getAverageThroughput(ee,Ot);isNaN(Gt)||de.setSavedBitrateSettings(ee,Gt)}}function et(ee,ve,Ee){if(ve&&m&&m[ee]&&m[ee][ve]){var Ie=At(m[ee][ve].getMediaInfo());return Ie[Ee]?Ie[Ee]:null}return null}function mt(ee,ve,Ee){var Ie=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Je=ee&&ee.type?m[Ee][ee.type].getRepresentationInfo():null;if(I.get().streaming.abr.useDeadTimeLatency&&Ie&&Je&&Je.fragmentDuration){Ie/=1e3;var Ge=Je.fragmentDuration;if(Ie>Ge)return 0;var je=Ie/Ge;ve*=1-je}for(var Ot=At(ee),Tt=Ot.length-1;Tt>=0;Tt--){var Ft=Ot[Tt];if(1e3*ve>=Ft.bitrate)return Tt}return 0}function At(ee){var ve=[];if(!ee||!ee.bitrateList)return ve;for(var Ee,Ie=ee.bitrateList,Je=ee.type,Ge=0,je=Ie.length;Ge<je;Ge++)(Ee=new fr).mediaType=Je,Ee.qualityIndex=Ge,Ee.bitrate=Ie[Ge].bandwidth,Ee.width=Ie[Ge].width,Ee.height=Ie[Ge].height,Ee.scanType=Ie[Ge].scanType,ve.push(Ee);return ve}function Ce(){if(Z){var ee=I.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1;K=Z.getClientWidth()*ee,O=Z.getClientHeight()*ee}}return o={initialize:function(){Q=is(J).create(),p=as(J).create({settings:I}),(c=(0,ns.Z)(J).create({dashMetrics:D,customParametersModel:re,mediaPlayerModel:ce,settings:I})).initialize(),ne.on(e.Z.QUALITY_CHANGE_RENDERED,ge,o),ne.on(e.Z.METRIC_ADDED,Ue,o),ne.on(u.Z.LOADING_PROGRESS,X,o)},isPlayingAtTopQuality:function(ee){var ve=ee?ee.id:null,Ee=Ae(t.Z.AUDIO,ve),Ie=Ae(t.Z.VIDEO,ve);return Ee===Oe(t.Z.AUDIO,ve)&&Ie===Oe(t.Z.VIDEO,ve)},updateTopQualityIndex:function(ee){var ve=ee.type,Ee=ee.streamInfo.id,Ie=ee.representationCount-1;return T[Ee]=T[Ee]||{},T[Ee][ve]=Ie,Ie},clearDataForStream:function(ee){Q&&Q.clearForStream(ee),m[ee]&&delete m[ee],oe[ee]&&delete oe[ee],C[ee]&&delete C[ee]},getThroughputHistory:function(){return p},getBitrateList:At,getQualityForBitrate:mt,getTopBitrateInfoFor:function(ee){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(ve||(ve=E.getActiveStreamInfo().id),ee&&m&&m[ve]&&m[ve][ee]){var Ee=Oe(ee,ve),Ie=At(m[ve][ee].getMediaInfo());return Ie[Ee]?Ie[Ee]:null}return null},getMinAllowedIndexFor:at,getMaxAllowedIndexFor:Oe,getInitialBitrateFor:function(ee,ve){if(function(){if(!de||!de.hasOwnProperty("getSavedBitrateSettings"))throw new Error(t.Z.MISSING_CONFIG_ERROR)}(),ee===t.Z.TEXT)return NaN;var Ee=de.getSavedBitrateSettings(ee),Ie=ce.getAbrBitrateParameter("initialBitrate",ee),Je=I.get().streaming.abr.initialRepresentationRatio[ee];if(Ie===-1)if(Je>-1){var Ge=m[ve][ee].getStreamInfo(),je=q.getAdaptationForType(Ge.index,ee,Ge).Representation_asArray;Ie=Array.isArray(je)?je[Math.max(Math.round(je.length*Je)-1,0)].bandwidth/1e3:0}else Ie=isNaN(Ee)?ee===t.Z.VIDEO?1e3:100:Ee;return Ie},getQualityFor:Ae,getAbandonmentStateFor:function(ee,ve){return C[ee]&&C[ee][ve]?C[ee][ve].state:null},setPlaybackQuality:Ne,checkPlaybackQuality:function(ee,ve){try{if(!(ee&&m&&m[ve]&&m[ve][ee]))return!1;if(Q){var Ee=Z.getPlaybackQuality();Ee&&Q.push(ve,U,Ee)}if(!I.get().streaming.abr.autoSwitchBitrate[ee])return!1;var Ie=Ae(ee,ve),Je=Da(J).create({abrController:o,switchHistory:oe[ve][ee],droppedFramesHistory:Q,streamProcessor:m[ve][ee],currentValue:Ie,useBufferOccupancyABR:R[ee],useL2AABR:Y[ee],useLoLPABR:k[ee],videoModel:Z}),Ge=at(ee,ve),je=Oe(ee,ve),Ot=c.getMaxQuality(Je),Tt=Ot.quality;return Ge!==void 0&&(Tt>fi.Z.NO_CHANGE?Tt:Ie)<Ge&&(Tt=Ge),Tt>je&&(Tt=je),oe[ve][ee].push({oldValue:Ie,newValue:Tt}),Tt>fi.Z.NO_CHANGE&&Tt!==Ie&&(C[ve][ee].state===v.Z.ALLOW_LOAD||Tt<Ie)&&(ht(ee,Ie,Tt,je,Ot.reason,ve),!0)}catch{return!1}},setElementSize:Ce,setWindowResizeEventCalled:function(ee){j=ee},registerStreamType:function(ee,ve){var Ee=ve.getStreamInfo().id;m[Ee]||(m[Ee]={}),oe[Ee]||(oe[Ee]={}),C[Ee]||(C[Ee]={}),oe[Ee][ee]=rs(J).create(),m[Ee][ee]=ve,C[Ee][ee]={},C[Ee][ee].state=v.Z.ALLOW_LOAD,function(Ie){var Je=I.get().streaming.abr.ABRStrategy;Je===t.Z.ABR_STRATEGY_L2A?(R[Ie]=!1,k[Ie]=!1,Y[Ie]=!0):Je===t.Z.ABR_STRATEGY_LoLP?(R[Ie]=!1,k[Ie]=!0,Y[Ie]=!1):Je===t.Z.ABR_STRATEGY_BOLA?(R[Ie]=!0,k[Ie]=!1,Y[Ie]=!1):Je===t.Z.ABR_STRATEGY_THROUGHPUT?(R[Ie]=!1,k[Ie]=!1,Y[Ie]=!1):Je===t.Z.ABR_STRATEGY_DYNAMIC&&(R[Ie]=!(!R||!R[Ie])&&R[Ie],k[Ie]=!1,Y[Ie]=!1)}(ee),ee===t.Z.VIDEO&&Ce()},unRegisterStreamType:function(ee,ve){try{m[ee]&&m[ee][ve]&&delete m[ee][ve],oe[ee]&&oe[ee][ve]&&delete oe[ee][ve],C[ee]&&C[ee][ve]&&delete C[ee][ve]}catch{}},setConfig:function(ee){ee&&(ee.streamController&&(E=ee.streamController),ee.domStorage&&(de=ee.domStorage),ee.mediaPlayerModel&&(ce=ee.mediaPlayerModel),ee.customParametersModel&&(re=ee.customParametersModel),ee.cmsdModel&&(le=ee.cmsdModel),ee.dashMetrics&&(D=ee.dashMetrics),ee.adapter&&(q=ee.adapter),ee.videoModel&&(Z=ee.videoModel),ee.settings&&(I=ee.settings))},reset:function(){H(),ne.off(u.Z.LOADING_PROGRESS,X,o),ne.off(e.Z.QUALITY_CHANGE_RENDERED,ge,o),ne.off(e.Z.METRIC_ADDED,Ue,o),c&&c.reset()}},i=W.getLogger(o),H(),o}ji.__dashjs_factory_name="AbrController";var Yi=h.Z.getSingletonFactory(ji);Yi.QUALITY_DEFAULT=0,h.Z.updateSingletonFactory(ji.__dashjs_factory_name,Yi);const os=Yi;var ss=new Map([[t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,"loadedmetadata"],[t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_CURRENT_DATA,"loadeddata"],[t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_FUTURE_DATA,"canplay"],[t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_ENOUGH_DATA,"canplaythrough"]]);function La(){var o,i,c,E,T,_,m=this.context,C=(0,g.Z)(m).getInstance(),F=[];function j(){c&&(c.playbackRate=1,c.removeEventListener("canplay",j))}function K(){return F.length>0}function O(){if(c&&K()&&c.playbackRate===0){var U=document.createEvent("Event");U.initEvent("waiting",!0,!1),c.dispatchEvent(U)}}function q(U,oe){c&&c.addEventListener(U,oe)}function Z(U,oe){c&&c.removeEventListener(U,oe)}function ce(){return c?c.readyState:NaN}function re(){return c?c.buffered:null}function le(U,oe,Q,p,R){if(c){for(var Y=0;Y<c.textTracks.length;Y++)if(c.textTracks[Y].kind===U&&(!oe||c.textTracks[Y].label==oe)&&c.textTracks[Y].language===Q&&c.textTracks[Y].isTTML===p&&c.textTracks[Y].isEmbedded===R)return c.textTracks[Y]}return null}function de(U,oe){U===t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_NOTHING||ce()>=U?oe():function(Q,p){q(Q,function R(){Z(Q,R),p(Q)})}(ss.get(U),oe)}return o={initialize:function(){C.on(u.Z.PLAYBACK_PLAYING,O,this)},setCurrentTime:function(U,oe){c&&(E=U,de(t.Z.VIDEO_ELEMENT_READY_STATES.HAVE_METADATA,function(){if(c.currentTime!==E)try{E=oe?function(Q){var p=re(),R=Q,Y=9999999999;if(p)for(var k=0;k<p.length;k++){var D=p.start(k),I=p.end(k),J=Math.abs(D-Q),W=Math.abs(I-Q);if(Q>=D&&Q<=I)return Q;J<Y&&(Y=J,R=D),W<Y&&(Y=W,R=I)}return R}(E):E,c.currentTime=E,E=NaN}catch(Q){c.readyState===0&&Q.code===Q.INVALID_STATE_ERR&&setTimeout(function(){c.currentTime=E,E=NaN},400)}else E=NaN}))},play:function(){if(c){c.autoplay=!0;var U=c.play();U&&U.catch&&typeof Promise<"u"&&U.catch(function(oe){oe.name==="NotAllowedError"&&C.trigger(u.Z.PLAYBACK_NOT_ALLOWED),i.warn("Caught pending play exception - continuing (".concat(oe,")"))})}},isPaused:function(){return c?c.paused:null},pause:function(){c&&(c.pause(),c.autoplay=!1)},isStalled:K,isSeeking:function(){return c?c.seeking||!isNaN(E):null},getTime:function(){return c?isNaN(E)?c.currentTime:E:null},getPlaybackRate:function(){return c?c.playbackRate:null},setPlaybackRate:function(U){var oe=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c&&(!oe&&c.readyState<=2&&U>0?c.addEventListener("canplay",j):c.playbackRate=U)},getPlayedRanges:function(){return c?c.played:null},getEnded:function(){return c?c.ended:null},setStallState:function(U,oe){(function(Q,p){p?function(R){R!==null&&c&&!c.seeking&&F.indexOf(R)===-1&&F.push(R)}(Q):function(R){var Y=F.indexOf(R);R!==null&&Y!==-1&&F.splice(Y,1)}(Q)})(U,oe)},getElement:function(){return c},setElement:function(U){if(!(U==null||U&&/^(VIDEO|AUDIO)$/i.test(U.nodeName)))throw"element is not video or audio DOM type!";(c=U)&&(c.preload="auto")},setSource:function(U){c&&(U?c.src=U:(c.removeAttribute("src"),c.load()))},getSource:function(){return c?c.src:null},getTTMLRenderingDiv:function(){return T},setTTMLRenderingDiv:function(U){(T=U).style.position="absolute",T.style.display="flex",T.style.overflow="hidden",T.style.pointerEvents="none",T.style.top=0,T.style.left=0},getVttRenderingDiv:function(){return _},setVttRenderingDiv:function(U){_=U},getPlaybackQuality:function(){if(!c)return null;var U="webkitDroppedFrameCount"in c&&"webkitDecodedFrameCount"in c,oe=null;return"getVideoPlaybackQuality"in c?oe=c.getVideoPlaybackQuality():U&&(oe={droppedVideoFrames:c.webkitDroppedFrameCount,totalVideoFrames:c.webkitDroppedFrameCount+c.webkitDecodedFrameCount,creationTime:new Date}),oe},addEventListener:q,removeEventListener:Z,getReadyState:ce,getBufferRange:re,getClientWidth:function(){return c?c.clientWidth:NaN},getClientHeight:function(){return c?c.clientHeight:NaN},getTextTracks:function(){return c?c.textTracks:[]},getTextTrack:le,addTextTrack:function(U,oe,Q,p,R){if(!c)return null;var Y=le(U,oe,Q,p,R);return Y||((Y=c.addTextTrack(U,oe,Q)).isEmbedded=R,Y.isTTML=p),Y},appendChild:function(U){c&&(c.appendChild(U),U.isTTML!==void 0&&(c.textTracks[c.textTracks.length-1].isTTML=U.isTTML,c.textTracks[c.textTracks.length-1].isEmbedded=U.isEmbedded))},removeChild:function(U){c&&c.removeChild(U)},getVideoWidth:function(){return c?c.videoWidth:NaN},getVideoHeight:function(){return c?c.videoHeight:NaN},getVideoRelativeOffsetTop:function(){var U=c.parentNode.host||c.parentNode;return U?c.getBoundingClientRect().top-U.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function(){var U=c.parentNode.host||c.parentNode;return U?c.getBoundingClientRect().left-U.getBoundingClientRect().left:NaN},waitForReadyState:de,reset:function(){C.off(u.Z.PLAYBACK_PLAYING,O,this)}},i=(0,w.Z)(m).getInstance().getLogger(o),E=NaN,o}La.__dashjs_factory_name="VideoModel";const us=h.Z.getSingletonFactory(La);var ls=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],xa="dashjs_?_bitrate",Fa="dashjs_?_settings",Cr="localStorage",ka="lastBitrate",Za="lastMediaSettings";function Ua(o){o=o||{};var i,c,E,T=this.context,_=o.settings;function m(K){if(E!==void 0)return E;var O;E=!1;try{typeof window<"u"&&(O=window[K])}catch(q){return c.warn("DOMStorage access denied: "+q.message),E}if(!O||K!==Cr&&K!=="sessionStorage")return E;try{O.setItem("1","1"),O.removeItem("1"),E=!0}catch(q){c.warn("DOMStorage is supported, but cannot be used: "+q.message)}return E}function C(){var K=6e5;return Math.round(new Date().getTime()/K)*K}function F(K,O){return m(K)&&_.get().streaming[O+"CachingInfo"].enabled}function j(){if(!_)throw new Error(t.Z.MISSING_CONFIG_ERROR)}return i={getSavedBitrateSettings:function(K){if(j(),!_.get().streaming.lastBitrateCachingInfo.enabled)return NaN;var O=NaN;if(F(Cr,ka)){var q=xa.replace(/\?/,K);try{var Z=JSON.parse(localStorage.getItem(q))||{},ce=new Date().getTime()-parseInt(Z.timestamp,10)>=_.get().streaming.lastBitrateCachingInfo.ttl||!1,re=parseFloat(Z.bitrate);isNaN(re)||ce?ce&&localStorage.removeItem(q):(O=re,c.debug("Last saved bitrate for "+K+" was "+re))}catch{return null}}return O},setSavedBitrateSettings:function(K,O){if(F(Cr,ka)&&O){var q=xa.replace(/\?/,K);try{localStorage.setItem(q,JSON.stringify({bitrate:O.toFixed(3),timestamp:C()}))}catch(Z){c.error(Z.message)}}},getSavedMediaSettings:function(K){if(j(),!_.get().streaming.lastMediaSettingsCachingInfo.enabled)return null;var O=null;if(F(Cr,Za)){var q=Fa.replace(/\?/,K);try{var Z=JSON.parse(localStorage.getItem(q))||{},ce=new Date().getTime()-parseInt(Z.timestamp,10)>=_.get().streaming.lastMediaSettingsCachingInfo.ttl||!1;O=Z.settings,ce&&(localStorage.removeItem(q),O=null)}catch{return null}}return O},setSavedMediaSettings:function(K,O){if(F(Cr,Za)){var q=Fa.replace(/\?/,K);try{localStorage.setItem(q,JSON.stringify({settings:O,timestamp:C()}))}catch(Z){c.error(Z.message)}}}},c=(0,w.Z)(T).getInstance().getLogger(i),m(Cr)&&ls.forEach(function(K){var O=localStorage.getItem(K.oldKey);if(O){localStorage.removeItem(K.oldKey);try{localStorage.setItem(K.newKey,O)}catch(q){c.error(q.message)}}}),i}Ua.__dashjs_factory_name="DOMStorage";const cs=h.Z.getSingletonFactory(Ua);var fs=L(2032),Ba=L(2011);function Ga(){var o,i,c,E,T,_,m,C,F,j,K,O,q,Z=this.context;function ce(U,oe,Q,p){var R=null,Y=U?q.resolve(U.path):null,k=p||{init:!0,url:Y?Y.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:oe};i.debug("Start searching for initialization.");var D=de(k);C.load({request:D,success:function(I){if(k.bytesLoaded=k.range.end,!(R=E.findInitRange(I)))return k.range.end=k.bytesLoaded+k.bytesToLoad,ce(U,oe,Q,k);U.range=R,Q(U)},error:function(){Q(U)}}),i.debug("Perform init search: "+k.url)}function re(U,oe,Q,p,R,Y){if(Q&&(Q.start===void 0||Q.end===void 0)){var k=Q?Q.toString().split("-"):null;Q=k?{start:parseFloat(k[0]),end:parseFloat(k[1])}:null}R=R||le;var D=null,I=null,J=!!Q,W=U?q.resolve(U.path):null,ne={init:!1,url:W?W.url:void 0,range:J?Q:{start:0,end:1500},searching:!J,bytesLoaded:Y?Y.bytesLoaded:0,bytesToLoad:1500,mediaType:oe},H=de(ne);C.load({request:H,success:function(X){var ge=ne.bytesToLoad,Ue=X.byteLength;if(ne.bytesLoaded=ne.range.end-ne.range.start,D=E.parse(X),(I=D.getBox("sidx"))&&I.isComplete){var Oe,at,Ae=I.references;if(Ae!=null&&Ae.length>0&&(Oe=Ae[0].reference_type===1),Oe){var Ne,ht,et,mt;i.debug("Initiate multiple SIDX load."),ne.range.end=ne.range.start+I.size;var At=[],Ce=0,ee=(I.offset||ne.range.start)+I.size,ve=function(Ie){Ie?(At=At.concat(Ie),++Ce>=ht&&(At.sort(function(Je,Ge){return Je.startTime-Ge.startTime<0?-1:0}),R(At,U,p))):R(null,U,p)};for(Ne=0,ht=Ae.length;Ne<ht;Ne++)et=ee,mt=ee+Ae[Ne].referenced_size-1,ee+=Ae[Ne].referenced_size,re(U,oe,{start:et,end:mt},p,ve,ne)}else i.debug("Parsing segments from SIDX. representation "+oe+" - id: "+U.id+" for range : "+ne.range.start+" - "+ne.range.end),at=function(Ie,Je){for(var Ge,je,Ot,Tt,Ft=Ie.references,Gt=Ft.length,kt=Ie.timescale,Yt=Ie.earliest_presentation_time,Qt=Je.range.start+Ie.offset+Ie.first_offset+Ie.size,an=[],en=0;en<Gt;en++)Ot=Ft[en].subsegment_duration,Tt=Ft[en].referenced_size,(Ge=new Ba.Z).duration=Ot,Ge.startTime=Yt,Ge.timescale=kt,je=Qt+Tt-1,Ge.mediaRange=Qt+"-"+je,an.push(Ge),Yt+=Ot,Qt+=Tt;return an}(I,ne),R(at,U,p)}else{if(I)ne.range.start=I.offset||ne.range.start,ne.range.end=ne.range.start+(I.size||ge);else{if(Ue<ne.bytesLoaded)return void R(null,U,p);var Ee=D.getLastBox();Ee&&Ee.size?(ne.range.start=Ee.offset+Ee.size,ne.range.end=ne.range.start+ge):ne.range.end+=ge}re(U,oe,ne.range,p,null,ne)}},error:function(){R(null,U,p)}}),i.debug("Perform SIDX load for type ".concat(oe," : ").concat(ne.url," with range ").concat(ne.range.start," - ").concat(ne.range.end))}function le(U,oe,Q){Q({segments:U,representation:oe,error:U?void 0:new V.Z(F.SEGMENT_BASE_LOADER_ERROR_CODE,F.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function de(U){if(U.url){var oe=new b.Z;return oe.setInfo(U),oe}}return o={setConfig:function(U){U.baseURLController&&(q=U.baseURLController),U.dashMetrics&&(_=U.dashMetrics),U.mediaPlayerModel&&(m=U.mediaPlayerModel),U.errHandler&&(c=U.errHandler),U.boxParser&&(E=U.boxParser),U.debug&&(i=U.debug.getLogger(o)),U.requestModifier&&(T=U.requestModifier),U.errors&&(F=U.errors),U.urlUtils&&(O=U.urlUtils),U.constants&&(j=U.constants),U.dashConstants&&(K=U.dashConstants)},initialize:function(){C=Jt(Z).create({errHandler:c,dashMetrics:_,mediaPlayerModel:m,requestModifier:T,boxParser:E,errors:F,urlUtils:O,constants:j,dashConstants:K})},loadInitialization:function(U,oe){return new Promise(function(Q){ce(U,oe,Q)})},loadSegments:function(U,oe,Q){return new Promise(function(p){re(U,oe,Q,p)})},reset:function(){C&&(C.abort(),C=null)}}}Ga.__dashjs_factory_name="SegmentBaseLoader";const ds=h.Z.getSingletonFactory(Ga);function ja(o){var i;o=o||{};var c=new DataView(o.data),E=0;function T(m,C){var F=!0,j=0;if(C===void 0&&(C=!1),m.tag>16777215?(c.getUint32(E)!==m.tag&&(F=!1),j=4):m.tag>65535?(256*c.getUint16(E)+c.getUint8(E+2)!==m.tag&&(F=!1),j=3):m.tag>255?(c.getUint16(E)!==m.tag&&(F=!1),j=2):(c.getUint8(E)!==m.tag&&(F=!1),j=1),!F&&m.required&&!C)throw new Error("required tag not found");return F&&(E+=j),F}function _(m){var C=1,F=128,j=-1,K=0,O=c.getUint8(E),q=0;for(q=0;q<8;q+=1){if((O&F)===F){K=m===void 0?O&~F:O,j=q;break}F>>=1}for(q=0;q<j;q+=1,C+=1)K=K<<8|255&c.getUint8(E+C);return E+=C,K}return i={getPos:function(){return E},setPos:function(m){E=m},consumeTag:T,consumeTagAndSize:function(m,C){var F=T(m,C);return F&&_(),F},parseTag:function(m){var C;return T(m),C=_(),i[m.parse](C)},skipOverElement:function(m,C){var F,j=T(m,C);return j&&(F=_(),E+=F),j},getMatroskaCodedNum:_,getMatroskaFloat:function(m){var C;switch(m){case 4:C=c.getFloat32(E),E+=4;break;case 8:C=c.getFloat64(E),E+=8}return C},getMatroskaUint:function(m){for(var C=0,F=0;F<m;F+=1)C<<=8,C|=255&c.getUint8(E+F);return E+=m,C},moreData:function(){return E<c.byteLength}}}ja.__dashjs_factory_name="EBMLParser";const Ya=h.Z.getClassFactory(ja);function qa(){var o,i,c,E,T,_,m,C,F,j,K=this.context;function O(q){var Z=new b.Z;return Z.setInfo(q),Z}return o={setConfig:function(q){if(!(q.baseURLController&&q.dashMetrics&&q.mediaPlayerModel&&q.errHandler))throw new Error(t.Z.MISSING_CONFIG_ERROR);j=q.baseURLController,_=q.dashMetrics,m=q.mediaPlayerModel,E=q.errHandler,F=q.errors,i=q.debug.getLogger(o),T=q.requestModifier},initialize:function(){C=Jt(K).create({errHandler:E,dashMetrics:_,mediaPlayerModel:m,requestModifier:T,errors:F})},loadInitialization:function(q,Z){return new Promise(function(ce){var re=null,le=q?j.resolve(q.path):null,de=q?q.range.split("-"):null,U={range:{start:de?parseFloat(de[0]):null,end:de?parseFloat(de[1]):null},request:re,url:le?le.url:void 0,init:!0,mediaType:Z};i.info("Start loading initialization."),re=O(U),C.load({request:re,success:function(){ce(q)},error:function(){ce(q)}}),i.debug("Perform init load: "+U.url)})},loadSegments:function(q,Z,ce){return new Promise(function(re){var le=null,de=q?j.resolve(q.path):null,U=de?de.url:void 0;le=O({bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:le,url:U,init:!1,mediaType:Z}),i.debug("Parsing ebml header"),C.load({request:le,success:function(oe){(function(Q,p,R,Y){if(Q&&Q.byteLength!==0){var k,D,I,J,W=Ya(K).create({data:Q}),ne=R?R.split("-"):null,H=null,X={url:p,range:{start:ne?parseFloat(ne[0]):null,end:ne?parseFloat(ne[1]):null},request:H};for(i.debug("Parse EBML header: "+X.url),W.skipOverElement(c.EBML),W.consumeTag(c.Segment),I=W.getMatroskaCodedNum(),I+=W.getPos(),J=W.getPos();W.moreData()&&!W.consumeTagAndSize(c.Segment.Info,!0);)if(!(W.skipOverElement(c.Segment.SeekHead,!0)||W.skipOverElement(c.Segment.Tracks,!0)||W.skipOverElement(c.Segment.Cues,!0)||W.skipOverElement(c.Void,!0)))throw new Error("no valid top level element found");for(;k===void 0;){var ge=W.getMatroskaCodedNum(!0),Ue=W.getMatroskaCodedNum();ge===c.Segment.Info.Duration.tag?k=W[c.Segment.Info.Duration.parse](Ue):W.setPos(W.getPos()+Ue)}H=O(X),C.load({request:H,success:function(Oe){D=function(at,Ae,Ne,ht){var et,mt,At,Ce,ee,ve,Ee,Ie;for(At=[],ee=0,ve=(mt=function(Je){var Ge,je,Ot=[],Tt=Ya(K).create({data:Je});for(Tt.consumeTagAndSize(c.Segment.Cues);Tt.moreData()&&Tt.consumeTagAndSize(c.Segment.Cues.CuePoint,!0);){for((Ge={}).CueTime=Tt.parseTag(c.Segment.Cues.CuePoint.CueTime),Ge.CueTracks=[];Tt.moreData()&&Tt.consumeTag(c.Segment.Cues.CuePoint.CueTrackPositions,!0);){var Ft=Tt.getMatroskaCodedNum(),Gt=Tt.getPos();if((je={}).Track=Tt.parseTag(c.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),je.Track===0)throw new Error("Cue track cannot be 0");je.ClusterPosition=Tt.parseTag(c.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),Ge.CueTracks.push(je),Tt.setPos(Gt+Ft)}if(Ge.CueTracks.length===0)throw new Error("Mandatory cuetrack not found");Ot.push(Ge)}if(Ot.length===0)throw new Error("mandatory cuepoint not found");return Ot}(at)).length;ee<ve;ee+=1)Ce=new Ba.Z,et=ee<mt.length-1?mt[ee+1].CueTime-mt[ee].CueTime:ht-mt[ee].CueTime,Ce.duration=et,Ce.startTime=mt[ee].CueTime,Ce.timescale=1e3,Ee=mt[ee].CueTracks[0].ClusterPosition+Ae,Ie=ee<mt.length-1?mt[ee+1].CueTracks[0].ClusterPosition+Ae-1:Ne-1,Ce.mediaRange=Ee+"-"+Ie,At.push(Ce);return i.debug("Parsed cues: "+At.length+" cues."),At}(Oe,J,I,k),Y(D)},error:function(){i.error("Download Error: Cues "+X.url),Y(null)}}),i.debug("Perform cues load: "+X.url+" bytes="+X.range.start+"-"+X.range.end)}else Y(null)})(oe,U,ce,function(Q){re({segments:Q,representation:q,error:Q?void 0:new V.Z(F.SEGMENT_BASE_LOADER_ERROR_CODE,F.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})})},error:function(){re({representation:q,error:new V.Z(F.SEGMENT_BASE_LOADER_ERROR_CODE,F.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}})})},reset:function(){C&&(C.abort(),C=null)}},c={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},o}qa.__dashjs_factory_name="WebmSegmentBaseLoader";const gs=h.Z.getSingletonFactory(qa);function Ha(o){o=o||{};var i,c,E,T=this.context,_=o.eventBus,m=o.events,C=o.dashMetrics,F=o.mediaPlayerModel,j=o.errHandler,K=o.baseURLController,O=o.debug,q=o.boxParser,Z=o.requestModifier,ce=o.errors;function re(le){return(le?le.split("/")[1]:"").toLowerCase()==="webm"}return i={initialize:function(){c.initialize(),E.initialize()},getSegmentBaseInitSegment:function(le){return re(le.representation.mimeType)?E.loadInitialization(le.representation,le.mediaType):c.loadInitialization(le.representation,le.mediaType)},getSegmentList:function(le){return re(le.mimeType)?E.loadSegments(le.representation,le.mediaType,le.representation?le.representation.indexRange:null):c.loadSegments(le.representation,le.mediaType,le.representation?le.representation.indexRange:null)},reset:function(){c.reset(),E.reset()}},c=ds(T).getInstance(),E=gs(T).getInstance(),c.setConfig({baseURLController:K,dashMetrics:C,mediaPlayerModel:F,errHandler:j,eventBus:_,events:m,errors:ce,debug:O,boxParser:q,requestModifier:Z}),E.setConfig({baseURLController:K,dashMetrics:C,mediaPlayerModel:F,errHandler:j,eventBus:_,events:m,errors:ce,debug:O,requestModifier:Z}),i}Ha.__dashjs_factory_name="SegmentBaseController";const hs=h.Z.getSingletonFactory(Ha),Va=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.quality=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},qi=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.labels=null,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.KID=null,this.bitrateList=null,this.isFragmented=null,this.isEmbedded=null,this.selectionPriority=1,this.supplementalProperties={}},Ka=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},ms=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.dvrWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};function ps(o,i){for(var c=0;c<i.length;c++){var E=i[c];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(o,E.key,E)}}const ys=function(){function o(E){var T=this;(function(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this.valid=E[0]=="/",this.path=E.split("/").filter(function(_){return _.length!==0}).map(function(_){var m={name:_},C=_.indexOf("[");if(C!=-1){m.name=_.substring(0,C);var F=_.substring(C+1,_.length-1);T.valid=T.valid&&F.indexOf("[")==-1;var j=F.indexOf("=");j!=-1?(m.attribute={name:F.substring(1,j),value:F.substring(j+1)},["'",'"'].indexOf(m.attribute.value[0])!=-1&&(m.attribute.value=m.attribute.value.substring(1,m.attribute.value.length-1))):m.position=parseInt(F,10)-1}return m})}var i,c;return i=o,(c=[{key:"isValid",value:function(){return this.valid}},{key:"findsElement",value:function(){return!this.findsAttribute()}},{key:"findsAttribute",value:function(){return this.path[this.path.length-1].name.startsWith("@")}},{key:"getMpdTarget",value:function(E,T){for(var _=null,m=E,C=1,F="MPD";C<this.path.length&&m!==null;){_=m;var j=this.path[C];if(F=j.name,C!==this.path.length-1||!F.startsWith("@")){var K=_[F+"_asArray"]||[];K.length===0&&_[F]&&K.push(_[F]),j.position?m=K[j.position]||null:j.attribute?function(){var O=j.attribute;m=K.filter(function(q){return q[O.name]==O.value})[0]||null}():m=K[0]||null}C++}return m===null?null:F.startsWith("@")?{name:F.substring(1),leaf:m,target:m}:{name:F,leaf:m,target:T?_:m}}}])&&ps(i.prototype,c),o}();function Es(o,i){for(var c=0;c<i.length;c++){var E=i[c];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(o,E.key,E)}}const vs=function(){function o(E,T,_){(function(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")})(this,o),this.action=E,this.xpath=T,this.value=_,this.position=null}var i,c;return i=o,(c=[{key:"getMpdTarget",value:function(E){var T=this.action==="remove"||this.action==="replace"||this.position==="before"||this.position==="after";return this.xpath.getMpdTarget(E,T)}}])&&Es(i.prototype,c),o}();function za(){var o,i,c=this.context;return o={getIsPatch:function(E){return E&&E.hasOwnProperty(r.Z.ORIGINAL_MPD_ID)||!1},getPublishTime:function(E){return E&&E.hasOwnProperty(r.Z.PUBLISH_TIME)?new Date(E[r.Z.PUBLISH_TIME]):null},getOriginalPublishTime:function(E){return E&&E.hasOwnProperty(r.Z.ORIGINAL_PUBLISH_TIME)?new Date(E[r.Z.ORIGINAL_PUBLISH_TIME]):null},getMpdId:function(E){return E&&E[r.Z.ORIGINAL_MPD_ID]||null},getPatchOperations:function(E){return E?(E.__children||[]).map(function(T){var _=Object.keys(T)[0];if(_!=="add"&&_!=="remove"&&_!=="replace")return i.warn("Ignoring node of invalid action: ".concat(_)),null;var m=T[_],C=m.sel;if(_==="add"&&m.type){if(!m.type.startsWith("@"))return i.warn("Ignoring add action for prefixed namespace declaration: ".concat(m.type,"=").concat(m.__text)),null;C="".concat(C,"/").concat(m.type)}var F=new ys(C);if(!F.isValid())return i.warn("Ignoring action with invalid selector: ".concat(_," - ").concat(C)),null;var j=null;F.findsAttribute()?j=m.__text||"":_!=="remove"&&(j=m.__children.reduce(function(O,q){var Z=Object.keys(q)[0];return Z!=="#text"&&(O[Z]=O[Z]||[],O[Z].push(q[Z])),O},{}));var K=new vs(_,F,j);return _==="add"&&(K.position=m.pos),K}).filter(function(T){return!!T}):[]}},i=(0,w.Z)(c).getInstance().getLogger(o),o}za.__dashjs_factory_name="PatchManifestModel";const _s=h.Z.getSingletonFactory(za);function Wa(){var o,i,c,E,T,_,m,C=this.context;function F(k,D,I){var J,W=i.getAdaptationsForType(E[0].mpd.manifest,k,D);if(!W||W.length===0)return null;if(W.length>1&&I){var ne=O(I,D);if(T[I.id]&&T[I.id][D]){for(var H=0,X=W.length;H<X;H++)if(j(T[I.id][D],ne[H]))return W[H]}for(var ge=0,Ue=W.length;ge<Ue;ge++)if(J=W[ge],i.getRolesForAdaptation(J).filter(function(Oe){return Oe.value===r.Z.MAIN})[0])return W[ge]}return W[0]}function j(k,D){if(!k||!D)return!1;var I=k.id===D.id,J=k.codec===D.codec,W=k.viewpoint===D.viewpoint,ne=k.lang===D.lang,H=k.roles.toString()===D.roles.toString(),X=k.accessibility.toString()===D.accessibility.toString(),ge=k.audioChannelConfiguration.toString()===D.audioChannelConfiguration.toString();return I&&J&&W&&ne&&H&&X&&ge}function K(k,D,I,J,W,ne){var H,X,ge,Ue,Oe,at,Ae=[];if(!J||J.length===0)return[];var Ne=i.getAdaptationsForPeriod(D);for(Ue=0,at=J.length;Ue<at;Ue++)if(H=J[Ue],X=U(Ne[ge=i.getIndexForAdaptation(H,k,I.index)]),ne){var ht=X.accessibility.length;for(Oe=0;Oe<ht;Oe++)if(X){var et=X.accessibility[Oe];if(et.indexOf("cea-608:")===0){var mt=et.substring(8).split(";");if(mt[0].substring(0,2)==="CC")for(Oe=0;Oe<mt.length;Oe++)X||(X=U.call(this,Ne[ge])),oe(X,mt[Oe].substring(0,3),mt[Oe].substring(4)),Ae.push(X),X=null;else for(Oe=0;Oe<mt.length;Oe++)X||(X=U.call(this,Ne[ge])),oe(X,"CC"+(Oe+1),mt[Oe]),Ae.push(X),X=null}else et.indexOf("cea-608")===0&&(oe(X,_.CC1,"eng"),Ae.push(X),X=null)}}else W===_.IMAGE?(X.type=_.IMAGE,Ae.push(X),X=null):X&&Ae.push(X);return Ae}function O(k,D,I){var J=E,W=I,ne=[];if(W)p(),J=q(W);else{if(!(E.length>0))return ne;W=E[0].mpd.manifest}var H=de(k,J),X=i.getAdaptationsForType(W,k?k.index:null,D);return ne=K(W,H,k,X,D),D===_.TEXT&&(X=i.getAdaptationsForType(W,k?k.index:null,_.VIDEO),ne=ne.concat(K(W,H,k,X,D,!0))),ne}function q(k){var D=Z(k);return i.getRegularPeriods(D)}function Z(k){var D=re(k);return i.getMpd(D)}function ce(){E=[],T={}}function re(k){return k||(E.length>0?E[0].mpd.manifest:null)}function le(k){try{var D=de(k.streamInfo,E),I=i.getAdaptationsForPeriod(D);return k&&k.streamInfo&&k.streamInfo.id!==void 0&&I?I[k.index]:null}catch{return null}}function de(k,D){for(var I=D.length,J=0;J<I;J++){var W=D[J];if(k&&k.id===W.id)return W}return null}function U(k){if(!k)return null;var D,I=new qi,J=k.period.mpd.manifest.Period_asArray[k.period.index].AdaptationSet_asArray[k.index];if(I.id=k.id,I.index=k.index,I.type=k.type,I.streamInfo=Q(k.period),I.representationCount=i.getRepresentationCount(J),I.labels=i.getLabelsForAdaptation(J),I.lang=i.getLanguageForAdaptation(J),D=i.getViewpointForAdaptation(J),I.viewpoint=D?D.value:void 0,I.accessibility=i.getAccessibilityForAdaptation(J).map(function(H){var X=H.value,ge=X;return H.schemeIdUri&&H.schemeIdUri.search("cea-608")>=0&&m!==void 0&&(ge=X?"cea-608:"+X:"cea-608",I.embeddedCaptions=!0),ge}),I.audioChannelConfiguration=i.getAudioChannelConfigurationForAdaptation(J).map(function(H){return H.value}),I.audioChannelConfiguration.length===0&&Array.isArray(J.Representation_asArray)&&J.Representation_asArray.length>0&&(I.audioChannelConfiguration=i.getAudioChannelConfigurationForRepresentation(J.Representation_asArray[0]).map(function(H){return H.value})),I.roles=i.getRolesForAdaptation(J).map(function(H){return H.value}),I.codec=i.getCodec(J),I.mimeType=i.getMimeType(J),I.contentProtection=i.getContentProtectionData(J),I.bitrateList=i.getBitrateListForAdaptation(J),I.selectionPriority=i.getSelectionPriority(J),I.contentProtection){var W=I.contentProtection.map(function(H){return i.getKID(H)}).filter(function(H){return H!==null});if(W.length){var ne=W[0];I.contentProtection.forEach(function(H){H.keyId=ne})}}return I.isText=i.getIsText(J),I.supplementalProperties=i.getSupplementalProperties(J),I.isFragmented=i.getIsFragmented(J),I.isEmbedded=!1,I}function oe(k,D,I){k.id=D,k.index=100+parseInt(D.substring(2,3)),k.type=_.TEXT,k.codec="cea-608-in-SEI",k.isEmbedded=!0,k.isFragmented=!1,k.lang=ti()(I),k.roles=["caption"]}function Q(k){var D,I,J=new Ka;return J.id=k.id,J.index=k.index,J.start=k.start,J.duration=k.duration,J.manifestInfo=(D=k.mpd,(I=new ms).dvrWindowSize=D.timeShiftBufferDepth,I.loadedTime=D.manifest.loadedTime,I.availableFrom=D.availabilityStartTime,I.minBufferTime=D.manifest.minBufferTime,I.maxFragmentDuration=D.maxSegmentDuration,I.duration=i.getDuration(D.manifest),I.isDynamic=i.getIsDynamic(D.manifest),I.serviceDescriptions=i.getServiceDescriptions(D.manifest),I.protocol=D.manifest.protocol,I),J.isLast=k.mpd.manifest.Period_asArray.length===1||Math.abs(J.start+J.duration-J.manifestInfo.duration)<1,J}function p(){if(!_)throw new Error("setConfig function has to be called previously")}function R(k){return E.length>0?E[0].mpd.manifest.Period_asArray[k]:null}function Y(k,D,I){var J,W,ne,H,X;if(k){for(J=k.AdaptationSet_asArray,H=0;H<J.length;H+=1)for(ne=J[H].Representation_asArray,X=0;X<ne.length;X+=1)if(D===(W=ne[X]).id)return I?X:W}return null}return o={getBandwidthForRepresentation:function(k,D){var I;return(I=Y(R(D),k))?I.bandwidth:null},getIndexForRepresentation:function(k,D){return function(I,J){var W=Y(I,J,!0);return W!==null?W:-1}(R(D),k)},getMaxIndexForBufferType:function(k,D){return function(I,J){var W,ne,H,X;if(!I||!J)return-1;for(ne=I.AdaptationSet_asArray,X=0;X<ne.length;X+=1)if(H=(W=ne[X]).Representation_asArray,i.getIsTypeOf(W,J))return H.length;return-1}(R(D),k)},convertRepresentationToRepresentationInfo:function(k){if(k){var D=new Va,I=k.adaptation.period.mpd.manifest.Period_asArray[k.adaptation.period.index].AdaptationSet_asArray[k.adaptation.index],J=i.getRepresentationFor(k.index,I);return D.id=k.id,D.quality=k.index,D.bandwidth=i.getBandwidth(J),D.fragmentDuration=k.segmentDuration||(k.segments&&k.segments.length>0?k.segments[0].duration:NaN),D.MSETimeOffset=k.MSETimeOffset,D.mediaInfo=U(k.adaptation),D}return null},getStreamsInfo:function(k,D){var I=[],J=E;if(k&&(p(),J=q(k)),J.length>0){(!D||D>J.length)&&(D=J.length);for(var W=0;W<D;W++)I.push(Q(J[W]))}return I},getMediaInfoForType:function(k,D){if(E.length===0||!k)return null;var I=de(k,E);if(!I)return null;var J=i.getAdaptationsForPeriod(I),W=F(k.index,D,k);return W?U(J[i.getIndexForAdaptation(W,E[0].mpd.manifest,k.index)]):null},getAllMediaInfoForType:O,getAdaptationForType:F,getRealAdaptation:function(k,D){var I,J,W=de(k,E);return I=D?D.id:null,E.length>0&&W&&(J=I?i.getAdaptationForId(I,E[0].mpd.manifest,W.index):i.getAdaptationForIndex(D?D.index:null,E[0].mpd.manifest,W.index)),J},getProducerReferenceTimes:function(k,D){var I,J,W=de(k,E);return I=D?D.id:null,E.length>0&&W&&(J=I?i.getAdaptationForId(I,E[0].mpd.manifest,W.index):i.getAdaptationForIndex(D?D.index:null,E[0].mpd.manifest,W.index)),J?i.getProducerReferenceTimesForAdaptation(J):[]},getRealPeriodByIndex:function(k){return i.getRealPeriodForIndex(k,E[0].mpd.manifest)},getEssentialPropertiesForRepresentation:function(k){try{return i.getEssentialPropertiesForRepresentation(k)}catch{return[]}},getVoRepresentations:function(k){var D=le(k);return i.getRepresentationsForAdaptation(D)},getEventsFor:function(k,D,I){var J=[];if(E.length>0){var W=E[0].mpd.manifest;if(k instanceof Ka){var ne=de(k,E);J=i.getEventsForPeriod(ne)}else if(k instanceof qi){var H=de(I,E);J=i.getEventStreamForAdaptationSet(W,le(k),H)}else if(k instanceof Va){var X=de(I,E);J=i.getEventStreamForRepresentation(W,D,X)}}return J},getEvent:function(k,D,I,J){try{if(!k||!D||isNaN(I)||!J)return null;var W=k.scheme_id_uri,ne=k.value;if(!D[W+"/"+ne])return null;var H,X=new Xn,ge=k.timescale||1,Ue=J.adaptation.period.start,Oe=D[W+"/"+ne],at=isNaN(J.presentationTimeOffset)?isNaN(Oe.presentationTimeOffset)?0:Oe.presentationTimeOffset:J.presentationTimeOffset,Ae=k.presentation_time_delta/ge;H=k.version===0?Ue+I-at+Ae:Ue-at+Ae;var Ne=k.event_duration/ge,ht=k.id,et=k.message_data;return X.eventStream=Oe,X.eventStream.value=ne,X.eventStream.timescale=ge,X.duration=Ne,X.id=ht,X.calculatedPresentationTime=H,X.messageData=et,X.presentationTimeDelta=Ae,X}catch{return null}},getMpd:Z,setConfig:function(k){k&&(k.constants&&(_=k.constants),k.cea608parser&&(m=k.cea608parser),k.errHandler&&i.setConfig({errHandler:k.errHandler}),k.BASE64&&i.setConfig({BASE64:k.BASE64}))},updatePeriods:function(k){if(!k)return null;p(),E=q(k)},getIsTextTrack:function(k){return i.getIsText(k)},getUTCTimingSources:function(){var k=re();return i.getUTCTimingSources(k)},getSuggestedPresentationDelay:function(){var k=E.length>0?E[0].mpd:null;return i.getSuggestedPresentationDelay(k)},getAvailabilityStartTime:function(k){var D=Z(k);return i.getAvailabilityStartTime(D)},getIsTypeOf:function(k,D){return i.getIsTypeOf(k,D)},getIsDynamic:function(k){var D=re(k);return i.getIsDynamic(D)},getDuration:function(k){var D=re(k);return i.getDuration(D)},getRegularPeriods:q,getContentSteering:function(k){return i.getContentSteering(k)},getLocation:function(k){return i.getLocation(k)},getPatchLocation:function(k){var D=i.getPatchLocation(k),I=i.getPublishTime(k);if(!D||!I)return null;if(D.hasOwnProperty("ttl")&&I){var J=1e3*parseFloat(D.ttl);if(I.getTime()+J<=new Date().getTime())return null}return D.__text},getManifestUpdatePeriod:function(k){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return i.getManifestUpdatePeriod(k,D)},getPublishTime:function(k){return i.getPublishTime(k)},getIsDVB:function(k){return i.hasProfile(k,"urn:dvb:dash:profile:dvb-dash:2014")},getIsPatch:function(k){return c.getIsPatch(k)},getBaseURLsFromElement:function(k){return i.getBaseURLsFromElement(k)},getRepresentationSortFunction:function(){return i.getRepresentationSortFunction()},getCodec:function(k,D,I){return i.getCodec(k,D,I)},getPeriodById:function(k){if(!k||E.length===0)return null;var D=E.filter(function(I){return I.id===k});return D&&D.length>0?D[0]:null},setCurrentMediaInfo:function(k,D,I){T[k]=T[k]||{},T[k][D]=T[k][D]||{},T[k][D]=I},isPatchValid:function(k,D){var I=i.getId(k),J=c.getMpdId(D),W=i.getPublishTime(k),ne=c.getPublishTime(D),H=c.getOriginalPublishTime(D);return!!(I&&J&&I==J&&W&&H&&W.getTime()==H.getTime()&&ne&&W.getTime()<ne.getTime())},applyPatchToManifest:function(k,D){c.getPatchOperations(D).forEach(function(I){var J=I.getMpdTarget(k);if(J!==null){var W=J.name,ne=J.target,H=J.leaf;if(I.xpath.findsAttribute())switch(I.action){case"add":case"replace":ne[W]=I.value;break;case"remove":delete ne[W]}else{var X=(ne[W+"_asArray"]||[]).indexOf(H),ge=I.position==="prepend"||I.position==="before";if((I.action==="remove"||I.action==="replace")&&(delete ne[W],X!=-1)){var Ue=ne[W+"_asArray"];Ue.splice(X,1),Ue.length>1?ne[W]=Ue:Ue.length==1?ne[W]=Ue[0]:delete ne[W+"_asArray"]}I.action!=="add"&&I.action!=="replace"||Object.keys(I.value).forEach(function(Oe){var at=I.value[Oe],Ae=ne[Oe+"_asArray"]||[];if(Ae.length===0&&ne[Oe]&&Ae.push(ne[Oe]),Ae.length===0)Ae=at;else{var Ne=Ae.length;Ne=Oe==W&&X!=-1?X+(ge?0:1)+(I.action=="replace"?-1:0):ge?0:Ae.length,Ae.splice.apply(Ae,[Ne,0].concat(at))}ne[Oe+"_asArray"]=Ae,ne[Oe]=Ae.length==1?Ae[0]:Ae})}}})},areMediaInfosEqual:j,reset:ce},i=Bt(C).getInstance(),c=_s(C).getInstance(),ce(),o}Wa.__dashjs_factory_name="DashAdapter";const Ts=h.Z.getSingletonFactory(Wa);function Ss(o,i){for(var c=0;c<i.length;c++){var E=i[c];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(o,E.key,E)}}var bs=function(){function o(){(function(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")})(this,o)}var i,c;return i=o,c=[{key:"round10",value:function(E,T){return function(_,m,C){return C===void 0||+C==0?Math[_](m):(C=+C,(m=+m)===null||isNaN(m)||typeof C!="number"||C%1!=0?NaN:(m=m.toString().split("e"),+((m=(m=Math[_](+(m[0]+"e"+(m[1]?+m[1]-C:-C)))).toString().split("e"))[0]+"e"+(m[1]?+m[1]+C:C))))}("round",E,T)}}],c&&Ss(i,c),o}();const As=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},Is=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.t=null,this.mt=null,this.to=null,this.lto=null},Rs=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.t=null,this.level=null},ws=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.target=null,this.state=v.Z.BUFFER_EMPTY},Ns=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.time=null,this.range=null,this.manifestInfo=null},Cs=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.time=null,this.droppedFrames=null};function Hi(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}var Ds=function o(){Hi(this,o),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},Os=function o(){Hi(this,o),this.id=null,this.index=null,this.start=null,this.duration=null},Ms=function o(){Hi(this,o),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};const Ps=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},Ls=function o(){(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.loadingRequests=[],this.executedRequests=[]};function Xa(o){var i,c,E=(o=o||{}).settings,T=this.context,_=(0,g.Z)(T).getInstance();function m(){_.trigger(u.Z.METRICS_CHANGED)}function C(Z){_.trigger(u.Z.METRIC_CHANGED,{mediaType:Z}),m()}function F(Z,ce,re){_.trigger(u.Z.METRIC_UPDATED,{mediaType:Z,metric:ce,value:re}),C(Z)}function j(Z,ce,re){_.trigger(u.Z.METRIC_ADDED,{mediaType:Z,metric:ce,value:re}),C(Z)}function K(Z,ce){var re=null;return Z&&(c.hasOwnProperty(Z)?re=c[Z]:ce||(re=new As,c[Z]=re)),re}function O(Z,ce,re){var le=K(Z);le!==null&&(le[ce].push(re),le[ce].length>E.get().streaming.metrics.maxListDepth&&le[ce].shift())}function q(Z,ce,re){O(Z,ce,re),j(Z,ce,re)}return i={clearCurrentMetricsForType:function(Z){delete c[Z],C(Z)},clearAllCurrentMetrics:function(){c={},m()},getMetricsFor:K,addHttpRequest:function Z(ce,re,le,de,U,oe,Q,p,R,Y,k,D,I,J,W,ne,H){var X=new Te.w;oe&&oe!==de&&(Z(ce,null,le,de,U,null,null,p,R,null,null,null,I,null,null,ne,H),X.actualurl=oe),X.tcpid=re,X.type=le,X.url=de,X.range=p,X.trequest=R,X.tresponse=Y,X.responsecode=D,X.cmsd=H,X._tfinish=k,X._stream=ce,X._mediaduration=I,X._quality=U,X._responseHeaders=J,X._serviceLocation=Q,X._fileLoaderType=ne,W?W.forEach(function(ge){(function(Ue,Oe,at,Ae){var Ne=new Te.O;Ne.s=Oe,Ne.d=at,Ne.b=Ae,Ue.trace.push(Ne),Ue.interval||(Ue.interval=0),Ue.interval+=at})(X,ge.s,ge.d,ge.b)}):(delete X.interval,delete X.trace),q(ce,v.Z.HTTP_REQUEST,X)},addRepresentationSwitch:function(Z,ce,re,le,de){var U=new Is;U.t=ce,U.mt=re,U.to=le,de?U.lto=de:delete U.lto,q(Z,v.Z.TRACK_SWITCH,U)},addBufferLevel:function(Z,ce,re){var le=new Rs;le.t=ce,le.level=re,q(Z,v.Z.BUFFER_LEVEL,le)},addBufferState:function(Z,ce,re){var le=new ws;le.target=re,le.state=ce,q(Z,v.Z.BUFFER_STATE,le)},addDVRInfo:function(Z,ce,re,le){var de=new Ns;de.time=ce,de.range=le,de.manifestInfo=re,q(Z,v.Z.DVR_INFO,de)},addDroppedFrames:function(Z,ce){var re=new Cs,le=K(Z).DroppedFrames;ce&&(re.time=ce.creationTime,re.droppedFrames=ce.droppedVideoFrames,le.length>0&&le[le.length-1]==re||q(Z,v.Z.DROPPED_FRAMES,re))},addSchedulingInfo:function(Z,ce,re,le,de,U,oe,Q,p){var R=new Ps;R.mediaType=Z,R.t=ce,R.type=re,R.startTime=le,R.availabilityStartTime=de,R.duration=U,R.quality=oe,R.range=Q,R.state=p,q(Z,v.Z.SCHEDULING_INFO,R)},addRequestsQueue:function(Z,ce,re){var le=new Ls;le.loadingRequests=ce,le.executedRequests=re,K(Z).RequestsQueue=le,j(Z,v.Z.REQUESTS_QUEUE,le)},addManifestUpdate:function(Z,ce,re,le,de,U,oe,Q,p,R){var Y=new Ds;Y.mediaType=Z,Y.type=ce,Y.requestTime=re,Y.fetchTime=le,Y.availabilityStartTime=de,Y.presentationStartTime=U,Y.clientTimeOffset=oe,Y.currentTime=Q,Y.buffered=p,Y.latency=R,O(t.Z.STREAM,v.Z.MANIFEST_UPDATE,Y),j(Z,v.Z.MANIFEST_UPDATE,Y)},updateManifestUpdateInfo:function(Z,ce){if(Z){for(var re in ce)Z[re]=ce[re];F(Z.mediaType,v.Z.MANIFEST_UPDATE,Z)}},addManifestUpdateStreamInfo:function(Z,ce,re,le,de){if(Z){var U=new Os;U.id=ce,U.index=re,U.start=le,U.duration=de,Z.streamInfo.push(U),F(Z.mediaType,v.Z.MANIFEST_UPDATE_STREAM_INFO,Z)}},addManifestUpdateRepresentationInfo:function(Z,ce,re,le,de,U,oe,Q){if(Z&&Z.representationInfo){var p=new Ms;p.id=ce,p.index=re,p.streamIndex=le,p.mediaType=de,p.startNumber=oe,p.fragmentInfoType=Q,p.presentationTimeOffset=U,Z.representationInfo.push(p),F(Z.mediaType,v.Z.MANIFEST_UPDATE_TRACK_INFO,Z)}},addPlayList:function(Z){Z.trace&&Array.isArray(Z.trace)?Z.trace.forEach(function(ce){ce.hasOwnProperty("subreplevel")&&!ce.subreplevel&&delete ce.subreplevel}):delete Z.trace,q(t.Z.STREAM,v.Z.PLAY_LIST,Z)},addDVBErrors:function(Z){q(t.Z.STREAM,v.Z.DVB_ERRORS,Z)}},c={},i}Xa.__dashjs_factory_name="MetricsModel";const xs=h.Z.getSingletonFactory(Xa);function Qa(o){o=o||{};var i,c,E,T,_=this.context,m=o.metricsModel;function C(K){var O=m.getMetricsFor(K,!0);if(!O)return null;var q,Z=O.HttpList,ce=null;if(!Z||Z.length<=0)return null;for(q=Z.length-1;q>=0;){if(Z[q].responsecode){ce=Z[q];break}q--}return ce}function F(K){var O=m.getMetricsFor(K,!0);return O&&O.HttpList?O.HttpList:[]}function j(K,O){if(!K)return null;var q=K[O];return q&&q.length!==0?q[q.length-1]:null}return i={getCurrentRepresentationSwitch:function(K){return j(m.getMetricsFor(K,!0),v.Z.TRACK_SWITCH)},getCurrentBufferState:function(K){return j(m.getMetricsFor(K,!0),v.Z.BUFFER_STATE)},getCurrentBufferLevel:function(K){var O=j(m.getMetricsFor(K,!0),v.Z.BUFFER_LEVEL);return O?bs.round10(O.level/1e3,-3):0},getCurrentHttpRequest:C,getHttpRequests:F,getCurrentDroppedFrames:function(){return j(m.getMetricsFor(t.Z.VIDEO,!0),v.Z.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(K){return j(m.getMetricsFor(K,!0),v.Z.SCHEDULING_INFO)},getCurrentDVRInfo:function(K){return j(K?m.getMetricsFor(K,!0):m.getMetricsFor(t.Z.VIDEO,!0)||m.getMetricsFor(t.Z.AUDIO,!0),v.Z.DVR_INFO)},getCurrentManifestUpdate:function(){return j(m.getMetricsFor(t.Z.STREAM),v.Z.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(K,O){if(!O)return null;var q={},Z=C(K);Z&&(q=Nt.Z.parseHttpHeaders(Z._responseHeaders));var ce=q[O.toLowerCase()];return ce===void 0?null:ce},getLatestMPDRequestHeaderValueByID:function(K){if(!K)return null;var O,q,Z,ce={};for(Z=(O=F(t.Z.STREAM)).length-1;Z>=0;Z--)if((q=O[Z]).type===Te.w.MPD_TYPE){ce=Nt.Z.parseHttpHeaders(q._responseHeaders);break}var re=ce[K.toLowerCase()];return re===void 0?null:re},addRepresentationSwitch:function(K,O,q,Z,ce){m.addRepresentationSwitch(K,O,q,Z,ce)},addDVRInfo:function(K,O,q,Z){m.addDVRInfo(K,O,q,Z)},updateManifestUpdateInfo:function(K){var O=this.getCurrentManifestUpdate();m.updateManifestUpdateInfo(O,K)},addManifestUpdateStreamInfo:function(K){if(K){var O=this.getCurrentManifestUpdate();m.addManifestUpdateStreamInfo(O,K.id,K.index,K.start,K.duration)}},addManifestUpdateRepresentationInfo:function(K,O){if(K){var q=this.getCurrentManifestUpdate();m.addManifestUpdateRepresentationInfo(q,K.id,K.index,K.streamIndex,O,K.presentationTimeOffset,K.startNumber,K.fragmentInfoType)}},addManifestUpdate:function(K){m.addManifestUpdate(t.Z.STREAM,K.type,K.requestStartDate,K.requestEndDate)},addHttpRequest:function(K,O,q,Z,ce,re){m.addHttpRequest(K.mediaType,null,K.type,K.url,K.quality,O,K.serviceLocation||null,K.range||null,K.requestStartDate,K.firstByteDate,K.requestEndDate,q,K.duration,Z,ce,K.fileLoaderType,re)},addSchedulingInfo:function(K,O){m.addSchedulingInfo(K.mediaType,new Date,K.type,K.startTime,K.availabilityStartTime,K.duration,K.quality,K.range,O)},addRequestsQueue:function(K,O,q){m.addRequestsQueue(K,O,q)},addBufferLevel:function(K,O,q){m.addBufferLevel(K,O,q)},addBufferState:function(K,O,q){m.addBufferState(K,O,q)},addDroppedFrames:function(K){m.addDroppedFrames(t.Z.VIDEO,K)},addPlayList:function(){T&&(m.addPlayList(T),T=null)},addDVBErrors:function(K){m.addDVBErrors(K)},createPlaylistMetrics:function(K,O){(T=new Qe).start=new Date,T.mstart=K,T.starttype=O},createPlaylistTraceMetrics:function(K,O,q){c===!0&&(c=!1,(E=new we).representationid=K,E.start=new Date,E.mstart=O,E.playbackspeed=q!==null?q.toString():null)},updatePlayListTraceMetrics:function(K){if(E)for(var O in E)E[O]=K[O]},pushPlayListTraceMetrics:function(K,O){if(c===!1&&T&&E&&E.start){var q=E.start,Z=K.getTime()-q.getTime();E.duration=Z,E.stopreason=O,T.trace.push(E),c=!0}},clearAllCurrentMetrics:function(){m.clearAllCurrentMetrics()}},m=m||xs(_).getInstance({settings:o.settings}),c=!0,E=null,T=null,i}Qa.__dashjs_factory_name="DashMetrics";const Fs=h.Z.getSingletonFactory(Qa);function $a(){var o,i,c,E,T=this.context,_=(0,g.Z)(T).getInstance(),m=(0,pt.Z)(T).getInstance();function C(de){E=de}function F(de,U,oe,Q){var p,R=U.adaptation.period.mpd,Y=R.availabilityStartTime;if(Q)p=oe&&R.timeShiftBufferDepth!==Number.POSITIVE_INFINITY?new Date(Y.getTime()+1e3*(de+R.timeShiftBufferDepth)):R.availabilityEndTime;else if(oe){var k=U.availabilityTimeOffset;p=new Date(Y.getTime()+1e3*(de-k))}else p=Y;return p}function j(de,U){return(de.getTime()-U.mpd.availabilityStartTime.getTime()+1e3*E)/1e3}function K(de,U){return de+(U.adaptation.period.start-U.presentationTimeOffset)}function O(de){var U={start:NaN,end:NaN},oe=de[0].getAdapter().getRegularPeriods()[0],Q=j(new Date,oe);if(!de||de.length===0)return{range:U,now:Q};de.forEach(function(R){var Y=R.getAdapter(),k=Y.getMediaInfoForType(R.getStreamInfo(),t.Z.VIDEO)||Y.getMediaInfoForType(R.getStreamInfo(),t.Z.AUDIO),D=Y.getVoRepresentations(k)[0],I={start:NaN,end:NaN};if(D)if(D.segmentInfoType===r.Z.SEGMENT_TIMELINE)I=function(W){var ne,H,X,ge,Ue=W.adaptation.period.mpd.manifest.Period_asArray[W.adaptation.period.index].AdaptationSet_asArray[W.adaptation.index],Oe=i.getRepresentationFor(W.index,Ue),at=Oe.SegmentTemplate.SegmentTimeline,Ae=Oe.SegmentTemplate.timescale,Ne=at.S_asArray,ht={start:0,end:0},et=0;for(ht.start=K(Ne[0].t/Ae,W),X=0,ge=Ne.length;X<ge;X++)H=0,(ne=Ne[X]).hasOwnProperty("r")&&(H=ne.r),et+=ne.d*(1+H);return ht.end=K((Ne[0].t+et)/Ae,W),ht}(D);else{var J=D.adaptation.period;I.start=J.start,I.end=Math.max(Q,J.start+J.duration)}!isNaN(I.start)&&(isNaN(U.start)||U.start>I.start)&&(U.start=I.start),!isNaN(I.end)&&(isNaN(U.end)||U.end<I.end)&&(U.end=I.end)}),U.end=Math.min(Q,U.end);var p=Z(de,U.end,!0);return U.end=isNaN(p)?U.end:p,U.start=oe&&oe.mpd&&oe.mpd.timeShiftBufferDepth&&!isNaN(oe.mpd.timeShiftBufferDepth)&&!isNaN(U.end)?Math.max(U.end-oe.mpd.timeShiftBufferDepth,U.start):U.start,U.start=Z(de,U.start),{range:U,now:Q}}function q(de,U){c=de-U.end}function Z(de,U){var oe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];try{for(var Q=0,p=!1,R=NaN;!p&&Q<de.length;){var Y=de[Q].getStreamInfo();Y.start<=U&&(!isFinite(Y.duration)||Y.start+Y.duration>=U)?(R=U,p=!0):!oe&&Y.start>U&&(isNaN(R)||Y.start<R)?R=Y.start:oe&&Y.start+Y.duration<U&&(isNaN(R)||Y.start+Y.duration>R)&&(R=Y.start+Y.duration),Q+=1}return R}catch{return U}}function ce(de){de.offset===void 0||isNaN(de.offset)||C(de.offset/1e3)}function re(){E=0,c=0}function le(){_.off(u.Z.UPDATE_TIME_SYNC_OFFSET,ce,this),re()}return o={initialize:function(){re(),_.on(u.Z.UPDATE_TIME_SYNC_OFFSET,ce,this)},getClientTimeOffset:function(){return E},setClientTimeOffset:C,getClientReferenceTime:function(){return Date.now()-1e3*c+1e3*E},calcAvailabilityStartTimeFromPresentationTime:function(de,U,oe){return F(de,U,oe)},calcAvailabilityEndTimeFromPresentationTime:function(de,U,oe){return F(de,U,oe,!0)},calcPresentationTimeFromWallTime:j,calcPresentationTimeFromMediaTime:K,calcPeriodRelativeTimeFromMpdRelativeTime:function(de,U){return U-de.adaptation.period.start},calcMediaTimeFromPresentationTime:function(de,U){return de-U.adaptation.period.start+U.presentationTimeOffset},calcWallTimeForSegment:function(de,U){var oe,Q,p;return U&&(oe=de.representation.adaptation.period.mpd.suggestedPresentationDelay,Q=de.presentationStartTime+oe,p=new Date(de.availabilityStartTime.getTime()+1e3*Q)),p},calcTimeShiftBufferWindow:function(de,U){if(!U)return function(Q){var p={start:NaN,end:NaN},R=0,Y=NaN;return Q.forEach(function(k){var D=k.getStreamInfo();R+=D.duration,(isNaN(Y)||D.start<Y)&&(Y=D.start)}),p.start=Y,p.end=Y+R,p}(de);if(m.get().streaming.timeShiftBuffer.calcFromSegmentTimeline){var oe=O(de);return q(oe.now,oe.range),oe.range}return function(Q){var p={start:NaN,end:NaN};if(!Q||Q.length===0)return p;var R=Q[0].getAdapter().getRegularPeriods()[0],Y=j(new Date,R),k=R.mpd.timeShiftBufferDepth,D=isNaN(k)?0:Y-k;if(p.start=Z(Q,D),p.end=!isNaN(p.start)&&Y<p.start?Y:Z(Q,Y,!0),!isNaN(k)&&p.end<Y-k&&(p.end=NaN),m.get().streaming.timeShiftBuffer.fallbackToSegmentTimeline){var I=O(Q);if(I.range.end<p.start)return _.trigger(e.Z.CONFORMANCE_VIOLATION,{level:ir.LEVELS.WARNING,event:ir.EVENTS.INVALID_DVR_WINDOW}),q(I.now,I.range),I.range}return p}(de)},reset:le},i=Bt(T).getInstance(),le(),o}$a.__dashjs_factory_name="TimelineConverter";const ks=h.Z.getSingletonFactory($a);var Vi=L(4593),di=L(6934);function Ki(o){return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Ki(o)}function zi(o,i){return zi=Object.setPrototypeOf||function(c,E){return c.__proto__=E,c},zi(o,i)}function Zs(o,i){return!i||Ki(i)!=="object"&&typeof i!="function"?function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o):i}function gi(o){return gi=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},gi(o)}const Us=function(o){(function(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),m&&zi(_,m)})(T,o);var i,c,E=(i=T,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var _,m=gi(i);if(c){var C=gi(this).constructor;_=Reflect.construct(m,arguments,C)}else _=m.apply(this,arguments);return Zs(this,_)});function T(){var _;return function(m,C){if(!(m instanceof C))throw new TypeError("Cannot call a class as a function")}(this,T),(_=E.call(this)).captionData=null,_.label=null,_.defaultTrack=!1,_.kind=null,_.isFragmented=!1,_.isEmbedded=!1,_.isTTML=null,_}return T}(qi);var Bs=L(2295);function Ja(){var o=0;function i(C){for(var F="",j=0;j<C.length;++j)F+=C[j].uchar;return F.length-F.replace(/^\s+/,"").length}function c(C){return"left: "+3.125*C.x+"%; top: "+6.66*C.y1+"%; width: "+(100-3.125*C.x)+"%; height: "+6.66*Math.max(C.y2-1-C.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function E(C){return C==="red"?"rgb(255, 0, 0)":C==="green"?"rgb(0, 255, 0)":C==="blue"?"rgb(0, 0, 255)":C==="cyan"?"rgb(0, 255, 255)":C==="magenta"?"rgb(255, 0, 255)":C==="yellow"?"rgb(255, 255, 0)":C==="white"?"rgb(255, 255, 255)":C==="black"?"rgb(0, 0, 0)":C}function T(C,F){var j=C.videoHeight/15;return F?"font-size: "+j+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(F.foreground?E(F.foreground):"rgb(255, 255, 255)")+"; font-style: "+(F.italics?"italic":"normal")+"; text-decoration: "+(F.underline?"underline":"none")+"; white-space: pre; background-color: "+(F.background?E(F.background):"transparent")+";":"font-size: "+j+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function _(C){return C.replace(/^\s+/g,"")}function m(C){return C.replace(/\s+$/g,"")}return{createHTMLCaptionsFromScreen:function(C,F,j,K){var O,q,Z=null,ce=!1,re=-1,le={start:F,end:j,spans:[]},de="style_cea608_white_black",U={},oe={},Q=[];for(O=0;O<15;++O){var p=K.rows[O],R="",Y=null;if(p.isEmpty()===!1){var k=i(p.chars);Z===null&&(Z={x:k,y1:O,y2:O+1,p:[]}),k!==re&&ce&&(Z.p.push(le),le={start:F,end:j,spans:[]},Z.y2=O,Z.name="region_"+Z.x+"_"+Z.y1+"_"+Z.y2,U.hasOwnProperty(Z.name)===!1?(Q.push(Z),U[Z.name]=Z):U[Z.name].p.contat(Z.p),Z={x:k,y1:O,y2:O+1,p:[]});for(var D=0;D<p.chars.length;++D){var I=p.chars[D],J=I.penState;if(Y===null||!J.equals(Y)){R.trim().length>0&&(le.spans.push({name:de,line:R,row:O}),R="");var W="style_cea608_"+J.foreground+"_"+J.background;J.underline&&(W+="_underline"),J.italics&&(W+="_italics"),oe.hasOwnProperty(W)||(oe[W]=JSON.parse(JSON.stringify(J))),Y=J,de=W}R+=I.uchar}R.trim().length>0&&le.spans.push({name:de,line:R,row:O}),ce=!0,re=k}else ce=!1,re=-1,Z&&(Z.p.push(le),le={start:F,end:j,spans:[]},Z.y2=O,Z.name="region_"+Z.x+"_"+Z.y1+"_"+Z.y2,U.hasOwnProperty(Z.name)===!1?(Q.push(Z),U[Z.name]=Z):U[Z.name].p.contat(Z.p),Z=null)}Z&&(Z.p.push(le),Z.y2=O+1,Z.name="region_"+Z.x+"_"+Z.y1+"_"+Z.y2,U.hasOwnProperty(Z.name)===!1?(Q.push(Z),U[Z.name]=Z):U[Z.name].p.contat(Z.p),Z=null);var ne=[];for(O=0;O<Q.length;++O){var H=Q[O],X="sub_cea608_"+o++,ge=document.createElement("div");ge.id=X;var Ue=c(H);ge.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+Ue;var Oe=document.createElement("div");Oe.className="paragraph bodyStyle",Oe.style.cssText=T(C);var at=document.createElement("div");at.className="cueUniWrapper",at.style.cssText="unicode-bidi: normal; direction: ltr;";for(var Ae=0;Ae<H.p.length;++Ae){var Ne=H.p[Ae],ht=0;for(q=0;q<Ne.spans.length;++q){var et=Ne.spans[q];if(et.line.length>0){if(q!==0&&ht!=et.row){var mt=document.createElement("br");mt.className="lineBreak",at.appendChild(mt)}var At=!1;ht===et.row&&(At=!0),ht=et.row;var Ce=oe[et.name],ee=document.createElement("span");ee.className="spanPadding "+et.name+" customSpanColor",ee.style.cssText=T(C,Ce),q!==0&&At?q===Ne.spans.length-1?ee.textContent=m(et.line):ee.textContent=et.line:Ne.spans.length>1&&q<Ne.spans.length-1&&et.row===Ne.spans[q+1].row?ee.textContent=_(et.line):ee.textContent=et.line.trim(),at.appendChild(ee)}}}Oe.appendChild(at),ge.appendChild(Oe);var ve={bodyStyle:["%",90]};for(var Ee in oe)oe.hasOwnProperty(Ee)&&(ve[Ee]=["%",90]);ne.push({type:"html",start:F,end:j,cueHTMLElement:ge,cueID:X,cellResolution:[32,15],isFromCEA608:!0,fontSize:ve,lineHeight:{},linePadding:{}})}return ne}}}Ja.__dashjs_factory_name="EmbeddedTextHtmlRender";const Gs=h.Z.getSingletonFactory(Ja);function eo(o){var i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re,le,de=o.errHandler,U=o.manifestModel,oe=o.mediaController,Q=o.videoModel,p=o.textTracks,R=o.vttParser,Y=o.vttCustomRenderingParser,k=o.ttmlParser,D=o.streamInfo,I=o.settings,J=this.context,W=(0,g.Z)(J).getInstance(),ne=!1;function H(){m=null,F=NaN,j=[],K=null,C=!1,_=[],T=null}function X(et){var mt=new Us;for(var At in et)mt[At]=et[At];mt.labels=et.labels,mt.defaultTrack=function(Ce){var ee=!1;return q.length>1&&Ce.isEmbedded?ee=Ce.id&&Ce.id===t.Z.CC1:q.length===1?Ce.id&&typeof Ce.id=="string"&&Ce.id.substring(0,2)==="CC"&&(ee=!0):q.length===0&&(ee=Ce.index===_[0].index),ee}(et),mt.isFragmented=et.isFragmented,mt.isEmbedded=!!et.isEmbedded,mt.isTTML=function(Ce){return Ce.codec&&Ce.codec.search(t.Z.STPP)>=0||Ce.mimeType&&Ce.mimeType.search(t.Z.TTML)>=0}(et),mt.kind=function(Ce,ee){var ve=Ce.roles&&Ce.roles.length>0?ee[Ce.roles[0]]:ee.caption;return ve=ve===ee.caption||ve===ee.subtitle?ve:ee.caption}(et,{subtitle:"subtitles",caption:"captions"}),p.addTextTrack(mt)}function ge(et){var mt=et.chunk;mt.mediaInfo.embeddedCaptions&&Oe(mt.bytes,mt)}function Ue(et){O=et}function Oe(et,mt){var At=mt.mediaInfo,Ce=At.type,ee=At.mimeType,ve=At.codec||ee;ve?At.codec.indexOf("application/mp4")!==-1?function(Ee,Ie,Je){var Ge;if(Ie.segmentType==="InitializationSegment")C=!0,F=E.getMediaTimescaleFromMoov(Ee);else{if(!C)return;(Ge=E.getSamplesInfo(Ee).sampleList).length>0&&(K=Ge[0].cts-Ie.start*F),Je.search(t.Z.STPP)>=0?function(je,Ot,Tt){var Ft,Gt;for(T=T!==null?T:Ne(Tt),Ft=0;Ft<Ot.length;Ft++){var kt=Ot[Ft],Yt=kt.cts,Qt=Ae(),an=Qt+Yt/F,en=an+kt.duration/F;i.buffered.add(an,en);var dn=new DataView(je,kt.offset,kt.subSizes[0]),ln=di.Utils.dataViewToString(dn,t.Z.UTF8),nn=[],cn=kt.offset+kt.subSizes[0];for(Gt=1;Gt<kt.subSizes.length;Gt++){var ct=new Uint8Array(je,cn,kt.subSizes[Gt]),ke=String.fromCharCode.apply(null,ct);nn.push(ke),cn+=kt.subSizes[Gt]}try{var nt=U.getValue().ttmlTimeIsRelative?Yt/F:0,vt=T.parse(ln,nt,Yt/F,(Yt+kt.duration)/F,nn);p.addCaptions(O,Qt,vt)}catch(Mt){m.removeExecutedRequestsBeforeTime(),this.remove(),c.error("TTML parser error: "+Mt.message)}}}(Ee,Ge,Je):function(je,Ot){var Tt,Ft,Gt,kt=[];for(Tt=0;Tt<Ot.length;Tt++){var Yt=Ot[Tt];Yt.cts-=K;var Qt=Ae()+Yt.cts/F,an=Qt+Yt.duration/F;i.buffered.add(Qt,an);var en=je.slice(Yt.offset,Yt.offset+Yt.size),dn=di.parseBuffer(en);for(Ft=0;Ft<dn.boxes.length;Ft++){var ln=dn.boxes[Ft];if(c.debug("VTT box1: "+ln.type),ln.type!=="vtte"&&ln.type==="vttc")for(c.debug("VTT vttc boxes.length = "+ln.boxes.length),Gt=0;Gt<ln.boxes.length;Gt++){var nn=ln.boxes[Gt];if(c.debug("VTT box2: "+nn.type),nn.type==="payl"){var cn=nn.cue_text;c.debug("VTT cue_text = "+cn);var ct=Yt.cts/F,ke=(Yt.cts+Yt.duration)/F;kt.push({start:ct,end:ke,data:cn,styles:{}}),c.debug("VTT "+ct+"-"+ke+" : "+cn)}}}}kt.length>0&&p.addCaptions(O,0,kt)}(Ee,Ge)}}(et,mt,ve):Ce===t.Z.VIDEO?function(Ee,Ie){var Je,Ge;if(Ie.segmentType===Te.w.INIT_SEGMENT_TYPE)Z===0&&(Z=E.getMediaTimescaleFromMoov(Ee));else if(Ie.segmentType===Te.w.MEDIA_SEGMENT_TYPE){if(Z===0)return void c.warn("CEA-608: No timescale for embeddedTextTrack yet");var je=(Ge=E.getSamplesInfo(Ee)).lastSequenceNumber;if(re[0]||re[1]||function(){for(var kt,Yt=0;Yt<q.length;Yt++){if((kt=p.getTrackIdxForId(q[Yt].id))===-1)return void c.warn("CEA-608: data before track is ready.");var Qt=at(kt);re[Yt]=new(S()).Cea608Parser(Yt+1,{newCue:Qt},null)}}(),Z){if(ce!==null&&je!==ce+Ge.numSequences)for(Je=0;Je<re.length;Je++)re[Je]&&re[Je].reset();for(var Ot=function(kt,Yt){if(Yt.length===0)return null;for(var Qt={splits:[],fields:[[],[]]},an=new DataView(kt),en=0;en<Yt.length;en++)for(var dn=Yt[en],ln=S().findCea608Nalus(an,dn.offset,dn.size),nn=null,cn=0,ct=0;ct<ln.length;ct++)for(var ke=S().extractCea608DataFromRange(an,ln[ct]),nt=0;nt<2;nt++)if(ke[nt].length>0){dn.cts!==nn?cn=0:cn+=1;var vt=Ae();Qt.fields[nt].push([dn.cts+vt*Z,ke[nt],cn]),nn=dn.cts}return Qt.fields.forEach(function(Mt){Mt.sort(function(Be,st){return Be[0]===st[0]?Be[2]-st[2]:Be[0]-st[0]})}),Qt}(Ee,Ge.sampleList),Tt=0;Tt<re.length;Tt++){var Ft=Ot.fields[Tt],Gt=re[Tt];if(Gt)for(Je=0;Je<Ft.length;Je++)Gt.addData(Ft[Je][0]/Z,Ft[Je][1])}ce=je}}}(et,mt):function(Ee,Ie,Je){var Ge,je,Ot=new DataView(Ee,0,Ee.byteLength);je=di.Utils.dataViewToString(Ot,t.Z.UTF8);try{Ge=Ne(Je).parse(je,0),p.addCaptions(p.getCurrentTrackIdx(),0,Ge),i.buffered&&i.buffered.add(Ie.start,Ie.end)}catch(Tt){de.error(new V.Z(ae.TIMED_TEXT_ERROR_ID_PARSE_CODE,ae.TIMED_TEXT_ERROR_MESSAGE_PARSE+Tt.message,je))}}(et,mt,ve):c.error("No text type defined")}function at(et){return function(mt,At,Ce){var ee;(ee=Q.getTTMLRenderingDiv()?le.createHTMLCaptionsFromScreen(Q.getElement(),mt,At,Ce):[{start:mt,end:At,data:Ce.getDisplayText(),styles:{}}])&&p.addCaptions(et,0,ee)}}function Ae(){return isNaN(i.timestampOffset)?0:i.timestampOffset}function Ne(et){var mt;return et.search(t.Z.VTT)>=0?mt=I.get().streaming.text.webvtt.customRenderingEnabled&&Y?Y:R:(et.search(t.Z.TTML)>=0||et.search(t.Z.STPP)>=0)&&(mt=k),mt}function ht(et){q.forEach(function(mt){var At=p.getTrackIdxForId(mt.id);At>=0&&p.deleteCuesFromTrackIdx(At,et.from,et.to)})}return i={initialize:function(){ne||(q=[],O=null,Z=0,re=[],ce=null,ne=!0,le=Gs(J).getInstance(),W.on(u.Z.VIDEO_CHUNK_RECEIVED,ge,i),W.on(u.Z.BUFFER_CLEARED,ht,i))},addMediaInfos:function(et,mt,At){if(_=_.concat(mt),et===t.Z.TEXT&&mt[0].isFragmented&&!mt[0].isEmbedded){m=At,i.buffered=(0,Bs.Z)(J).create(),j=oe.getTracksFor(t.Z.TEXT,D.id).filter(function(Ee){return Ee.isFragmented});for(var Ce=oe.getCurrentTrackFor(t.Z.TEXT,D.id),ee=0;ee<j.length;ee++)if(j[ee]===Ce){Ue(ee);break}}for(var ve=0;ve<mt.length;ve++)X(mt[ve])},resetMediaInfos:function(){_=[]},getStreamId:function(){return D.id},append:Oe,abort:function(){},addEmbeddedTrack:function(et){if(ne&&et)if(et.id===t.Z.CC1||et.id===t.Z.CC3){for(var mt=0;mt<q.length;mt++)if(q[mt].id===et.id)return;q.push(et)}else c.warn("Embedded track "+et.id+" not supported!")},resetEmbedded:function(){W.off(u.Z.VIDEO_CHUNK_RECEIVED,ge,i),W.off(u.Z.BUFFER_CLEARED,ht,i),p&&p.deleteAllTextTracks(),ne=!1,q=[],re=[null,null],ce=null},getConfig:function(){return{fragmentModel:m,fragmentedTracks:j,videoModel:Q}},setCurrentFragmentedTrackIdx:Ue,remove:function(et,mt){et===void 0&&et===mt&&(et=i.buffered.start(0),mt=i.buffered.end(i.buffered.length-1)),i.buffered.remove(et,mt),p.deleteCuesFromTrackIdx(O,et,mt)},reset:function(){H(),_=[],E=null}},c=(0,w.Z)(J).getInstance().getLogger(i),E=(0,He.Z)(J).getInstance(),H(),i}eo.__dashjs_factory_name="TextSourceBuffer";const js=h.Z.getClassFactory(eo);var Wi=L(4403);function to(o,i){(i==null||i>o.length)&&(i=o.length);for(var c=0,E=new Array(i);c<i;c++)E[c]=o[c];return E}var Ys=["text","images","embeddedImages","align","fontSize","id","isd","line","lineAlign","lineHeight","linePadding","position","positionAlign","region","size","snapToLines","vertical"];function no(o){var i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re,le,de,U,oe=this.context,Q=(0,g.Z)(oe).getInstance(),p=o.videoModel,R=o.streamInfo,Y=o.settings;function k(Ce,ee,ve,Ee,Ie,Je){var Ge=0,je=0;Ce/ee>ve/Ee?Ge=(je=ee)/Ee*ve:je=(Ge=Ce)/ve*Ee;var Ot,Tt,Ft=0,Gt=0;return Ge/je>Ie?(Gt=je,Ft=je*Ie):(Ft=Ge,Gt=Ge/Ie),Ot=(Ce-Ft)/2,Tt=(ee-Gt)/2,Je?{x:Ot+.1*Ft,y:Tt+.1*Gt,w:.8*Ft,h:.8*Gt}:{x:Ot,y:Tt,w:Ft,h:Gt}}function D(Ce,ee){var ve=p.getClientWidth(),Ee=p.getClientHeight(),Ie=p.getVideoWidth(),Je=p.getVideoHeight(),Ge=p.getVideoRelativeOffsetTop(),je=p.getVideoRelativeOffsetLeft();if(Ie!==0&&Je!==0){var Ot=Ie/Je,Tt=!1;Ce.isFromCEA608&&(Ot=1.1666666666666667,Tt=!0);var Ft=k.call(this,ve,Ee,Ie,Je,Ot,Tt),Gt=Ft.w,kt=Ft.h,Yt=Ft.x,Qt=Ft.y;if(Gt!=j||kt!=K||Yt!=C||Qt!=F||ee){if(C=Yt+je,F=Qt+Ge,j=Gt,K=kt,O){var an=O.style;an&&(an.left=C+"px",an.top=F+"px",an.width=j+"px",an.height=K+"px",an.zIndex=ce&&document[ce]||re?de:null,Q.trigger(e.Z.CAPTION_CONTAINER_RESIZE))}var en=Ce.activeCues;if(en)for(var dn=en.length,ln=0;ln<dn;++ln){var nn=en[ln];nn.scaleCue(nn)}}}}function I(Ce){var ee,ve,Ee,Ie,Je,Ge=j,je=K;if(Ce.cellResolution){var Ot=[Ge/Ce.cellResolution[0],je/Ce.cellResolution[1]];if(Ce.linePadding){for(ee in Ce.linePadding)if(Ce.linePadding.hasOwnProperty(ee)){ve=(Ce.linePadding[ee]*Ot[0]).toString();for(var Tt=document.getElementsByClassName("spanPadding"),Ft=0;Ft<Tt.length;Ft++)Tt[Ft].style.cssText=Tt[Ft].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ve),Tt[Ft].style.cssText=Tt[Ft].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ve)}}if(Ce.fontSize){for(ee in Ce.fontSize)if(Ce.fontSize.hasOwnProperty(ee)){Ce.fontSize[ee][0]==="%"?Ee=Ce.fontSize[ee][1]/100:Ce.fontSize[ee][0]==="c"&&(Ee=Ce.fontSize[ee][1]),ve=(Ee*Ot[1]).toString(),Je=ee!=="defaultFontSize"?document.getElementsByClassName(ee):document.getElementsByClassName("paragraph");for(var Gt=0;Gt<Je.length;Gt++)Je[Gt].style.cssText=Je[Gt].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ve)}if(Ce.lineHeight){for(ee in Ce.lineHeight)if(Ce.lineHeight.hasOwnProperty(ee)){Ce.lineHeight[ee][0]==="%"?Ie=Ce.lineHeight[ee][1]/100:Ce.fontSize[ee][0]==="c"&&(Ie=Ce.lineHeight[ee][1]),ve=(Ie*Ot[1]).toString(),Je=document.getElementsByClassName(ee);for(var kt=0;kt<Je.length;kt++)Je[kt].style.cssText=Je[kt].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+ve)}}}}if(Ce.isd){var Yt=document.getElementById(Ce.cueID);Yt&&O.removeChild(Yt),J(Ce)}}function J(Ce){if(O){var ee=document.createElement("div");O.appendChild(ee),le=(0,Wi.renderHTML)(Ce.isd,ee,function(ve){var Ee=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,Ie=/^#(.*)$/;if(Ee.test(ve)){var Je=Ee.exec(ve),Ge=parseInt(Je[4],10)-1;return"data:image/png;base64,"+btoa(Ce.images[Ge])}if(Ie.test(ve)){var je=Ie.exec(ve)[1];return"data:image/png;base64,"+Ce.embeddedImages[je]}return null},O.clientHeight,O.clientWidth,!1,function(ve){c.info("renderCaption :",ve)},le,!0),ee.id=Ce.cueID,Q.trigger(e.Z.CAPTION_RENDERED,{captionDiv:ee,currentTrackIdx:m})}}function W(Ce,ee){if(!Y.get().streaming.text.extendSegmentedCues||!ee.cues||ee.cues.length===0)return!1;var ve=ee.cues[ee.cues.length-1];return ve.endTime===Ce.startTime&&!!function(Ee,Ie,Je){for(var Ge=0;Ge<Je.length;Ge++){var je=Je[Ge];if(JSON.stringify(Ee[je])!==JSON.stringify(Ie[je]))return!1}return!0}(ve,Ce,Ys)&&(ve.endTime=Ce.endTime,!0)}function ne(Ce,ee,ve){var Ee=Ue(Ce);if(Ee&&Array.isArray(ve)&&ve.length!==0)for(var Ie=0;Ie<ve.length;Ie++){var Je=void 0,Ge=ve[Ie];Ee.cellResolution=Ge.cellResolution,Ee.isFromCEA608=Ge.isFromCEA608,isNaN(Ge.start)||isNaN(Ge.end)||(Je=Ge.type==="html"&&O?H(Ge,ee,Ee):Ge.data?X(Ge,ee,Ee):null);try{Je?Ae(Ee,Je)||(Y.get().streaming.text.webvtt.customRenderingEnabled?(Ee.manualCueList||(Ee.manualCueList=[]),Ee.manualCueList.push(Je)):W(Je,Ee)||Ee.addCue(Je)):c.error("Impossible to display subtitles. You might have missed setting a TTML rendering div via player.attachTTMLRenderingDiv(TTMLRenderingDiv)")}catch(je){throw ht(Ee),Ee.addCue(Je),je}}}function H(Ce,ee,ve){var Ee=this,Ie=new E(Ce.start+ee,Ce.end+ee,"");return Ie.cueHTMLElement=Ce.cueHTMLElement,Ie.isd=Ce.isd,Ie.images=Ce.images,Ie.embeddedImages=Ce.embeddedImages,Ie.cueID=Ce.cueID,Ie.scaleCue=I.bind(Ee),Ie.cellResolution=Ce.cellResolution,Ie.lineHeight=Ce.lineHeight,Ie.linePadding=Ce.linePadding,Ie.fontSize=Ce.fontSize,O.style.left=C+"px",O.style.top=F+"px",O.style.width=j+"px",O.style.height=K+"px",Ie.onenter=function(){ve.mode===t.Z.TEXT_SHOWING&&(this.isd?(J(this),c.debug("Cue enter id:"+this.cueID)):(O.appendChild(this.cueHTMLElement),I.call(Ee,this),Q.trigger(e.Z.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:m})))},Ie.onexit=function(){if(O)for(var Je=O.childNodes,Ge=0;Ge<Je.length;++Ge)Je[Ge].id===this.cueID&&(c.debug("Cue exit id:"+Je[Ge].id),O.removeChild(Je[Ge]),--Ge)},Ie}function X(Ce,ee,ve){var Ee=new E(Ce.start-ee,Ce.end-ee,Ce.data);if(Ee.cueID="".concat(Ee.startTime,"_").concat(Ee.endTime),Ee.isActive=!1,Ce.styles)try{Ce.styles.align!==void 0&&"align"in Ee&&(Ee.align=Ce.styles.align),Ce.styles.line!==void 0&&"line"in Ee&&(Ee.line=Ce.styles.line),Ce.styles.position!==void 0&&"position"in Ee&&(Ee.position=Ce.styles.position),Ce.styles.size!==void 0&&"size"in Ee&&(Ee.size=Ce.styles.size)}catch(Ie){c.error(Ie)}return Ee.onenter=function(){ve.mode===t.Z.TEXT_SHOWING&&Q.trigger(e.Z.CAPTION_RENDERED,{currentTrackIdx:m})},Ee}function ge(){var Ce,ee=[],ve=function(Ie,Je){var Ge;if(typeof Symbol>"u"||Ie[Symbol.iterator]==null){if(Array.isArray(Ie)||(Ge=function(kt,Yt){if(kt){if(typeof kt=="string")return to(kt,Yt);var Qt=Object.prototype.toString.call(kt).slice(8,-1);return Qt==="Object"&&kt.constructor&&(Qt=kt.constructor.name),Qt==="Map"||Qt==="Set"?Array.from(kt):Qt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qt)?to(kt,Yt):void 0}}(Ie))||Je&&Ie&&typeof Ie.length=="number"){Ge&&(Ie=Ge);var je=0,Ot=function(){};return{s:Ot,n:function(){return je>=Ie.length?{done:!0}:{done:!1,value:Ie[je++]}},e:function(kt){throw kt},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Tt,Ft=!0,Gt=!1;return{s:function(){Ge=Ie[Symbol.iterator]()},n:function(){var kt=Ge.next();return Ft=kt.done,kt},e:function(kt){Gt=!0,Tt=kt},f:function(){try{Ft||Ge.return==null||Ge.return()}finally{if(Gt)throw Tt}}}}(p.getTextTracks());try{for(ve.s();!(Ce=ve.n()).done;){var Ee=Ce.value;Ee.manualMode===t.Z.TEXT_SHOWING&&ee.push(Ee)}}catch(Ie){ve.e(Ie)}finally{ve.f()}return ee}function Ue(Ce){return Ce>=0&&T[Ce]?p.getTextTrack(T[Ce].kind,T[Ce].id,T[Ce].lang,T[Ce].isTTML,T[Ce].isEmbedded):null}function Oe(Ce){var ee=this;if(Ce!==m){var ve=Ue(m=Ce);at.call(this,ve),Z&&(clearInterval(Z),Z=null),ve&&ve.renderingType==="html"&&(D.call(this,ve,!0),window.ResizeObserver?(U=new window.ResizeObserver(function(){D.call(ee,ve,!0)})).observe(p.getElement()):Z=setInterval(D.bind(this,ve),500))}}function at(Ce){At.call(this),Ce&&Ce.renderingType==="html"?et.call(this):mt.call(this)}function Ae(Ce,ee){if(!Ce.cues)return!1;for(var ve=0;ve<Ce.cues.length;ve++)if(Ce.cues[ve].startTime===ee.startTime&&Ce.cues[ve].endTime===ee.endTime)return!0;return!1}function Ne(Ce,ee,ve){var Ee=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return(isNaN(ee)||(Ee?Ce.startTime:Ce.endTime)>=ee)&&(isNaN(ve)||(Ee?Ce.endTime:Ce.startTime)<=ve)}function ht(Ce,ee,ve){var Ee=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(Ce.cues)for(var Ie=Ce.cues,Je=Ie.length-1,Ge=Je;Ge>=0;Ge--)Ne(Ie[Ge],ee,ve,Ee)&&(Ie[Ge].onexit&&Ie[Ge].onexit(),Ce.removeCue(Ie[Ge]))}function et(){var Ce=document.getElementById("native-cue-style");if(!Ce){(Ce=document.createElement("style")).id="native-cue-style",document.head.appendChild(Ce);var ee=Ce.sheet,ve=p.getElement();try{ve&&(ve.id?ee.insertRule("#"+ve.id+"::cue {background: transparent}",0):ve.classList.length!==0?ee.insertRule("."+ve.className+"::cue {background: transparent}",0):ee.insertRule("video::cue {background: transparent}",0))}catch(Ee){c.info(""+Ee.message)}}}function mt(){var Ce=document.getElementById("native-cue-style");Ce&&document.head.removeChild(Ce)}function At(){if(O)for(;O.firstChild;)O.removeChild(O.firstChild)}return i={initialize:function(){typeof window<"u"&&typeof navigator<"u"&&(E=window.VTTCue||window.TextTrackCue,T=[],_=[],m=-1,C=0,F=0,j=0,K=0,O=null,q=null,Z=null,re=!1,de=2147483647,le=null,document.fullscreenElement!==void 0?ce="fullscreenElement":document.webkitIsFullScreen!==void 0?ce="webkitIsFullScreen":document.msFullscreenElement?ce="msFullscreenElement":document.mozFullScreen&&(ce="mozFullScreen"))},getStreamId:function(){return R.id},addTextTrack:function(Ce){T.push(Ce)},addCaptions:ne,createTracks:function(){T.sort(function(kt,Yt){return kt.index-Yt.index}),O=p.getTTMLRenderingDiv(),q=p.getVttRenderingDiv();for(var Ce,ee,ve,Ee,Ie,Je,Ge=-1,je=0;je<T.length;je++){var Ot=(ee=(Ce=T[je]).kind,ve=Ce.id!==void 0?Ce.id:Ce.lang,Ee=Ce.lang,Ie=Ce.isTTML,Je=Ce.isEmbedded,p.addTextTrack(ee,ve,Ee,Ie,Je));_.push(Ot),T[je].defaultTrack&&(Ot.default=!0,Ge=je);var Tt=Ue(je);Tt&&(Tt.mode=t.Z.TEXT_SHOWING,O&&(T[je].isTTML||T[je].isEmbedded)?Tt.renderingType="html":Tt.renderingType="default"),ne(je,0,T[je].captionData),Q.trigger(e.Z.TEXT_TRACK_ADDED)}if(Oe.call(this,Ge),Ge>=0){Q.on(e.Z.PLAYBACK_METADATA_LOADED,function kt(){var Yt=Ue(Ge);Yt&&Yt.renderingType==="html"&&D.call(this,Yt,!0),Q.off(e.Z.PLAYBACK_METADATA_LOADED,kt,this)},this);for(var Ft=0;Ft<T.length;Ft++){var Gt=Ue(Ft);Gt&&(Gt.mode=Ft===Ge?t.Z.TEXT_SHOWING:t.Z.TEXT_HIDDEN,Gt.manualMode=Ft===Ge?t.Z.TEXT_SHOWING:t.Z.TEXT_HIDDEN)}}Q.trigger(u.Z.TEXT_TRACKS_QUEUE_INITIALIZED,{index:m,tracks:T,streamId:R.id})},getCurrentTrackIdx:function(){return m},setCurrentTrackIdx:Oe,getTrackIdxForId:function(Ce){for(var ee=-1,ve=0;ve<T.length;ve++)if(T[ve].id===Ce){ee=ve;break}return ee},getCurrentTrackInfo:function(){return T[m]},setModeForTrackIdx:function(Ce,ee){var ve=Ue(Ce);ve&&ve.mode!==ee&&(ve.mode=ee),ve&&ve.manualMode!==ee&&(ve.manualMode=ee)},deleteCuesFromTrackIdx:function(Ce,ee,ve){var Ee=Ue(Ce);Ee&&ht(Ee,ee,ve)},deleteAllTextTracks:function(){for(var Ce=_?_.length:0,ee=0;ee<Ce;ee++){var ve=Ue(ee);ve&&ht.call(this,ve,R.start,R.start+R.duration,!1)}_=[],T=[],Z&&(clearInterval(Z),Z=null),U&&p&&(U.unobserve(p.getElement()),U=null),m=-1,At.call(this)},deleteTextTrack:function(Ce){p.removeChild(_[Ce]),_.splice(Ce,1)},manualCueProcessing:function(Ce){var ee=ge();if(ee&&ee.length>0){var ve=ee[0].manualCueList;ve&&ve.length>0&&ve.forEach(function(Ee){if(Ee.startTime<=Ce&&Ee.endTime>=Ce&&!Ee.isActive)Ee.isActive=!0,WebVTT.processCues(window,[Ee],q,Ee.cueID);else if(Ee.isActive&&(Ee.startTime>Ce||Ee.endTime<Ce)&&(Ee.isActive=!1,q))for(var Ie=q.childNodes,Je=0;Je<Ie.length;++Je)Ie[Je].id===Ee.cueID&&(q.removeChild(Ie[Je]),--Je)})}},disableManualTracks:function(){var Ce=ge();if(Ce&&Ce.length>0){var ee=Ce[0].manualCueList;ee&&ee.length>0&&ee.forEach(function(ve){if(ve.isActive&&(ve.isActive=!1,q))for(var Ee=q.childNodes,Ie=0;Ie<Ee.length;++Ie)Ee[Ie].id===ve.cueID&&(q.removeChild(Ee[Ie]),--Ie)})}}},c=(0,w.Z)(oe).getInstance().getLogger(i),i}no.__dashjs_factory_name="TextTracks";const qs=h.Z.getClassFactory(no);function ro(){var o,i,c,E,T,_,m=this.context;function C(O){var q=O.split(":"),Z=q.length-1;return O=60*parseInt(q[Z-1],10)+parseFloat(q[Z]),Z===2&&(O+=3600*parseInt(q[0],10)),O}function F(O){var q=O.split(E),Z=q[1].split(_);return Z.shift(),q[1]=Z[0],Z.shift(),{cuePoints:q,styles:j(Z)}}function j(O){var q={};return O.forEach(function(Z){if(Z.split(/:/).length>1){var ce=Z.split(/:/)[1];ce&&ce.search(/%/)!=-1&&(ce=parseInt(ce.replace(/%/,""),10)),(Z.match(/align/)||Z.match(/A/))&&(q.align=ce),(Z.match(/line/)||Z.match(/L/))&&(q.line=ce),(Z.match(/position/)||Z.match(/P/))&&(q.position=ce),(Z.match(/size/)||Z.match(/S/))&&(q.size=ce)}}),q}function K(O,q){for(var Z,ce=q,re="",le="";O[ce]!==""&&ce<O.length;)ce++;if((Z=ce-q)>1)for(var de=0;de<Z;de++){if((le=O[q+de]).match(E)){re="";break}re+=le,de!==Z-1&&(re+=`
`)}else(le=O[q]).match(E)||(re=le);return re}return o={parse:function(O){var q,Z,ce=[];if(!O)return ce;q=(O=O.split(c)).length,Z=-1;for(var re=0;re<q;re++){var le=O[re];if(le.length>0&&le!=="WEBVTT"&&le.match(E)){var de=F(le),U=de.cuePoints,oe=de.styles,Q=K(O,re+1),p=C(U[0].replace(T,"")),R=C(U[1].replace(T,""));!isNaN(p)&&!isNaN(R)&&p>=Z&&R>p?Q!==""?(Z=p,ce.push({start:p,end:R,data:Q,styles:oe})):i.error("Skipping cue due to empty/malformed cue text"):i.error("Skipping cue due to incorrect cue timing")}}return ce}},i=(0,w.Z)(m).getInstance().getLogger(o),c=/(?:\r\n|\r|\n)/gm,E=/-->/,T=/(^[\s]+|[\s]+$)/g,_=/\s\b/g,o}ro.__dashjs_factory_name="VTTParser";const Hs=h.Z.getSingletonFactory(ro);function io(){var o,i;return o={parse:function(c){var E=[];return i.oncue=function(T){T.start=T.startTime,T.end=T.endTime,T.data=T.text,T.styles={align:T.align,line:T.line,position:T.position,size:T.size},E.push(T)},i.parse(c),E}},function(){try{window&&window.WebVTT&&window.WebVTT.Parser&&(i=new window.WebVTT.Parser(window,window.vttjs,window.WebVTT.StringDecoder()))}catch{}}(),o}io.__dashjs_factory_name="VttCustomRenderingParser";const Vs=h.Z.getSingletonFactory(io);function ao(){var o,i,c=this.context,E=(0,g.Z)(c).getInstance(),T=0;return o={parse:function(_,m,C,F,j){var K,O,q,Z="",ce=[],re={},le={},de="",U="",oe={onOpenTag:function(k,D,I){if(I[" imagetype"]&&!I[" imageType"]&&(E.trigger(e.Z.CONFORMANCE_VIOLATION,{level:ir.LEVELS.ERROR,event:ir.EVENTS.NON_COMPLIANT_SMPTE_IMAGE_ATTRIBUTE}),I[" imageType"]=I[" imagetype"]),D==="image"&&(k==="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"||k==="http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt")){if(!I[" imageType"]||I[" imageType"].value!=="PNG")return void i.warn("smpte-tt imageType != PNG. Discarded");de=I["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){de&&(le[de]=U.trim()),U="",de=""},onText:function(k){de&&(U+=k)}};if(!_)throw Z="no ttml data to parse",new Error(Z);re.data=_,E.trigger(u.Z.TTML_TO_PARSE,re);var Q=(0,Wi.fromXML)(re.data,function(k){Z=k},oe);E.trigger(u.Z.TTML_PARSED,{ttmlString:re.data,ttmlDoc:Q});var p,R=Q.getMediaTimeEvents();for(q=0;q<R.length;q++){var Y=(0,Wi.generateISD)(Q,R[q],function(k){Z=k});Y.contents.some(function(k){return k.contents.length})&&(K=R[q]+m<C?C:R[q]+m)<(O=R[q+1]+m>F?F:R[q+1]+m)&&ce.push({start:K,end:O,type:"html",cueID:(p="cue_TTML_"+T,T++,p),isd:Y,images:j,embeddedImages:le})}if(Z!=="")throw i.error(Z),new Error(Z);return ce}},i=(0,w.Z)(c).getInstance().getLogger(o),o}ao.__dashjs_factory_name="TTMLParser";const Ks=h.Z.getSingletonFactory(ao);function oo(o){var i,c,E,T,_,m,C,F,j,K,O,q,Z=this.context,ce=o.adapter,re=o.errHandler,le=o.manifestModel,de=o.mediaController,U=o.videoModel,oe=o.settings;function Q(J){var W=J.tracks,ne=J.index,H=J.streamId;if(oe.get().streaming.text.defaultEnabled===!1&&!Y()||q)k(H,-1);else{var X=de.getCurrentTrackFor(t.Z.TEXT,H);if(X){var ge={lang:X.lang,role:X.roles[0],index:X.index,codec:X.codec,accessibility:X.accessibility[0]};W.some(function(Ue,Oe){if(de.matchSettings(ge,Ue))return k(H,Oe),ne=Oe,!0})}j=!1}c[H].lastEnabledIndex=ne,F.trigger(e.Z.TEXT_TRACKS_ADDED,{enabled:Y(),index:ne,tracks:W,streamId:H}),O=!0}function p(J){try{var W=J.streamId;if(!T[W]||isNaN(J.time))return;T[W].manualCueProcessing(J.time)}catch{}}function R(J){try{var W=J.streamId;if(!T[W])return;T[W].disableManualTracks()}catch{}}function Y(){var J=!0;return j&&!K&&(J=!1),J}function k(J,W){(j=W===-1)&&de&&de.saveTextSettingsDisabled();var ne=D(J);if(ne!==W&&T[J]){T[J].disableManualTracks(),T[J].setModeForTrackIdx(ne,t.Z.TEXT_HIDDEN),T[J].setCurrentTrackIdx(W),T[J].setModeForTrackIdx(W,t.Z.TEXT_SHOWING);var H=T[J].getCurrentTrackInfo();H&&H.isFragmented&&!H.isEmbedded?function(X,ge,Ue){if(E[X])for(var Oe=E[X].getConfig().fragmentedTracks,at=0;at<Oe.length;at++){var Ae=Oe[at];if(ge.lang===Ae.lang&&(Ae.id?ge.id===Ae.id:ge.index===Ae.index)){var Ne=de.getCurrentTrackFor(t.Z.TEXT,X);(Ae.id?Ne.id!==Ae.id:Ne.index!==Ae.index)?(T[X].deleteCuesFromTrackIdx(Ue),E[X].setCurrentFragmentedTrackIdx(at)):Ue===-1&&F.trigger(u.Z.SET_FRAGMENTED_TEXT_AFTER_DISABLED,{},{streamId:X,mediaType:t.Z.TEXT})}}}(J,H,ne):H&&!H.isFragmented&&function(X,ge){F.trigger(u.Z.SET_NON_FRAGMENTED_TEXT,{currentTrackInfo:ge},{streamId:X,mediaType:t.Z.TEXT})}(J,H),de.setTrack(H)}}function D(J){return T[J].getCurrentTrackIdx()}function I(){E={},T={},c={},j=!0,O=!1,q=!1}return i={deactivateStream:function(J){if(J){var W=J.id;E[W]&&E[W].resetMediaInfos(),T[W]&&T[W].deleteAllTextTracks()}},initialize:function(){F.on(u.Z.TEXT_TRACKS_QUEUE_INITIALIZED,Q,i),oe.get().streaming.text.webvtt.customRenderingEnabled&&(F.on(u.Z.PLAYBACK_TIME_UPDATED,p,i),F.on(u.Z.PLAYBACK_SEEKING,R,i))},initializeForStream:function(J){var W=J.id,ne=qs(Z).create({videoModel:U,settings:oe,streamInfo:J});ne.initialize(),T[W]=ne;var H=js(Z).create({errHandler:re,adapter:ce,manifestModel:le,mediaController:de,videoModel:U,textTracks:ne,vttParser:_,vttCustomRenderingParser:m,ttmlParser:C,streamInfo:J,settings:oe});H.initialize(),E[W]=H,c[W]={},c[W].lastEnabledIndex=-1},createTracks:function(J){var W=J.id;T[W]&&T[W].createTracks()},getTextSourceBuffer:function(J){var W=J.id;if(E&&E[W])return E[W]},getAllTracksAreDisabled:function(){return j},addEmbeddedTrack:function(J,W){var ne=J.id;E[ne]&&E[ne].addEmbeddedTrack(W)},enableText:function(J,W){(0,ie.PS)(W,"boolean"),Y()!==W&&(W&&k(J,c[J].lastEnabledIndex),W||(c[J].lastEnabledIndex=D(J),O?k(J,-1):q=!0))},isTextEnabled:Y,setTextTrack:k,getCurrentTrackIdx:D,enableForcedTextStreaming:function(J){(0,ie.PS)(J,"boolean"),K=J},addMediaInfosToBuffer:function(J,W,ne){var H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,X=J.id;E[X]&&E[X].addMediaInfos(W,ne,H)},reset:function(){I(),F.off(u.Z.TEXT_TRACKS_QUEUE_INITIALIZED,Q,i),oe.get().streaming.text.webvtt.customRenderingEnabled&&(F.off(u.Z.PLAYBACK_TIME_UPDATED,p,i),F.off(u.Z.PLAYBACK_SEEKING,R,i)),Object.keys(E).forEach(function(J){E[J].resetEmbedded(),E[J].reset()})}},K=!1,O=!1,q=!1,_=Hs(Z).getInstance(),m=Vs(Z).getInstance(),C=Ks(Z).getInstance(),F=(0,g.Z)(Z).getInstance(),I(),i}oo.__dashjs_factory_name="TextController";const zs=h.Z.getClassFactory(oo);function Xi(){var o,i,c,E,T,_,m,C,F,j,K,O,q,Z,ce,re,le,de,U,oe,Q,p,R,Y,k,D,I,J,W,ne,H,X,ge,Ue,Oe,at,Ae,Ne,ht="You must first call initialize() and set a source before calling this method",et="You must first call initialize() and set a valid source and view before calling this method",mt="You must first call attachView() to set the video element before calling this method",At="You must first call attachSource() with a valid source before calling this method",Ce="MediaPlayer not initialized!",ee=this.context,ve=(0,g.Z)(ee).getInstance(),Ee=(0,pt.Z)(ee).getInstance(),Ie=(0,w.Z)(ee).getInstance({settings:Ee});function Je(){nn(null),dn(null),E=null,q&&(q.reset(),q=null),Z&&(Z.reset(),Z=null),U&&U.reset(),Ee.reset(),re&&(re.reset(),re=null)}function Ge(){return!!c&&!!Oe.getElement()}function je(){return(0,fs.e)()}function Ot(){if(!m)throw et;return I.isPaused()}function Tt(){if(!m)throw et;return I.getIsDynamic()}function Ft($){var De=Y&&Y.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,ot=H.getCurrentDVRInfo(De);if(!ot)return 0;var _t=I.getOriginalLiveDelay(),Lt=ot.range.start+$;return Lt>ot.range.end-_t&&(Lt=ot.range.end-_t),Lt}function Gt($){if(!m)throw et;var De=en().currentTime;if($!==void 0)De=Y.getTimeRelativeToStreamId(De,$);else if(I.getIsDynamic()){var ot=Y&&Y.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,_t=H.getCurrentDVRInfo(ot);De=_t===null||De===0?0:Math.max(0,De-_t.range.start)}return De}function kt(){if(!m)throw et;var $=en().duration;if(I.getIsDynamic()){var De=Y&&Y.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,ot=H.getCurrentDVRInfo(De);$=ot?ot.range.end-ot.range.start:0}return $}function Yt($){(0,ie.PS)($,"boolean"),C=$}function Qt(){U.restoreDefaultUTCTimingSources()}function an(){return H}function en(){if(!Oe.getElement())throw mt;return Oe.getElement()}function dn($){if(!T)throw Ce;Oe.setElement($),$&&(vt(),function(){if(!Z){var De=dashjs.MetricsReporting;if(typeof De=="function"){var ot=De(ee).create();Z=ot.createMetricsReporting({debug:Ie,eventBus:ve,mediaElement:en(),adapter:le,dashMetrics:H,mediaPlayerModel:de,events:u.Z,constants:t.Z,metricsConstants:v.Z})}}}(),function(){if(!ce){var De=dashjs.MssHandler;typeof De=="function"&&(ae.extend(De.errors),ce=De(ee).create({eventBus:ve,mediaPlayerModel:de,dashMetrics:H,manifestModel:X,playbackController:I,streamController:Y,protectionController:q,baseURLController:Q,errHandler:oe,events:u.Z,constants:t.Z,debug:Ie,initSegmentType:Te.w.INIT_SEGMENT_TYPE,BASE64:Vi,ISOBoxer:di,settings:Ee}))}}(),Y&&Y.switchToVideoElement()),m&&ct(),st()}function ln($){if(!_)throw ht;var De=Y.getActiveStreamInfo();return De?O.getTracksFor($,De.id):[]}function nn($){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NaN;if(!T)throw Ce;typeof $=="string"&&at.initialize($),De==null&&(De=NaN),isNaN(De)||(De=Math.max(0,De)),c=$,(_||m)&&ct(),Ge()&&st(De)}function cn(){if(!_)throw ht;var $=Y.getActiveStreamInfo();return $?Y.getStreamById($.id):null}function ct(){m=!1,_=!1,le.reset(),Y.reset(),D.reset(),ne.reset(),I.reset(),J.reset(),W.reset(),F.reset(),O.reset(),Ne.reset(),q&&(Ee.get().streaming.protection.keepProtectionMediaKeys?q.stop():(q.reset(),q=null,vt())),k.reset(),ge.reset(),Ue.reset()}function ke(){var $=nt();Y||(Y=ar(ee).getInstance()),k||(k=zs(ee).create({errHandler:oe,manifestModel:X,adapter:le,mediaController:O,videoModel:Oe,settings:Ee})),R.setConfig({capabilities:p,customParametersModel:U,adapter:le,settings:Ee,manifestModel:X,errHandler:oe}),Y.setConfig({capabilities:p,capabilitiesFilter:R,manifestLoader:$,manifestModel:X,mediaPlayerModel:de,customParametersModel:U,protectionController:q,textController:k,adapter:le,dashMetrics:H,errHandler:oe,timelineConverter:K,videoModel:Oe,playbackController:I,serviceDescriptionController:J,contentSteeringController:W,abrController:F,mediaController:O,settings:Ee,baseURLController:Q,uriFragmentModel:at,segmentBaseController:Ne}),D.setConfig({settings:Ee,playbackController:I,streamController:Y,videoModel:Oe,timelineConverter:K,adapter:le}),I.setConfig({streamController:Y,serviceDescriptionController:J,dashMetrics:H,adapter:le,videoModel:Oe,timelineConverter:K,settings:Ee}),ne.setConfig({streamController:Y,playbackController:I,mediaPlayerModel:de,videoModel:Oe,settings:Ee}),F.setConfig({streamController:Y,domStorage:Ae,mediaPlayerModel:de,customParametersModel:U,cmsdModel:Ue,dashMetrics:H,adapter:le,videoModel:Oe,settings:Ee}),ge.setConfig({abrController:F,dashMetrics:H,playbackController:I}),Ue.setConfig({}),F.initialize(),Y.initialize(C,E),k.initialize(),D.initialize(),ne.initialize(),ge.initialize(),Ue.initialize(),W.initialize(),Ne.initialize()}function nt(){return Wo(ee).create({debug:Ie,errHandler:oe,dashMetrics:H,mediaPlayerModel:de,requestModifier:(0,me.Z)(ee).getInstance(),mssHandler:ce,settings:Ee})}function vt(){if(q)return q;var $=dashjs.Protection;if(typeof $=="function"){var De=$(ee).create();return u.Z.extend($.events),e.Z.extend($.events,{publicOnly:!0}),ae.extend($.errors),p||(p=(0,Aa.Z)(ee).getInstance()),q=De.createProtectionSystem({debug:Ie,errHandler:oe,videoModel:Oe,customParametersModel:U,capabilities:p,eventBus:ve,events:u.Z,BASE64:Vi,constants:t.Z,cmcdModel:ge,settings:Ee})}return null}function Mt(){if(!T)throw Ce;if(re)return re;var $=dashjs.OfflineController;if(typeof $=="function"){u.Z.extend($.events),e.Z.extend($.events,{publicOnly:!0}),ae.extend($.errors);var De=nt(),ot=Qr(ee).create();return ot.setConfig({manifestModel:X,adapter:le,manifestLoader:De,errHandler:oe}),re=$(ee).create({debug:Ie,manifestUpdater:ot,baseURLController:Q,manifestLoader:De,manifestModel:X,mediaPlayerModel:de,abrController:F,playbackController:I,adapter:le,errHandler:oe,dashMetrics:H,timelineConverter:K,segmentBaseController:Ne,schemeLoaderFactory:j,eventBus:ve,events:u.Z,errors:ae,constants:t.Z,settings:Ee,dashConstants:r.Z,urlUtils:(0,Pe.Z)(ee).getInstance()})}return null}function Be($){var De=Y&&Y.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,ot=H.getCurrentDVRInfo(De);return ot?$+(ot.manifestInfo.availableFrom.getTime()/1e3+ot.range.start):0}function st(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NaN;re&&re.resetRecords(),!_&&c&&(_=!0,i.info("Streaming Initialized"),ke(),typeof c=="string"?Y.load(c,$):Y.loadWithManifest(c,$)),!m&&Ge()&&(m=!0,i.info("Playback Initialized"))}return o={initialize:function($,De,ot){var _t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:NaN;p||(p=(0,Aa.Z)(ee).getInstance()).setConfig({settings:Ee}),oe||(oe=Xo(ee).getInstance()),p.supportsMediaSource()?(T||(T=!0,K=ks(ee).getInstance(),F||(F=os(ee).getInstance()).setConfig({settings:Ee}),j||(j=bt(ee).getInstance()),I||(I=f(ee).getInstance()),O||(O=Eo(ee).getInstance()),Y||(Y=ar(ee).getInstance()),D||(D=hr(ee).getInstance()),ne||(ne=fo(ee).getInstance()),J||(J=ho(ee).getInstance()),W||(W=ia(ee).getInstance()),R||(R=Qo(ee).getInstance()),le=Ts(ee).getInstance(),X=es(ee).getInstance(),ge=Wt(ee).getInstance(),Ue=rr(ee).getInstance(),H=Fs(ee).getInstance({settings:Ee}),Ae=cs(ee).getInstance({settings:Ee}),le.setConfig({constants:t.Z,cea608parser:S(),errHandler:oe,BASE64:Vi}),Q||(Q=Ao(ee).create()),Q.setConfig({adapter:le}),J.setConfig({adapter:le}),Ne||(Ne=hs(ee).getInstance({dashMetrics:H,mediaPlayerModel:de,errHandler:oe,baseURLController:Q,events:u.Z,eventBus:ve,debug:Ie,boxParser:(0,He.Z)(ee).getInstance(),requestModifier:(0,me.Z)(ee).getInstance(),errors:ae})),O.setConfig({domStorage:Ae,settings:Ee,customParametersModel:U}),de.setConfig({playbackController:I,serviceDescriptionController:J}),W.setConfig({adapter:le,errHandler:oe,dashMetrics:H,mediaPlayerModel:de,manifestModel:X,abrController:F,eventBus:ve,requestModifier:(0,me.Z)(ee).getInstance()}),Qt(),Yt(ot===void 0||ot),Mt()),$&&dn($),De&&nn(De,_t),i.info("[dash.js "+je()+"] MediaPlayer has been initialized")):oe.error(new V.Z(ae.CAPABILITY_MEDIASOURCE_ERROR_CODE,ae.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function($){$&&($.capabilities&&(p=$.capabilities),$.capabilitiesFilter&&(R=$.capabilitiesFilter),$.streamController&&(Y=$.streamController),$.textController&&(k=$.textController),$.gapController&&(D=$.gapController),$.playbackController&&(I=$.playbackController),$.serviceDescriptionController&&(J=$.serviceDescriptionController),$.contentSteeringController&&(W=$.contentSteeringController),$.catchupController&&(ne=$.catchupController),$.mediaPlayerModel&&(de=$.mediaPlayerModel),$.customParametersModel&&(U=$.customParametersModel),$.abrController&&(F=$.abrController),$.schemeLoaderFactory&&(j=$.schemeLoaderFactory),$.mediaController&&(O=$.mediaController),$.settings&&(Ee=$.settings))},on:function($,De,ot,_t){ve.on($,De,ot,_t)},off:function($,De,ot){ve.off($,De,ot)},extend:function($,De,ot){h.Z.extend($,De,ot,ee)},attachView:dn,attachSource:nn,isReady:Ge,preload:function(){if(Oe.getElement()||_)return!1;if(!c)throw At;st()},play:function(){if(!m)throw et;(!C||Ot()&&m)&&I.play(!0)},isPaused:Ot,pause:function(){if(!m)throw et;I.pause()},isSeeking:function(){if(!m)throw et;return I.isSeeking()},isDynamic:Tt,getLowLatencyModeEnabled:function(){if(!m)throw et;return I.getLowLatencyModeEnabled()},seek:function($){if(!m)throw et;if((0,ie.PS)($,"number"),isNaN($))throw t.Z.BAD_ARGUMENT_ERROR;$<0&&($=0);var De=I.getIsDynamic()?Ft($):$,ot=en();!I.getIsDynamic()&&ot.duration&&(De=Math.min(ot.duration,De)),I.seek(De,!1,!1,!0)},seekToOriginalLive:function(){m&&Tt()&&I.seekToOriginalLive()},setPlaybackRate:function($){en().playbackRate=$},getPlaybackRate:function(){return en().playbackRate},setMute:function($){(0,ie.PS)($,"boolean"),en().muted=$},isMuted:function(){return en().muted},setVolume:function($){if(typeof $!="number"||isNaN($)||$<0||$>1)throw t.Z.BAD_ARGUMENT_ERROR;en().volume=$},getVolume:function(){return en().volume},time:Gt,duration:kt,timeAsUTC:function(){if(!m)throw et;return Gt()<0?NaN:Be(Gt())},durationAsUTC:function(){if(!m)throw et;return Be(kt())},getActiveStream:cn,getDVRWindowSize:function(){var $=Y&&Y.hasVideoTrack()?t.Z.VIDEO:t.Z.AUDIO,De=H.getCurrentDVRInfo($);return De?De.manifestInfo.dvrWindowSize:0},getDVRSeekOffset:Ft,getTargetLiveDelay:function(){if(!m)throw et;return I.getOriginalLiveDelay()},convertToTimeCode:function($){$=Math.max($,0);var De=Math.floor($/3600),ot=Math.floor($%3600/60),_t=Math.floor($%3600%60);return(De===0?"":De<10?"0"+De.toString()+":":De.toString()+":")+(ot<10?"0"+ot.toString():ot.toString())+":"+(_t<10?"0"+_t.toString():_t.toString())},formatUTC:function($,De,ot){var _t=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Lt=new Date(1e3*$),$t=Lt.toLocaleDateString(De),En=Lt.toLocaleTimeString(De,{hour12:ot});return _t?En+" "+$t:En},getVersion:je,getDebug:function(){return Ie},getBufferLength:function($){var De=[t.Z.VIDEO,t.Z.AUDIO,t.Z.TEXT];if($)return De.indexOf($)!==-1?an().getCurrentBufferLevel($)||NaN:(i.warn("getBufferLength requested for invalid type"),NaN);var ot=De.map(function(_t){return ln(_t).length>0?an().getCurrentBufferLevel(_t):Number.MAX_VALUE}).reduce(function(_t,Lt){return Math.min(_t,Lt)});return ot===Number.MAX_VALUE?NaN:ot},getTTMLRenderingDiv:function(){return Oe?Oe.getTTMLRenderingDiv():null},getVideoElement:en,getSource:function(){if(!c)throw At;return c},updateSource:function($){c=$,Y.load(c)},getCurrentLiveLatency:function(){if(!T)throw Ce;return m?I.getCurrentLiveLatency():NaN},getTopBitrateInfoFor:function($){if(!_)throw ht;return F.getTopBitrateInfoFor($)},setAutoPlay:Yt,getAutoPlay:function(){return C},getDashMetrics:an,getQualityFor:function($){if(!_)throw ht;if($===t.Z.IMAGE){var De=cn();if(!De)return-1;var ot=De.getThumbnailController();return ot?ot.getCurrentTrackIndex():-1}return F.getQualityFor($)},setQualityFor:function($,De){var ot=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!_)throw ht;if($===t.Z.IMAGE){var _t=cn();if(!_t)return;var Lt=_t.getThumbnailController();Lt&&Lt.setTrackByIndex(De)}F.setPlaybackQuality($,Y.getActiveStreamInfo(),De,{forceReplace:ot})},updatePortalSize:function(){F.setElementSize(),F.setWindowResizeEventCalled(!0)},enableText:function($){var De=Y.getActiveStreamInfo();return!(!De||!k)&&k.enableText(De.id,$)},enableForcedTextStreaming:function($){return!(!Y.getActiveStreamInfo()||!k)&&k.enableForcedTextStreaming($)},isTextEnabled:function(){var $=Y.getActiveStreamInfo();return!(!$||!k)&&k.isTextEnabled($)},setTextTrack:function($){if(!m)throw et;var De=Y.getActiveStreamInfo();De&&k&&k.setTextTrack(De.id,$)},getBitrateInfoListFor:function($){if(!_)throw ht;var De=cn();return De?De.getBitrateListFor($):[]},getStreamsFromManifest:function($){if(!_)throw ht;return le.getStreamsInfo($)},getTracksFor:ln,getTracksForTypeFromManifest:function($,De,ot){if(!_)throw ht;return(ot=ot||le.getStreamsInfo(De,1)[0])?le.getAllMediaInfoForType(ot,$,De):[]},getCurrentTrackFor:function($){if(!_)throw ht;var De=Y.getActiveStreamInfo();return O.getCurrentTrackFor($,De.id)},setInitialMediaSettingsFor:function($,De){if(!T)throw Ce;O.setInitialSettings($,De)},getInitialMediaSettingsFor:function($){if(!T)throw Ce;return O.getInitialSettings($)},setCurrentTrack:function($){if(!_)throw ht;O.setTrack($)},addABRCustomRule:function($,De,ot){U.addAbrCustomRule($,De,ot)},removeABRCustomRule:function($){U.removeAbrCustomRule($)},removeAllABRCustomRule:function(){U.removeAllAbrCustomRule()},getABRCustomRules:function(){return U.getAbrCustomRules()},getAverageThroughput:function($){var De=F.getThroughputHistory(),ot=I.getIsDynamic();return De?De.getAverageThroughput($,ot):0},retrieveManifest:function($,De){var ot=nt(),_t=this;ve.on(u.Z.INTERNAL_MANIFEST_LOADED,function Lt($t){$t.error?De(null,$t.error):De($t.manifest),ve.off(u.Z.INTERNAL_MANIFEST_LOADED,Lt,_t),ot.reset()},_t),at.initialize($),ot.load($)},addUTCTimingSource:function($,De){U.addUTCTimingSource($,De)},removeUTCTimingSource:function($,De){U.removeUTCTimingSource($,De)},clearDefaultUTCTimingSources:function(){U.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:Qt,setXHRWithCredentialsForType:function($,De){U.setXHRWithCredentialsForType($,De)},getXHRWithCredentialsForType:function($){return U.getXHRWithCredentialsForType($)},getProtectionController:function(){return vt()},attachProtectionController:function($){q=$},setProtectionData:function($){E=$,Y&&Y.setProtectionData(E)},registerLicenseRequestFilter:function($){U.registerLicenseRequestFilter($)},registerLicenseResponseFilter:function($){U.registerLicenseResponseFilter($)},unregisterLicenseRequestFilter:function($){U.unregisterLicenseRequestFilter($)},unregisterLicenseResponseFilter:function($){U.unregisterLicenseResponseFilter($)},registerCustomCapabilitiesFilter:function($){U.registerCustomCapabilitiesFilter($)},unregisterCustomCapabilitiesFilter:function($){U.unregisterCustomCapabilitiesFilter($)},setCustomInitialTrackSelectionFunction:function($){U.setCustomInitialTrackSelectionFunction($)},resetCustomInitialTrackSelectionFunction:function(){U.resetCustomInitialTrackSelectionFunction(null)},attachTTMLRenderingDiv:function($){if(!Oe.getElement())throw mt;Oe.setTTMLRenderingDiv($)},attachVttRenderingDiv:function($){if(!Oe.getElement())throw mt;Oe.setVttRenderingDiv($)},getCurrentTextTrackIndex:function(){var $=Y.getActiveStreamInfo();if($&&k)return k.getCurrentTrackIdx($.id)},provideThumbnail:function($,De){if(typeof De=="function")if($<0)De(null);else{var ot=I.getIsDynamic()?Ft($):$,_t=Y.getStreamForTime(ot);if(_t!==null){var Lt=_t.getThumbnailController();if(Lt)return Lt.provide(ot,De);De(null)}else De(null)}},getDashAdapter:function(){return le},getOfflineController:function(){return Mt()},triggerSteeringRequest:function(){if(W)return W.loadSteeringData()},getCurrentSteeringResponseData:function(){if(W)return W.getCurrentSteeringResponseData()},getSettings:function(){return Ee.get()},updateSettings:function($){Ee.update($)},resetSettings:function(){Ee.reset()},reset:Je,destroy:function(){Je(),h.Z.deleteSingletonInstances(ee)}},i=Ie.getLogger(o),T=!1,m=!1,_=!1,C=!0,q=null,re=null,E=null,le=null,Ne=null,u.Z.extend(e.Z),de=ts(ee).getInstance(),U=(0,xr.Z)(ee).getInstance(),Oe=us(ee).getInstance(),at=Jo(ee).getInstance(),o}Xi.__dashjs_factory_name="MediaPlayer";var hi=h.Z.getClassFactory(Xi);hi.events=e.Z,hi.errors=ae,h.Z.updateClassFactory(Xi.__dashjs_factory_name,hi);const Ws=hi},8825:(We,Se,L)=>{function se(g){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},se(g)}function S(g,u){return S=Object.setPrototypeOf||function(h,w){return h.__proto__=w,h},S(g,u)}function t(g,u){return!u||se(u)!=="object"&&typeof u!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):u}function r(g){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},r(g)}L.d(Se,{Z:()=>v});const v=new(function(g){(function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),f&&S(d,f)})(e,g);var u,h,w=(u=e,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var d,f=r(u);if(h){var b=r(this).constructor;d=Reflect.construct(f,arguments,b)}else d=f.apply(this,arguments);return t(this,d)});function e(){var d;return function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,e),(d=w.call(this)).AST_IN_FUTURE="astInFuture",d.BUFFER_EMPTY="bufferStalled",d.BUFFER_LOADED="bufferLoaded",d.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",d.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",d.DYNAMIC_TO_STATIC="dynamicToStatic",d.ERROR="error",d.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",d.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",d.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",d.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",d.LOG="log",d.MANIFEST_LOADED="manifestLoaded",d.METRICS_CHANGED="metricsChanged",d.METRIC_CHANGED="metricChanged",d.METRIC_ADDED="metricAdded",d.METRIC_UPDATED="metricUpdated",d.PERIOD_SWITCH_STARTED="periodSwitchStarted",d.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",d.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",d.QUALITY_CHANGE_RENDERED="qualityChangeRendered",d.TRACK_CHANGE_RENDERED="trackChangeRendered",d.STREAM_INITIALIZING="streamInitializing",d.STREAM_UPDATED="streamUpdated",d.STREAM_ACTIVATED="streamActivated",d.STREAM_DEACTIVATED="streamDeactivated",d.STREAM_INITIALIZED="streamInitialized",d.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",d.TEXT_TRACKS_ADDED="allTextTracksAdded",d.TEXT_TRACK_ADDED="textTrackAdded",d.TTML_PARSED="ttmlParsed",d.TTML_TO_PARSE="ttmlToParse",d.CAPTION_RENDERED="captionRendered",d.CAPTION_CONTAINER_RESIZE="captionContainerResize",d.CAN_PLAY="canPlay",d.CAN_PLAY_THROUGH="canPlayThrough",d.PLAYBACK_ENDED="playbackEnded",d.PLAYBACK_ERROR="playbackError",d.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",d.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",d.PLAYBACK_LOADED_DATA="playbackLoadedData",d.PLAYBACK_PAUSED="playbackPaused",d.PLAYBACK_PLAYING="playbackPlaying",d.PLAYBACK_PROGRESS="playbackProgress",d.PLAYBACK_RATE_CHANGED="playbackRateChanged",d.PLAYBACK_SEEKED="playbackSeeked",d.PLAYBACK_SEEKING="playbackSeeking",d.PLAYBACK_STALLED="playbackStalled",d.PLAYBACK_STARTED="playbackStarted",d.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",d.PLAYBACK_VOLUME_CHANGED="playbackVolumeChanged",d.PLAYBACK_WAITING="playbackWaiting",d.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged",d.EVENT_MODE_ON_START="eventModeOnStart",d.EVENT_MODE_ON_RECEIVE="eventModeOnReceive",d.CONFORMANCE_VIOLATION="conformanceViolation",d.REPRESENTATION_SWITCH="representationSwitch",d.ADAPTATION_SET_REMOVED_NO_CAPABILITIES="adaptationSetRemovedNoCapabilities",d.CONTENT_STEERING_REQUEST_COMPLETED="contentSteeringRequestCompleted",d}return e}(L(8342).Z))},3393:(We,Se,L)=>{function se(t,r){for(var v=0;v<r.length;v++){var g=r[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(t,g.key,g)}}L.d(Se,{Z:()=>S});const S=new(function(){function t(){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),this.init()}var r,v;return r=t,(v=[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.CONTENT_STEERING="contentSteering",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_L2A="abrL2A",this.ABR_STRATEGY_LoLP="abrLoLP",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.ABR_FETCH_THROUGHPUT_CALCULATION_DOWNLOADED_DATA="abrFetchThroughputCalculationDownloadedData",this.ABR_FETCH_THROUGHPUT_CALCULATION_MOOF_PARSING="abrFetchThroughputCalculationMoofParsing",this.ABR_FETCH_THROUGHPUT_CALCULATION_AAST="abrFetchThroughputCalculationAAST",this.LIVE_CATCHUP_MODE_DEFAULT="liveCatchupModeDefault",this.LIVE_CATCHUP_MODE_LOLP="liveCatchupModeLoLP",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.TRACK_SWITCH_MODE_ALWAYS_REPLACE="alwaysReplace",this.TRACK_SWITCH_MODE_NEVER_REPLACE="neverReplace",this.TRACK_SELECTION_MODE_FIRST_TRACK="firstTrack",this.TRACK_SELECTION_MODE_HIGHEST_BITRATE="highestBitrate",this.TRACK_SELECTION_MODE_HIGHEST_EFFICIENCY="highestEfficiency",this.TRACK_SELECTION_MODE_WIDEST_RANGE="widestRange",this.TRACK_SELECTION_MODE_HIGHEST_SELECTION_PRIORITY="highestSelectionPriority",this.CMCD_MODE_QUERY="query",this.CMCD_MODE_HEADER="header",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_DVB_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer",this.DVB_REPORTING_URL="dvb:reportingUrl",this.DVB_PROBABILITY="dvb:probability",this.VIDEO_ELEMENT_READY_STATES={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},this.FILE_LOADER_TYPES={FETCH:"fetch_loader",XHR:"xhr_loader"}}}])&&se(r.prototype,v),t}())},3860:(We,Se,L)=>{function se(t,r){for(var v=0;v<r.length;v++){var g=r[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(t,g.key,g)}}L.d(Se,{Z:()=>S});const S=new(function(){function t(){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),this.init()}var r,v;return r=t,(v=[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors",this.HTTP_REQUEST_DVB_REPORTING_TYPE="DVBReporting"}}])&&se(r.prototype,v),t}())},8080:(We,Se,L)=>{L.d(Se,{default:()=>A});var se=function N(){(function(ie,ue){if(!(ie instanceof ue))throw new TypeError("Cannot call a class as a function")})(this,N),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};se.SSL_CONNECTION_FAILED_PREFIX="SSL",se.DNS_RESOLUTION_FAILED="C00",se.HOST_UNREACHABLE="C01",se.CONNECTION_REFUSED="C02",se.CONNECTION_ERROR="C03",se.CORRUPT_MEDIA_ISOBMFF="M00",se.CORRUPT_MEDIA_OTHER="M01",se.BASE_URL_CHANGED="F00",se.BECAME_REPORTER="S00";const S=se;var t=L(1180);function r(N){var ie,ue,me=(N=N||{}).eventBus,Pe=N.dashMetrics,He=N.metricsConstants,ze=N.events;function Qe(qt){var Ht=new S;if(ue){for(var sn in qt)qt.hasOwnProperty(sn)&&(Ht[sn]=qt[sn]);Ht.mpdurl||(Ht.mpdurl=ue.originalUrl||ue.url),Ht.terror||(Ht.terror=new Date),Pe.addDVBErrors(Ht)}}function we(qt){qt.error||(ue=qt.manifest)}function ut(qt){Qe({errorcode:S.BASE_URL_CHANGED,servicelocation:qt.entry})}function wt(){Qe({errorcode:S.BECAME_REPORTER})}function Dt(qt){var Ht;qt.metric===He.HTTP_REQUEST&&((Ht=qt.value).responsecode===0||Ht.responsecode==null||Ht.responsecode>=400||Ht.responsecode<100||Ht.responsecode>=600)&&Qe({errorcode:Ht.responsecode||S.CONNECTION_ERROR,url:Ht.url,terror:Ht.tresponse,servicelocation:Ht._serviceLocation})}function Ut(qt){var Ht;switch(qt.error?qt.error.code:0){case MediaError.MEDIA_ERR_NETWORK:Ht=S.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:Ht=S.CORRUPT_MEDIA_OTHER;break;default:return}Qe({errorcode:Ht})}return ie={initialise:function(){me.on(ze.MANIFEST_UPDATED,we,ie),me.on(ze.SERVICE_LOCATION_BLACKLIST_CHANGED,ut,ie),me.on(ze.METRIC_ADDED,Dt,ie),me.on(ze.METRIC_UPDATED,Dt,ie),me.on(ze.PLAYBACK_ERROR,Ut,ie),me.on(t.Z.BECAME_REPORTING_PLAYER,wt,ie)},reset:function(){me.off(ze.MANIFEST_UPDATED,we,ie),me.off(ze.SERVICE_LOCATION_BLACKLIST_CHANGED,ut,ie),me.off(ze.METRIC_ADDED,Dt,ie),me.off(ze.METRIC_UPDATED,Dt,ie),me.off(ze.PLAYBACK_ERROR,Ut,ie),me.off(t.Z.BECAME_REPORTING_PLAYER,wt,ie)}}}r.__dashjs_factory_name="DVBErrorsTranslator";const v=dashjs.FactoryMaker.getSingletonFactory(r);var g=L(2295);function u(N){N=N||{};var ie,ue,me=!1,Pe=this.context,He=N.mediaElement;return ie={initialize:function(ze){ze&&ze.length&&(ze.forEach(function(Qe){var we=Qe.starttime,ut=we+Qe.duration;ue.add(we,ut)}),me=!!ze[0]._useWallClockTime)},reset:function(){ue.clear()},isEnabled:function(){var ze,Qe=ue.length;if(!Qe)return!0;ze=me?new Date().getTime()/1e3:He.currentTime;for(var we=0;we<Qe;we+=1){var ut=ue.start(we),wt=ue.end(we);if(ut<=ze&&ze<wt)return!0}return!1}},ue=(0,g.Z)(Pe).create(),ie}u.__dashjs_factory_name="RangeController";const h=dashjs.FactoryMaker.getClassFactory(u);function w(){return{serialise:function N(ie){var ue,me,Pe=[],He=[];for(ue in ie)if(ie.hasOwnProperty(ue)&&ue.indexOf("_")!==0){if((me=ie[ue])==null&&(me=""),Array.isArray(me)){if(!me.length)continue;He=[],me.forEach(function(ze){var Qe=Object.prototype.toString.call(ze).slice(8,-1)!=="Object";He.push(Qe?ze:N(ze))}),me=He.map(encodeURIComponent).join(",")}else typeof me=="string"?me=encodeURIComponent(me):me instanceof Date?me=me.toISOString():typeof me=="number"&&(me=Math.round(me));Pe.push(ue+"="+me)}return Pe.join("&")}}}w.__dashjs_factory_name="MetricSerialiser";const e=dashjs.FactoryMaker.getSingletonFactory(w);function d(){var N,ie,ue,me=window.crypto||window.msCrypto,Pe=Uint32Array,He=Math.pow(2,8*Pe.BYTES_PER_ELEMENT)-1;function ze(){me&&(N||(N=new Pe(10)),me.getRandomValues(N),ie=0)}return ue={random:function(Qe,we){var ut;return Qe||(Qe=0),we||(we=1),me?(ie===N.length&&ze(),ut=N[ie]/He,ie+=1):ut=Math.random(),ut*(we-Qe)+Qe}},ze(),ue}d.__dashjs_factory_name="RNG";const f=dashjs.FactoryMaker.getSingletonFactory(d);var b=L(5717);function y(N){var ie;N=N||{};var ue,me,Pe,He,ze,Qe,we,ut=this.context,wt=[],Dt=N.metricsConstants;function Ut(){He=!1,ze=!1,Qe=null,we=null}return ie={report:function(qt,Ht){Array.isArray(Ht)||(Ht=[Ht]),ze&&we.isEnabled()&&Ht.forEach(function(sn){var gn=ue.serialise(sn);qt!==Dt.DVB_ERRORS&&(gn="metricname=".concat(qt,"&").concat(gn)),function(bn,On,An){var _n=new XMLHttpRequest;_n.withCredentials=me.getXHRWithCredentialsForType(Dt.HTTP_REQUEST_DVB_REPORTING_TYPE);var Hn=function(){var Tn=wt.indexOf(_n);Tn!==-1&&(wt.splice(Tn,1),!(_n.status>=200&&_n.status<300)&&An&&An())};wt.push(_n);try{_n.open("GET",bn),_n.onloadend=Hn,_n.onerror=Hn,_n.send()}catch{_n.onerror()}}(gn="".concat(Qe,"?").concat(gn),0,function(){ze=!1})})},initialize:function(qt,Ht){var sn;if(we=Ht,!(Qe=qt.dvb_reportingUrl))throw new Error("required parameter missing (dvb:reportingUrl)");He||((sn=qt.dvb_probability)&&(sn===1e3||sn/1e3>=Pe.random())&&(ze=!0),He=!0)},reset:function(){Ut()}},ue=e(ut).getInstance(),Pe=f(ut).getInstance(),me=(0,b.Z)(ut).getInstance(),Ut(),ie}y.__dashjs_factory_name="DVBReporting";const M=dashjs.FactoryMaker.getClassFactory(y);function x(N){N=N||{};var ie,ue={"urn:dvb:dash:reporting:2014":M},me=this.context,Pe=N.debug?N.debug.getLogger(ie):{},He=N.metricsConstants,ze=N.mediaPlayerModel||{};return{create:function(Qe,we){var ut;try{(ut=ue[Qe.schemeIdUri](me).create({metricsConstants:He,mediaPlayerModel:ze})).initialize(Qe,we)}catch(wt){ut=null,Pe.error("ReportingFactory: could not create Reporting with schemeIdUri ".concat(Qe.schemeIdUri," (").concat(wt.message,")"))}return ut},register:function(Qe,we){ue[Qe]=we},unregister:function(Qe){delete ue[Qe]}}}x.__dashjs_factory_name="ReportingFactory";const G=dashjs.FactoryMaker.getSingletonFactory(x);function P(N){var ie=[],ue=G(this.context).getInstance(N);return{initialize:function(me,Pe){me.some(function(He){var ze=ue.create(He,Pe);if(ze)return ie.push(ze),!0})},reset:function(){ie.forEach(function(me){return me.reset()}),ie=[]},report:function(me,Pe){ie.forEach(function(He){return He.report(me,Pe)})}}}P.__dashjs_factory_name="ReportingController";const z=dashjs.FactoryMaker.getClassFactory(P);function V(){return{reconstructFullMetricName:function(N,ie,ue){var me=N;return ie&&(me+="("+ie,ue&&ue.length&&(me+=","+ue),me+=")"),me},validateN:function(N){if(!N)throw new Error("missing n");if(isNaN(N))throw new Error("n is NaN");if(N<0)throw new Error("n must be positive");return N}}}V.__dashjs_factory_name="HandlerHelpers";const he=dashjs.FactoryMaker.getSingletonFactory(V);function pe(N){var ie,ue,me,Pe,He;N=N||{};var ze=this.context,Qe=he(ze).getInstance(),we=[],ut=N.metricsConstants;function wt(){var Dt=function(){try{return Object.keys(we).map(function(Ut){return we[Ut]}).reduce(function(Ut,qt){return Ut.level<qt.level?Ut:qt})}catch{return}}();Dt&&He!==Dt.t&&(He=Dt.t,ie.report(me,Dt))}return{initialize:function(Dt,Ut,qt){Ut&&(ue=Qe.validateN(qt),ie=Ut,me=Qe.reconstructFullMetricName(Dt,qt),Pe=setInterval(wt,ue))},reset:function(){clearInterval(Pe),Pe=null,ue=0,ie=null,He=null},handleNewMetric:function(Dt,Ut,qt){Dt===ut.BUFFER_LEVEL&&(we[qt]=Ut)}}}pe.__dashjs_factory_name="BufferLevelHandler";const Ke=dashjs.FactoryMaker.getClassFactory(pe),xe=dashjs.FactoryMaker.getClassFactory(function(N){var ie,ue=(N=N||{}).eventBus,me=N.metricsConstants;function Pe(){ue.off(t.Z.METRICS_INITIALISATION_COMPLETE,Pe,this),ue.trigger(t.Z.BECAME_REPORTING_PLAYER)}return{initialize:function(He,ze){ze&&(ie=ze,ue.on(t.Z.METRICS_INITIALISATION_COMPLETE,Pe,this))},reset:function(){ie=null},handleNewMetric:function(He,ze){He===me.DVB_ERRORS&&ie&&ie.report(He,ze)}}});function ae(N){var ie,ue,me,Pe,He;N=N||{};var ze=[],Qe=he(this.context).getInstance(),we=N.metricsConstants;function ut(){var wt=ze;wt.length&&ie&&ie.report(Pe,wt),ze=[]}return{initialize:function(wt,Dt,Ut,qt){Dt&&(ue=Qe.validateN(Ut),ie=Dt,qt&&qt.length&&(me=qt),Pe=Qe.reconstructFullMetricName(wt,Ut,qt),He=setInterval(ut,ue))},reset:function(){clearInterval(He),He=null,ue=null,me=null,ze=[],ie=null},handleNewMetric:function(wt,Dt){wt===we.HTTP_REQUEST&&(me&&me!==Dt.type||ze.push(Dt))}}}ae.__dashjs_factory_name="HttpListHandler";const pt=dashjs.FactoryMaker.getClassFactory(ae);function Te(){var N,ie;return{initialize:function(ue,me){N=ue,ie=me},reset:function(){ie=null,N=void 0},handleNewMetric:function(ue,me){ue===N&&ie&&ie.report(N,me)}}}Te.__dashjs_factory_name="GenericMetricHandler";const qe=dashjs.FactoryMaker.getClassFactory(Te);function ye(N){var ie,ue=(N=N||{}).debug?N.debug.getLogger(ie):{},me=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,Pe=this.context,He={BufferLevel:Ke,DVBErrors:xe,HttpList:pt,PlayList:qe,RepSwitchList:qe,TcpList:qe};return{create:function(ze,Qe){var we,ut=ze.match(me);if(ut){try{(we=He[ut[1]](Pe).create({eventBus:N.eventBus,metricsConstants:N.metricsConstants})).initialize(ut[1],Qe,ut[3],ut[5])}catch(wt){we=null,ue.error("MetricsHandlerFactory: Could not create handler for type ".concat(ut[1]," with args ").concat(ut[3],", ").concat(ut[5]," (").concat(wt.message,")"))}return we}},register:function(ze,Qe){He[ze]=Qe},unregister:function(ze){delete He[ze]}}}ye.__dashjs_factory_name="MetricsHandlerFactory";const be=dashjs.FactoryMaker.getSingletonFactory(ye);function Ve(N){N=N||{};var ie,ue=[],me=this.context,Pe=N.eventBus,He=N.events,ze=be(me).getInstance({debug:N.debug,eventBus:N.eventBus,metricsConstants:N.metricsConstants});function Qe(we){ue.forEach(function(ut){ut.handleNewMetric(we.metric,we.value,we.mediaType)})}return ie={initialize:function(we,ut){we.split(",").forEach(function(wt,Dt,Ut){var qt;if(wt.indexOf("(")!==-1&&wt.indexOf(")")===-1){var Ht=Ut[Dt+1];Ht&&Ht.indexOf("(")===-1&&Ht.indexOf(")")!==-1&&(wt+=","+Ht,delete Ut[Dt+1])}(qt=ze.create(wt,ut))&&ue.push(qt)}),Pe.on(He.METRIC_ADDED,Qe,ie),Pe.on(He.METRIC_UPDATED,Qe,ie)},reset:function(){Pe.off(He.METRIC_ADDED,Qe,ie),Pe.off(He.METRIC_UPDATED,Qe,ie),ue.forEach(function(we){return we.reset()}),ue=[]}}}Ve.__dashjs_factory_name="MetricsHandlersController";const tt=dashjs.FactoryMaker.getClassFactory(Ve);function rt(N){var ie,ue,me;N=N||{};var Pe=this.context;function He(){ie&&ie.reset(),ue&&ue.reset(),me&&me.reset()}return{initialize:function(ze){try{(me=h(Pe).create({mediaElement:N.mediaElement})).initialize(ze.Range),(ue=z(Pe).create({debug:N.debug,metricsConstants:N.metricsConstants,mediaPlayerModel:N.mediaPlayerModel})).initialize(ze.Reporting,me),(ie=tt(Pe).create({debug:N.debug,eventBus:N.eventBus,metricsConstants:N.metricsConstants,events:N.events})).initialize(ze.metrics,ue)}catch(Qe){throw He(),Qe}},reset:He}}rt.__dashjs_factory_name="MetricsController";const _e=dashjs.FactoryMaker.getClassFactory(rt),Fe=function N(){(function(ie,ue){if(!(ie instanceof ue))throw new TypeError("Cannot call a class as a function")})(this,N),this.metrics="",this.Range=[],this.Reporting=[]},$e=function N(){(function(ie,ue){if(!(ie instanceof ue))throw new TypeError("Cannot call a class as a function")})(this,N),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},Re=function N(){(function(ie,ue){if(!(ie instanceof ue))throw new TypeError("Cannot call a class as a function")})(this,N),this.schemeIdUri="",this.value="",this.dvb_reportingUrl="",this.dvb_probability=1e3};function Me(N){var ie=(N=N||{}).adapter,ue=N.constants;return{getMetrics:function(me){var Pe=[];return me&&me.Metrics_asArray&&me.Metrics_asArray.forEach(function(He){var ze=new Fe,Qe=ie.getIsDynamic(me);He.hasOwnProperty("metrics")&&(ze.metrics=He.metrics,He.Range_asArray&&He.Range_asArray.forEach(function(we){var ut=new $e;ut.starttime=function(wt,Dt,Ut){var qt,Ht,sn=0;return Dt?sn=ie.getAvailabilityStartTime(wt)/1e3:(qt=ie.getRegularPeriods(wt)).length&&(sn=qt[0].start),Ht=sn,Ut&&Ut.hasOwnProperty(ue.START_TIME)&&(Ht+=Ut.starttime),Ht}(me,Qe,we),we.hasOwnProperty("duration")?ut.duration=we.duration:ut.duration=ie.getDuration(me),ut._useWallClockTime=Qe,ze.Range.push(ut)}),He.Reporting_asArray&&(He.Reporting_asArray.forEach(function(we){var ut=new Re;we.hasOwnProperty(ue.SCHEME_ID_URI)&&(ut.schemeIdUri=we.schemeIdUri,we.hasOwnProperty("value")&&(ut.value=we.value),we.hasOwnProperty(ue.DVB_REPORTING_URL)&&(ut.dvb_reportingUrl=we[ue.DVB_REPORTING_URL]),we.hasOwnProperty(ue.DVB_PROBABILITY)&&(ut.dvb_probability=we[ue.DVB_PROBABILITY]),ze.Reporting.push(ut))}),Pe.push(ze)))}),Pe}}}Me.__dashjs_factory_name="ManifestParsing";const fe=dashjs.FactoryMaker.getSingletonFactory(Me);function B(N){var ie;N=N||{};var ue={},me=this.context,Pe=N.eventBus,He=N.events;function ze(we){if(!we.error){var ut=Object.keys(ue);fe(me).getInstance({adapter:N.adapter,constants:N.constants}).getMetrics(we.manifest).forEach(function(wt){var Dt=JSON.stringify(wt);if(ue.hasOwnProperty(Dt))ut.splice(Dt,1);else try{var Ut=_e(me).create(N);Ut.initialize(wt),ue[Dt]=Ut}catch{}}),ut.forEach(function(wt){ue[wt].reset(),delete ue[wt]}),Pe.trigger(t.Z.METRICS_INITIALISATION_COMPLETE)}}function Qe(){Object.keys(ue).forEach(function(we){ue[we].reset()}),ue={}}return ie={reset:function(){Pe.off(He.MANIFEST_UPDATED,ze,ie),Pe.off(He.STREAM_TEARDOWN_COMPLETE,Qe,ie)}},Pe.on(He.MANIFEST_UPDATED,ze,ie),Pe.on(He.STREAM_TEARDOWN_COMPLETE,Qe,ie),ie}B.__dashjs_factory_name="MetricsCollectionController";const te=dashjs.FactoryMaker.getClassFactory(B);function n(){var N=this.context;return{createMetricsReporting:function(ie){return v(N).getInstance({eventBus:ie.eventBus,dashMetrics:ie.dashMetrics,metricsConstants:ie.metricsConstants,events:ie.events}).initialise(),te(N).create(ie)},getReportingFactory:function(){return G(N).getInstance()},getMetricsHandlerFactory:function(){return be(N).getInstance()}}}n.__dashjs_factory_name="MetricsReporting";var l=dashjs.FactoryMaker.getClassFactory(n);l.events=t.Z,dashjs.FactoryMaker.updateClassFactory(n.__dashjs_factory_name,l);const A=l},1180:(We,Se,L)=>{function se(g){return se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},se(g)}function S(g,u){return S=Object.setPrototypeOf||function(h,w){return h.__proto__=w,h},S(g,u)}function t(g,u){return!u||se(u)!=="object"&&typeof u!="function"?function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(g):u}function r(g){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},r(g)}L.d(Se,{Z:()=>v});const v=new(function(g){(function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),f&&S(d,f)})(e,g);var u,h,w=(u=e,h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var d,f=r(u);if(h){var b=r(this).constructor;d=Reflect.construct(f,arguments,b)}else d=f.apply(this,arguments);return t(this,d)});function e(){var d;return function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,e),(d=w.call(this)).METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",d.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer",d.CMCD_DATA_GENERATED="cmcdDataGenerated",d}return e}(L(8342).Z))},5717:(We,Se,L)=>{L.d(Se,{Z:()=>h});var se=L(2610),S=L(5448),t=L(1264),r=L(3106),v=L(1767),g=L(3393);function u(){var w,e,d,f,b,y,M,x,G=this.context,P=(0,t.Z)(G).getInstance();function z(){f=[],b=[],y=[],x=[],M=null,e=[]}function V(xe,ae){var pt=-1;xe.some(function(Te,qe){if(Te===ae)return pt=qe,!0}),pt<0||xe.splice(pt,1)}function he(xe){var ae;for(ae=0;ae<x.length;ae++)if(x[ae].rulename===xe)return ae;return-1}function pe(xe,ae){Ke(xe,ae);var pt=new se.Z;pt.schemeIdUri=xe,pt.value=ae,e.push(pt)}function Ke(xe,ae){(0,r.PS)(xe,"string"),(0,r.PS)(ae,"string"),e.forEach(function(pt,Te){pt.schemeIdUri===xe&&pt.value===ae&&e.splice(Te,1)})}return w={getCustomInitialTrackSelectionFunction:function(){return M},setCustomInitialTrackSelectionFunction:function(xe){M=xe},resetCustomInitialTrackSelectionFunction:function(){M=null},getLicenseResponseFilters:function(){return b},getLicenseRequestFilters:function(){return f},getCustomCapabilitiesFilters:function(){return y},registerCustomCapabilitiesFilter:function(xe){y.push(xe)},registerLicenseResponseFilter:function(xe){b.push(xe)},registerLicenseRequestFilter:function(xe){f.push(xe)},unregisterCustomCapabilitiesFilter:function(xe){V(y,xe)},unregisterLicenseResponseFilter:function(xe){V(b,xe)},unregisterLicenseRequestFilter:function(xe){V(f,xe)},addAbrCustomRule:function(xe,ae,pt){if(typeof xe!="string"||xe!==v.Z.ABANDON_FRAGMENT_RULES&&xe!==v.Z.QUALITY_SWITCH_RULES||typeof ae!="string")throw g.Z.BAD_ARGUMENT_ERROR;var Te=he(ae);Te===-1?x.push({type:xe,rulename:ae,rule:pt}):(x[Te].type=xe,x[Te].rule=pt)},removeAllAbrCustomRule:function(){x=[]},removeAbrCustomRule:function(xe){if(xe){var ae=he(xe);ae!==-1&&x.splice(ae,1)}else x=[]},getAbrCustomRules:function(){return x},addUTCTimingSource:pe,removeUTCTimingSource:Ke,getUTCTimingSources:function(){return e},clearDefaultUTCTimingSources:function(){e=[]},restoreDefaultUTCTimingSources:function(){var xe=P.get().streaming.utcSynchronization.defaultTimingSource;pe(xe.scheme,xe.value)},setXHRWithCredentialsForType:function xe(ae,pt){ae?d[ae]=!!pt:Object.keys(d).forEach(function(Te){xe(Te,pt)})},getXHRWithCredentialsForType:function(xe){var ae=d[xe];return ae===void 0?d.default:ae},setConfig:function(){},reset:function(){z()}},d={default:!1},z(),w}u.__dashjs_factory_name="CustomParametersModel";const h=S.Z.getSingletonFactory(u)},9032:(We,Se,L)=>{L.d(Se,{Z:()=>r});var se=L(5448),S=L(7473);function t(v){var g=(v=v||{}).requestModifier;function u(h){var w=new Date,e=h.request,d=new XMLHttpRequest;if(d.open(h.method,h.url,!0),e.responseType&&(d.responseType=e.responseType),e.range&&d.setRequestHeader("Range","bytes="+e.range),e.requestStartDate||(e.requestStartDate=w),g&&g.modifyRequestHeader&&(d=g.modifyRequestHeader(d,{url:h.url})),h.headers)for(var f in h.headers){var b=h.headers[f];b&&d.setRequestHeader(f,b)}d.withCredentials=h.withCredentials,d.onload=h.onload,d.onloadend=h.onend,d.onerror=h.onerror,d.onprogress=h.progress,d.onabort=h.onabort,d.ontimeout=h.ontimeout,d.timeout=h.timeout,d.send(),h.response=d}return{load:function(h){g&&g.modifyRequest?(0,S.k)(h,g).then(function(){return u(h)}):u(h)},abort:function(h){var w=h.response;w.onloadend=w.onerror=w.onprogress=void 0,w.abort()}}}t.__dashjs_factory_name="XHRLoader";const r=se.Z.getClassFactory(t)},1737:(We,Se,L)=>{function se(Et,ft){for(var dt=0;dt<ft.length;dt++){var Le=ft[dt];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Et,Le.key,Le)}}L.d(Se,{default:()=>br});var S={attributes:["Laurl","laurl"],prefixes:["clearkey","dashif"]};const t=function(){function Et(){(function(Le,it){if(!(Le instanceof it))throw new TypeError("Cannot call a class as a function")})(this,Et)}var ft,dt;return ft=Et,dt=[{key:"findCencContentProtection",value:function(Le){for(var it=null,Ze=0;Ze<Le.length;++Ze){var Xe=Le[Ze];Xe.schemeIdUri.toLowerCase()!=="urn:mpeg:dash:mp4protection:2011"||Xe.value.toLowerCase()!=="cenc"&&Xe.value.toLowerCase()!=="cbcs"||(it=Xe)}return it}},{key:"getPSSHData",value:function(Le){var it=8,Ze=new DataView(Le),Xe=Ze.getUint8(it);return it+=20,Xe>0&&(it+=4+16*Ze.getUint32(it)),it+=4,Le.slice(it)}},{key:"getPSSHForKeySystem",value:function(Le,it){var Ze=Et.parsePSSHList(it);return Le&&Ze.hasOwnProperty(Le.uuid.toLowerCase())?Ze[Le.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(Le,it){return"pssh"in Le?(Le.pssh.__text=Le.pssh.__text.replace(/\r?\n|\r/g,"").replace(/\s+/g,""),it.decodeArray(Le.pssh.__text).buffer):null}},{key:"parsePSSHList",value:function(Le){if(Le==null)return[];for(var it=new DataView(Le.buffer||Le),Ze={},Xe=0;;){var It,Rt,Zt=void 0,Bt=Xe;if(Xe>=it.buffer.byteLength)break;if(It=Xe+it.getUint32(Xe),Xe+=4,it.getUint32(Xe)===1886614376)if(Xe+=4,(Rt=it.getUint8(Xe))===0||Rt===1){Xe++,Xe+=3,Zt="";var Nt=void 0,lt=void 0;for(Nt=0;Nt<4;Nt++)Zt+=(lt=it.getUint8(Xe+Nt).toString(16)).length===1?"0"+lt:lt;for(Xe+=4,Zt+="-",Nt=0;Nt<2;Nt++)Zt+=(lt=it.getUint8(Xe+Nt).toString(16)).length===1?"0"+lt:lt;for(Xe+=2,Zt+="-",Nt=0;Nt<2;Nt++)Zt+=(lt=it.getUint8(Xe+Nt).toString(16)).length===1?"0"+lt:lt;for(Xe+=2,Zt+="-",Nt=0;Nt<2;Nt++)Zt+=(lt=it.getUint8(Xe+Nt).toString(16)).length===1?"0"+lt:lt;for(Xe+=2,Zt+="-",Nt=0;Nt<6;Nt++)Zt+=(lt=it.getUint8(Xe+Nt).toString(16)).length===1?"0"+lt:lt;Xe+=6,Xe+=4,Ze[Zt=Zt.toLowerCase()]=it.buffer.slice(Bt,It),Xe=It}else Xe=It;else Xe=It}return Ze}},{key:"getLicenseServerUrlFromMediaInfo",value:function(Le,it){try{if(!Le||Le.length===0)return null;for(var Ze=0,Xe=null;Ze<Le.length&&!Xe;){var It=Le[Ze];if(It&&It.contentProtection&&It.contentProtection.length>0){var Rt=It.contentProtection.filter(function(Wt){return Wt.schemeIdUri&&Wt.schemeIdUri===it});if(Rt&&Rt.length>0)for(var Zt=0;Zt<Rt.length&&!Xe;){for(var Bt=Rt[Zt],Nt=0;Nt<S.attributes.length&&!Xe;){for(var lt=0,xt=S.attributes[Nt];lt<S.prefixes.length&&!Xe;){var Pt=S.prefixes[lt];Bt[xt]&&Bt[xt].__prefix&&Bt[xt].__prefix===Pt&&Bt[xt].__text&&(Xe=Bt[xt].__text),lt+=1}Nt+=1}Zt+=1}}Ze+=1}return Xe}catch{return null}}}],dt&&se(ft,dt),Et}(),r=function Et(ft,dt){(function(Le,it){if(!(Le instanceof it))throw new TypeError("Cannot call a class as a function")})(this,Et),this.contentType=ft,this.robustness=dt},v=function Et(ft,dt,Le,it,Ze){(function(Xe,It){if(!(Xe instanceof It))throw new TypeError("Cannot call a class as a function")})(this,Et),this.initDataTypes=["cenc"],ft&&ft.length&&(this.audioCapabilities=ft),dt&&dt.length&&(this.videoCapabilities=dt),this.distinctiveIdentifier=Le,this.persistentState=it,this.sessionTypes=Ze};function g(Et){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},g(Et)}function u(Et,ft){return u=Object.setPrototypeOf||function(dt,Le){return dt.__proto__=Le,dt},u(Et,ft)}function h(Et,ft){return!ft||g(ft)!=="object"&&typeof ft!="function"?function(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt}(Et):ft}function w(Et){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(ft){return ft.__proto__||Object.getPrototypeOf(ft)},w(Et)}const e=new(function(Et){(function(Ze,Xe){if(typeof Xe!="function"&&Xe!==null)throw new TypeError("Super expression must either be null or a function");Ze.prototype=Object.create(Xe&&Xe.prototype,{constructor:{value:Ze,writable:!0,configurable:!0}}),Xe&&u(Ze,Xe)})(it,Et);var ft,dt,Le=(ft=it,dt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ze,Xe=w(ft);if(dt){var It=w(this).constructor;Ze=Reflect.construct(Xe,arguments,It)}else Ze=Xe.apply(this,arguments);return h(this,Ze)});function it(){var Ze;return function(Xe,It){if(!(Xe instanceof It))throw new TypeError("Cannot call a class as a function")}(this,it),(Ze=Le.call(this)).MEDIA_KEYERR_CODE=100,Ze.MEDIA_KEYERR_UNKNOWN_CODE=101,Ze.MEDIA_KEYERR_CLIENT_CODE=102,Ze.MEDIA_KEYERR_SERVICE_CODE=103,Ze.MEDIA_KEYERR_OUTPUT_CODE=104,Ze.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,Ze.MEDIA_KEYERR_DOMAIN_CODE=106,Ze.MEDIA_KEY_MESSAGE_ERROR_CODE=107,Ze.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,Ze.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,Ze.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,Ze.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,Ze.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,Ze.KEY_SESSION_CREATED_ERROR_CODE=113,Ze.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,Ze.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",Ze.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",Ze.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",Ze.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",Ze.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",Ze.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",Ze.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",Ze.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",Ze.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",Ze.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",Ze.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",Ze.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",Ze.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",Ze.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --",Ze}return it}(L(2230).Z));var d=L(5459);const f=function Et(ft,dt,Le,it,Ze,Xe,It,Rt){(function(Zt,Bt){if(!(Zt instanceof Bt))throw new TypeError("Cannot call a class as a function")})(this,Et),this.url=ft,this.method=dt,this.responseType=Le,this.headers=it,this.withCredentials=Ze,this.messageType=Xe,this.sessionId=It,this.data=Rt},b=function Et(ft,dt,Le){(function(it,Ze){if(!(it instanceof Ze))throw new TypeError("Cannot call a class as a function")})(this,Et),this.url=ft,this.headers=dt,this.data=Le};var y=L(7855),M=L(703),x=L(3393),G=L(5448);function P(Et){return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},P(Et)}function z(Et){var ft,dt,Le,it,Ze,Xe,It,Rt,Zt,Bt,Nt,lt=(Et=Et||{}).protectionKeyController,xt=Et.protectionModel,Pt=Et.eventBus,Wt=Et.events,on=Et.debug,mn=Et.BASE64,Vt=Et.constants,gt=[],yt=Et.cmcdModel,Ct=Et.settings,zt=Et.customParametersModel;function Xt(){if(!(Pt&&Pt.hasOwnProperty("on")&&lt&&lt.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function fn(bt,Kt){Rt||Zt?Rt&&hn():function(Jt,Cn){if(!Zt){Zt=!0;var In,Zn=[];Jt=Jt.sort(function(Fn,wn){return(Ze&&Ze[Fn.ks.systemString]&&Ze[Fn.ks.systemString].priority>=0?Ze[Fn.ks.systemString].priority:Jt.length)-(Ze&&Ze[wn.ks.systemString]&&Ze[wn.ks.systemString].priority>=0?Ze[wn.ks.systemString].priority:Jt.length)});for(var vn=0;vn<Jt.length;vn++){var Jn=Er(Jt[vn]);Zn.push({ks:Jt[vn].ks,configs:[Jn],protData:Jt[vn].protData})}xt.requestKeySystemAccess(Zn).then(function(Fn){var wn=(In=Fn.data).mksa&&In.mksa.selectedSystemString?In.mksa.selectedSystemString:In.keySystem.systemString;return dt.info("DRM: KeySystem Access Granted for system string ("+wn+")!  Selecting key system..."),xt.selectKeySystem(In)}).then(function(Fn){if(Rt=Fn,Zt=!1,xt){Pt.trigger(Wt.KEY_SYSTEM_SELECTED,{data:In});var wn=Pn(Rt);wn&&wn.serverCertificate&&wn.serverCertificate.length>0&&xt.setServerCertificate(mn.decodeArray(wn.serverCertificate).buffer),hn()}}).catch(function(Fn){Rt=null,Zt=!1,Cn||Pt.trigger(Wt.KEY_SYSTEM_SELECTED,{data:null,error:new d.Z(e.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,e.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+Fn.error)})})}}(bt,Kt)}function hn(){for(var bt,Kt=0;Kt<Le.length;Kt++)for(bt=0;bt<Le[Kt].length;bt++)if(Rt===Le[Kt][bt].ks){Bn(Le[Kt][bt]);break}Le=[]}function Bn(bt){if(lt.isClearKey(Rt)&&bt.protData&&bt.protData.hasOwnProperty("clearkeys")&&Object.keys(bt.protData.clearkeys).length!==0){var Kt={kids:Object.keys(bt.protData.clearkeys)};bt.initData=new TextEncoder().encode(JSON.stringify(Kt))}bt.sessionId?jn(bt):bt.initData!==null&&Nn(bt)}function jn(bt){Xt(),xt.loadKeySession(bt)}function Nn(bt){var Kt=t.getPSSHForKeySystem(Rt,bt?bt.initData:null);if(Kt){if(function(Jt){if(!Jt)return!1;try{for(var Cn=xt.getSessions(),In=0;In<Cn.length;In++)if(Cn[In].getKeyId()===Jt)return!0;return!1}catch{return!1}}(bt.keyId)||kn(Kt))return;try{bt.initData=Kt,xt.createKeySession(bt)}catch(Jt){Pt.trigger(Wt.KEY_SESSION_CREATED,{data:null,error:new d.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+Jt.message)})}}else bt&&bt.initData?xt.createKeySession(bt):Pt.trigger(Wt.KEY_SESSION_CREATED,{data:null,error:new d.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(Rt?Rt.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function Pn(bt){if(bt){var Kt=bt.systemString;if(Ze)return Kt in Ze?Ze[Kt]:null}return null}function kn(bt){if(!bt)return!1;try{for(var Kt=xt.getAllInitData(),Jt=0;Jt<Kt.length;Jt++)if(lt.initDataEquals(bt,Kt[Jt]))return dt.debug("DRM: Ignoring initData because we have already seen it!"),!0;return!1}catch{return!1}}function Yn(bt){Xt(),bt?(xt.setMediaElement(bt),Pt.on(Wt.NEED_KEY,Ar,ft)):bt===null&&(xt.setMediaElement(bt),Pt.off(Wt.NEED_KEY,Ar,ft))}function Er(bt){var Kt=bt.protData,Jt=[],Cn=[],In=Kt&&Kt.audioRobustness&&Kt.audioRobustness.length>0?Kt.audioRobustness:It,Zn=Kt&&Kt.videoRobustness&&Kt.videoRobustness.length>0?Kt.videoRobustness:It,vn=bt.sessionType,Jn=Kt&&Kt.distinctiveIdentifier?Kt.distinctiveIdentifier:"optional",Fn=Kt&&Kt.persistentState?Kt.persistentState:vn==="temporary"?"optional":"required";return it.forEach(function(wn){wn.type===Vt.AUDIO?Jt.push(new r(wn.codec,In)):wn.type===Vt.VIDEO&&Cn.push(new r(wn.codec,Zn))}),new v(Jt,Cn,Jn,Fn,[vn])}function cr(bt){bt.error?Pt.trigger(Wt.KEY_STATUSES_CHANGED,{data:null,error:bt.error}):dt.debug("DRM: key status = "+bt.status)}function rr(bt){dt.debug("DRM: onKeyMessage");var Kt=bt.data;Pt.trigger(Wt.KEY_MESSAGE,{data:Kt});var Jt=Kt.messageType?Kt.messageType:"license-request",Cn=Kt.message,In=Kt.sessionToken,Zn=Pn(Rt),vn=lt.getLicenseServerModelInstance(Rt,Zn,Jt),Jn={sessionToken:In,messageType:Jt};if(Cn&&Cn.byteLength!==0){if(!vn)return dt.debug("DRM: License server request not required for this message (type = "+bt.data.messageType+").  Session ID = "+In.getSessionId()),void Gn(Jn);if(lt.isClearKey(Rt)){var Fn=lt.processClearKeyLicenseRequest(Rt,Zn,Cn);if(Fn&&Fn.keyPairs&&Fn.keyPairs.length>0)return dt.debug("DRM: ClearKey license request handled by application!"),Gn(Jn),void xt.updateKeySession(In,Fn)}(function(wn,er,zn){var lr=wn.sessionToken,tr=wn.messageType?wn.messageType:"license-request",gr={sessionToken:lr,messageType:tr},fr=Rt?Rt.systemString:null,kr=function(Sn,vr,ir,dr,$r){var ar=null,Jr=dr.message;if(Sn&&Sn.serverURL){var hr=Sn.serverURL;typeof hr=="string"&&hr!==""?ar=hr:P(hr)==="object"&&hr.hasOwnProperty(vr)&&(ar=hr[vr])}else if(Sn&&Sn.laURL&&Sn.laURL!=="")ar=Sn.laURL;else if(!(ar=t.getLicenseServerUrlFromMediaInfo(it,Rt.schemeIdURI))&&!lt.isClearKey(Rt)){var ei=t.getPSSHData(ir.initData);(ar=Rt.getLicenseServerURLFromInitData(ei))||(ar=dr.laURL)}return ar=$r.getServerURLFromMessage(ar,Jr,vr)}(zn,tr,lr,wn,er);if(kr){var Ir={},Rr=!1;zn&&ur(Ir,zn.httpRequestHeaders);var Zr=wn.message;ur(Ir,Rt.getRequestHeadersFromMessage(Zr)),Object.keys(Ir).forEach(function(Sn){Sn.toLowerCase()==="authorization"&&(Rr=!0)}),zn&&typeof zn.withCredentials=="boolean"&&(Rr=zn.withCredentials);var _i=function(Sn){if(xt)if(Sn.status>=200&&Sn.status<=299){var vr=M.Z.parseHttpHeaders(Sn.getAllResponseHeaders?Sn.getAllResponseHeaders():null),ir=new b(Sn.responseURL,vr,Sn.response);zr(zt.getLicenseResponseFilters(),ir).then(function(){var dr=er.getLicenseMessage(ir.data,fr,tr);dr!==null?(Gn(gr),xt.updateKeySession(lr,dr)):Fr(Sn,gr,fr,tr,er)})}else Fr(Sn,gr,fr,tr,er)},Wr=function(Sn){Gn(gr,new d.Z(e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+fr+' update, XHR aborted. status is "'+Sn.statusText+'" ('+Sn.status+"), readyState is "+Sn.readyState))},Ti=function(Sn){Gn(gr,new d.Z(e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+fr+' update, XHR error. status is "'+Sn.statusText+'" ('+Sn.status+"), readyState is "+Sn.readyState))},Xr=Rt.getLicenseRequestFromMessage(Zr),Qr=er.getHTTPMethod(tr),Ur=er.getResponseType(fr,tr),Br=zn&&!isNaN(zn.httpTimeout)?zn.httpTimeout:8e3,Si=lr.getSessionId()||null,Gr=new f(kr,Qr,Ur,Ir,Rr,tr,Si,Xr),bi=isNaN(Ct.get().streaming.retryAttempts[y.w.LICENSE])?3:Ct.get().streaming.retryAttempts[y.w.LICENSE];zr(zt.getLicenseRequestFilters(),Gr).then(function(){Kr(Gr,bi,Br,_i,Wr,Ti)})}else Gn(gr,new d.Z(e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,e.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))})(Kt,vn,Zn)}else Gn(Jn,new d.Z(e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,e.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function Gn(bt,Kt){Pt.trigger(Wt.LICENSE_REQUEST_COMPLETE,{data:bt,error:Kt})}function Kr(bt,Kt,Jt,Cn,In,Zn){var vn=new XMLHttpRequest;if(Ct.get().streaming.cmcd&&Ct.get().streaming.cmcd.enabled&&Ct.get().streaming.cmcd.mode===x.Z.CMCD_MODE_QUERY){var Jn=yt.getQueryParameter({url:bt.url,type:y.w.LICENSE});Jn&&(bt.url=M.Z.addAditionalQueryParameterToUrl(bt.url,[Jn]))}for(var Fn in vn.open(bt.method,bt.url,!0),vn.responseType=bt.responseType,vn.withCredentials=bt.withCredentials,Jt>0&&(vn.timeout=Jt),bt.headers)vn.setRequestHeader(Fn,bt.headers[Fn]);if(Ct.get().streaming.cmcd&&Ct.get().streaming.cmcd.enabled&&Ct.get().streaming.cmcd.mode===x.Z.CMCD_MODE_HEADER){var wn=yt.getHeaderParameters({url:bt.url,type:y.w.LICENSE});if(wn)for(var er in wn){var zn=wn[er];zn&&vn.setRequestHeader(er,zn)}}var lr=function(){Kt--;var tr=isNaN(Ct.get().streaming.retryIntervals[y.w.LICENSE])?1e3:Ct.get().streaming.retryIntervals[y.w.LICENSE];Nt=setTimeout(function(){Kr(bt,Kt,Jt,Cn,In,Zn)},tr)};vn.onload=function(){Bt=null,this.status>=200&&this.status<=299||Kt<=0?Cn(this):(dt.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+Kt),lr())},vn.ontimeout=vn.onerror=function(){Bt=null,Kt<=0?Zn(this):(dt.warn("License request network request failed . Retrying it... Pending retries: "+Kt),lr())},vn.onabort=function(){In(this)},Pt.trigger(Wt.LICENSE_REQUEST_SENDING,{url:bt.url,headers:bt.headers,payload:bt.data,sessionId:bt.sessionId}),Bt=vn,vn.send(bt.data)}function xr(){Bt&&(Bt.onloadend=Bt.onerror=Bt.onprogress=void 0,Bt.abort(),Bt=null),Nt&&(clearTimeout(Nt),Nt=null)}function ur(bt,Kt){if(Kt)for(var Jt in Kt)bt[Jt]=Kt[Jt]}function Fr(bt,Kt,Jt,Cn,In){var Zn="NONE",vn=null;bt.response&&(Zn=In.getErrorResponse(bt.response,Jt,Cn),vn={serverResponse:bt.response||null,responseCode:bt.status||null,responseText:bt.statusText||null}),Gn(Kt,new d.Z(e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,e.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+Jt+' update, XHR complete. status is "'+bt.statusText+'" ('+bt.status+"), readyState is "+bt.readyState+".  Response is "+Zn,vn))}function zr(bt,Kt){return bt?bt.reduce(function(Jt,Cn){return Jt.then(function(){return Cn(Kt)})},Promise.resolve()):Promise.resolve()}function Ar(bt,Kt){if(!Ct.get().streaming.protection.ignoreEmeEncryptedEvent){if(dt.debug("DRM: onNeedKey"),bt.key.initDataType!=="cenc")return void dt.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+bt.key.initDataType);if(it.length===0&&(dt.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(Kt=Kt===void 0?1:Kt+1)<5))return void gt.push(setTimeout(function(){Ar(bt,Kt)},500));var Jt=bt.key.initData;if(ArrayBuffer.isView(Jt)&&(Jt=Jt.buffer),Rt){var Cn=t.getPSSHForKeySystem(Rt,Jt);if(Cn&&kn(Cn))return}dt.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(Jt)));var In=lt.getSupportedKeySystemsFromSegmentPssh(Jt,Ze,Xe);if(In.length===0)return void dt.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");(function(Zn){Le.push(Zn),fn(Zn,!1)})(In)}}return ft={initializeForMedia:function(bt){if(!bt)throw new Error("mediaInfo can not be null or undefined");Xt(),it.push(bt)},clearMediaInfoArray:function(){it=[]},handleKeySystemFromManifest:function(){if(it&&it.length!==0){var bt=[];it.forEach(function(Kt){var Jt=lt.getSupportedKeySystemsFromContentProtection(Kt.contentProtection,Ze,Xe);Jt.length>0&&(bt.length===0&&(bt=Jt),Le.push(Jt))}),bt&&bt.length>0&&fn(bt,!0)}},createKeySession:Nn,loadKeySession:jn,removeKeySession:function(bt){Xt(),xt.removeKeySession(bt)},closeKeySession:function(bt){Xt(),xt.closeKeySession(bt)},setServerCertificate:function(bt){Xt(),xt.setServerCertificate(bt)},setMediaElement:Yn,setSessionType:function(bt){Xe=bt},setRobustnessLevel:function(bt){It=bt},setProtectionData:function(bt){Ze=bt,lt.setProtectionData(bt)},getSupportedKeySystemsFromContentProtection:function(bt){return Xt(),lt.getSupportedKeySystemsFromContentProtection(bt,Ze,Xe)},getKeySystems:function(){return lt?lt.getKeySystems():[]},setKeySystems:function(bt){lt&&lt.setKeySystems(bt)},stop:function(){xr(),xt&&xt.stop()},reset:function(){Pt.off(Wt.INTERNAL_KEY_MESSAGE,rr,ft),Pt.off(Wt.INTERNAL_KEY_STATUS_CHANGED,cr,ft),Xt(),xr(),Yn(null),Rt=null,Zt=!1,xt&&(xt.reset(),xt=null),gt.forEach(function(bt){return clearTimeout(bt)}),gt=[],it=[],Le=[]}},dt=on.getLogger(ft),Le=[],it=[],Xe="temporary",It="",Bt=null,Nt=null,Pt.on(Wt.INTERNAL_KEY_MESSAGE,rr,ft),Pt.on(Wt.INTERNAL_KEY_STATUS_CHANGED,cr,ft),ft}z.__dashjs_factory_name="ProtectionController";const V=G.Z.getClassFactory(z),he=function Et(ft,dt){(function(Le,it){if(!(Le instanceof it))throw new TypeError("Cannot call a class as a function")})(this,Et),this.keyID=ft,this.key=dt};function pe(Et,ft){for(var dt=0;dt<ft.length;dt++){var Le=ft[dt];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Et,Le.key,Le)}}const Ke=function(){function Et(Le,it){if(function(Ze,Xe){if(!(Ze instanceof Xe))throw new TypeError("Cannot call a class as a function")}(this,Et),it&&it!=="persistent"&&it!=="temporary")throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=Le,this.type=it}var ft,dt;return ft=Et,(dt=[{key:"toJWK",value:function(){var Le,it=this.keyPairs.length,Ze={keys:[]};for(Le=0;Le<it;Le++){var Xe={kty:"oct",alg:"A128KW",kid:this.keyPairs[Le].keyID,k:this.keyPairs[Le].key};Ze.keys.push(Xe)}this.type&&(Ze.type=this.type);var It=JSON.stringify(Ze),Rt=It.length,Zt=new ArrayBuffer(Rt),Bt=new Uint8Array(Zt);for(Le=0;Le<Rt;Le++)Bt[Le]=It.charCodeAt(Le);return Zt}}])&&pe(ft.prototype,dt),Et}();function xe(Et,ft){for(var dt=0;dt<ft.length;dt++){var Le=ft[dt];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(Et,Le.key,Le)}}const ae=new(function(){function Et(){(function(Le,it){if(!(Le instanceof it))throw new TypeError("Cannot call a class as a function")})(this,Et),this.init()}var ft,dt;return ft=Et,(dt=[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready",this.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING="com.microsoft.playready.recommendation",this.INITIALIZATION_DATA_TYPE_CENC="cenc",this.INITIALIZATION_DATA_TYPE_KEYIDS="keyids",this.INITIALIZATION_DATA_TYPE_WEBM="webm"}}])&&xe(ft.prototype,dt),Et}());var pt="e2719d58-a985-b3c9-781a-b030af78d30e",Te=ae.CLEARKEY_KEYSTEM_STRING,qe="urn:uuid:"+pt;function ye(Et){var ft=(Et=Et||{}).BASE64;return{uuid:pt,schemeIdURI:qe,systemString:Te,getInitData:function(dt,Le){try{var it=t.parseInitDataFromContentProtection(dt,ft);if(!it&&Le){var Ze={kids:[function(Xe){try{var It=Xe.replace(/-/g,"");return(It=btoa(It.match(/\w{2}/g).map(function(Rt){return String.fromCharCode(parseInt(Rt,16))}).join(""))).replace(/=/g,"").replace(/\//g,"_").replace(/\+/g,"-")}catch{return null}}(Le["cenc:default_KID"])]};it=new TextEncoder().encode(JSON.stringify(Ze))}return it}catch{return null}},getRequestHeadersFromMessage:function(){return{"Content-Type":"application/json"}},getLicenseRequestFromMessage:function(dt){return JSON.stringify(JSON.parse(String.fromCharCode.apply(null,new Uint8Array(dt))))},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(dt,Le){var it=null;if(dt){for(var Ze=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Le))),Xe=[],It=0;It<Ze.kids.length;It++){var Rt=Ze.kids[It],Zt=dt.clearkeys&&dt.clearkeys.hasOwnProperty(Rt)?dt.clearkeys[Rt]:null;if(!Zt)throw new Error("DRM: ClearKey keyID ("+Rt+") is not known!");Xe.push(new he(Rt,Zt))}it=new Ke(Xe)}return it}}}ye.__dashjs_factory_name="KeySystemClearKey";const be=dashjs.FactoryMaker.getSingletonFactory(ye);var Ve="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",tt=ae.CLEARKEY_KEYSTEM_STRING,rt="urn:uuid:"+Ve;function _e(Et){var ft,dt=Et.BASE64,Le=Et.debug.getLogger(ft);return{uuid:Ve,schemeIdURI:rt,systemString:tt,getInitData:function(it){return t.parseInitDataFromContentProtection(it,dt)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(it){return new Uint8Array(it)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getClearKeysFromProtectionData:function(it,Ze){var Xe=null;if(it){for(var It=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(Ze))),Rt=[],Zt=0;Zt<It.kids.length;Zt++){var Bt=It.kids[Zt],Nt=it.clearkeys&&it.clearkeys.hasOwnProperty(Bt)?it.clearkeys[Bt]:null;if(!Nt)throw new Error("DRM: ClearKey keyID ("+Bt+") is not known!");Rt.push(new he(Bt,Nt))}Xe=new Ke(Rt),Le.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return Xe}}}_e.__dashjs_factory_name="KeySystemW3CClearKey";const Fe=dashjs.FactoryMaker.getSingletonFactory(_e);var $e="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Re=ae.WIDEVINE_KEYSTEM_STRING,Me="urn:uuid:"+$e;function fe(Et){var ft=(Et=Et||{}).BASE64;return{uuid:$e,schemeIdURI:Me,systemString:Re,getInitData:function(dt){return t.parseInitDataFromContentProtection(dt,ft)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(dt){return new Uint8Array(dt)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null}}}fe.__dashjs_factory_name="KeySystemWidevine";const B=dashjs.FactoryMaker.getSingletonFactory(fe);var te="9a04f079-9840-4286-ab92-e65be0885f95",n=ae.PLAYREADY_KEYSTEM_STRING,l="urn:uuid:"+te;function A(Et){var ft="utf-16",dt=(Et=Et||{}).BASE64,Le=Et.settings;function it(){if(!dt||!dt.hasOwnProperty("decodeArray")||!dt.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:te,schemeIdURI:l,systemString:n,getInitData:function(Ze){var Xe,It,Rt,Zt,Bt,Nt=new Uint8Array([112,115,115,104,0,0,0,0]),lt=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),xt=0,Pt=null;if(it(),!Ze)return null;if("pssh"in Ze)return t.parseInitDataFromContentProtection(Ze,dt);if("pro"in Ze)Pt=dt.decodeArray(Ze.pro.__text);else{if(!("prheader"in Ze))return null;Pt=dt.decodeArray(Ze.prheader.__text)}return Xe=Pt.length,It=4+Nt.length+lt.length+4+Xe,Rt=new ArrayBuffer(It),Zt=new Uint8Array(Rt),(Bt=new DataView(Rt)).setUint32(xt,It),xt+=4,Zt.set(Nt,xt),xt+=Nt.length,Zt.set(lt,xt),xt+=lt.length,Bt.setUint32(xt,Xe),xt+=4,Zt.set(Pt,xt),xt+=Xe,Zt.buffer},getRequestHeadersFromMessage:function(Ze){var Xe,It,Rt={},Zt=new DOMParser;if(Le&&Le.get().streaming.protection.detectPlayreadyMessageFormat&&ft==="utf-16"&&Ze&&Ze.byteLength%2==1)return Rt["Content-Type"]="text/xml; charset=utf-8",Rt;var Bt=ft==="utf-16"?new Uint16Array(Ze):new Uint8Array(Ze);Xe=String.fromCharCode.apply(null,Bt);for(var Nt=(It=Zt.parseFromString(Xe,"application/xml")).getElementsByTagName("name"),lt=It.getElementsByTagName("value"),xt=0;xt<Nt.length;xt++)Rt[Nt[xt].childNodes[0].nodeValue]=lt[xt].childNodes[0].nodeValue;return Rt.hasOwnProperty("Content")&&(Rt["Content-Type"]=Rt.Content,delete Rt.Content),Rt.hasOwnProperty("Content-Type")||(Rt["Content-Type"]="text/xml; charset=utf-8"),Rt},getLicenseRequestFromMessage:function(Ze){var Xe=null,It=new DOMParser;if(Le&&Le.get().streaming.protection.detectPlayreadyMessageFormat&&ft==="utf-16"&&Ze&&Ze.byteLength%2==1)return Ze;var Rt=ft==="utf-16"?new Uint16Array(Ze):new Uint8Array(Ze);it();var Zt=String.fromCharCode.apply(null,Rt),Bt=It.parseFromString(Zt,"application/xml");if(!Bt.getElementsByTagName("PlayReadyKeyMessage")[0])return Ze;var Nt=Bt.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;return Nt&&(Xe=dt.decode(Nt)),Xe},getLicenseServerURLFromInitData:function(Ze){if(Ze)for(var Xe=new DataView(Ze),It=Xe.getUint16(4,!0),Rt=6,Zt=new DOMParser,Bt=0;Bt<It;Bt++){var Nt=Xe.getUint16(Rt,!0);Rt+=2;var lt=Xe.getUint16(Rt,!0);if(Rt+=2,Nt===1){var xt=Ze.slice(Rt,Rt+lt),Pt=String.fromCharCode.apply(null,new Uint16Array(xt)),Wt=Zt.parseFromString(Pt,"application/xml");if(Wt.getElementsByTagName("LA_URL")[0]){var on=Wt.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(on)return on}if(Wt.getElementsByTagName("LUI_URL")[0]){var mn=Wt.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(mn)return mn}}else Rt+=lt}return null},getCDMData:function(Ze){var Xe,It,Rt,Zt;if(it(),!Ze)return null;for(Xe=[],Zt=0;Zt<Ze.length;++Zt)Xe.push(Ze.charCodeAt(Zt)),Xe.push(0);for(Xe=String.fromCharCode.apply(null,Xe),Xe=dt.encode(Xe),It='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",Xe),Rt=[],Zt=0;Zt<It.length;++Zt)Rt.push(It.charCodeAt(Zt)),Rt.push(0);return new Uint8Array(Rt).buffer},setPlayReadyMessageFormat:function(Ze){if(Ze!=="utf-8"&&Ze!=="utf-16")throw new Error('Specified message format is not one of "utf-8" or "utf-16"');ft=Ze}}}A.__dashjs_factory_name="KeySystemPlayReady";const N=dashjs.FactoryMaker.getSingletonFactory(A);function ie(Et){var ft=(Et=Et||{}).BASE64,dt={};return dt[ae.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(Le){return ft.decodeArray(Le.license)},getErrorResponse:function(Le){return Le}},dt[ae.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(Le){return Le},getErrorResponse:function(Le){return String.fromCharCode.apply(null,new Uint8Array(Le))}},{getServerURLFromMessage:function(Le){return Le},getHTTPMethod:function(){return"POST"},getResponseType:function(Le){return dt[Le].responseType},getLicenseMessage:function(Le,it){return function(){if(!ft||!ft.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}(),dt[it].getLicenseMessage(Le)},getErrorResponse:function(Le,it){return dt[it].getErrorResponse(Le)}}}ie.__dashjs_factory_name="DRMToday";const ue=dashjs.FactoryMaker.getSingletonFactory(ie);function me(){var Et="http://schemas.xmlsoap.org/soap/envelope/";function ft(it){var Ze=String.fromCharCode.apply(null,new Uint8Array(it));return decodeURIComponent(escape(Ze))}function dt(it){if(window.DOMParser){var Ze=ft(it),Xe=new window.DOMParser().parseFromString(Ze,"text/xml"),It=Xe?Xe.getElementsByTagNameNS(Et,"Envelope")[0]:null,Rt=It?It.getElementsByTagNameNS(Et,"Body")[0]:null;if(Rt&&Rt.getElementsByTagNameNS(Et,"Fault")[0])return null}return it}function Le(it){var Ze="",Xe="",It="",Rt=-1,Zt=-1;if(window.DOMParser){var Bt=ft(it),Nt=new window.DOMParser().parseFromString(Bt,"text/xml"),lt=Nt?Nt.getElementsByTagNameNS(Et,"Envelope")[0]:null,xt=lt?lt.getElementsByTagNameNS(Et,"Body")[0]:null,Pt=xt?xt.getElementsByTagNameNS(Et,"Fault")[0]:null,Wt=Pt?Pt.getElementsByTagName("detail")[0]:null,on=Wt?Wt.getElementsByTagName("Exception")[0]:null,mn=null;if(Pt===null)return Bt;Ze=(mn=Pt.getElementsByTagName("faultstring")[0].firstChild)?mn.nodeValue:null,on!==null&&(Xe=(mn=on.getElementsByTagName("StatusCode")[0])?mn.firstChild.nodeValue:null,Rt=(It=(mn=on.getElementsByTagName("Message")[0])?mn.firstChild.nodeValue:null)?It.lastIndexOf("[")+1:-1,Zt=It?It.indexOf("]"):-1,It=It?It.substring(Rt,Zt):"")}var Vt="code: ".concat(Xe,", name: ").concat(Ze);return It&&(Vt+=", message: ".concat(It)),Vt}return{getServerURLFromMessage:function(it){return it},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(it){return dt.call(this,it)},getErrorResponse:function(it){return Le.call(this,it)}}}me.__dashjs_factory_name="PlayReady";const Pe=G.Z.getSingletonFactory(me);function He(){return{getServerURLFromMessage:function(Et){return Et},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(Et){return Et},getErrorResponse:function(Et){return String.fromCharCode.apply(null,new Uint8Array(Et))}}}He.__dashjs_factory_name="Widevine";const ze=dashjs.FactoryMaker.getSingletonFactory(He);function Qe(){return{getServerURLFromMessage:function(Et){return Et},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"json"},getLicenseMessage:function(Et){if(!Et.hasOwnProperty("keys"))return null;for(var ft=[],dt=0;dt<Et.keys.length;dt++){var Le=Et.keys[dt],it=Le.kid.replace(/=/g,""),Ze=Le.k.replace(/=/g,"");ft.push(new he(it,Ze))}return new Ke(ft)},getErrorResponse:function(Et){return String.fromCharCode.apply(null,new Uint8Array(Et))}}}Qe.__dashjs_factory_name="ClearKey";const we=dashjs.FactoryMaker.getSingletonFactory(Qe);function ut(){var Et,ft,dt,Le,it,Ze,Xe,It,Rt=this.context;function Zt(lt,xt){return xt&&lt in xt?xt[lt]:null}function Bt(lt,xt){return lt&&lt.sessionId?lt.sessionId:xt&&xt.sessionId?xt.sessionId:null}function Nt(lt,xt){return lt&&lt.sessionType?lt.sessionType:xt}return Et={initialize:function(){var lt;Le=[],lt=N(Rt).getInstance({BASE64:it,settings:Ze}),Le.push(lt),lt=B(Rt).getInstance({BASE64:it}),Le.push(lt),lt=be(Rt).getInstance({BASE64:it}),Le.push(lt),Xe=lt,lt=Fe(Rt).getInstance({BASE64:it,debug:ft}),Le.push(lt),It=lt},setProtectionData:function(lt){for(var xt,Pt,Wt=0;Wt<Le.length;Wt++){var on=Le[Wt];on.hasOwnProperty("init")&&on.init((xt=on.systemString,Pt=void 0,Pt=null,lt&&(Pt=xt in lt?lt[xt]:null),Pt))}},isClearKey:function(lt){return lt===Xe||lt===It},initDataEquals:function(lt,xt){if(lt.byteLength===xt.byteLength){for(var Pt=new Uint8Array(lt),Wt=new Uint8Array(xt),on=0;on<Pt.length;on++)if(Pt[on]!==Wt[on])return!1;return!0}return!1},getKeySystems:function(){return Le},setKeySystems:function(lt){Le=lt},getKeySystemBySystemString:function(lt){for(var xt=0;xt<Le.length;xt++)if(Le[xt].systemString===lt)return Le[xt];return null},getSupportedKeySystemsFromContentProtection:function(lt,xt,Pt){var Wt,on,mn,Vt,gt=[];if(lt){var yt=t.findCencContentProtection(lt);for(mn=0;mn<Le.length;++mn){var Ct=Zt((on=Le[mn]).systemString,xt);for(Vt=0;Vt<lt.length;++Vt)if((Wt=lt[Vt]).schemeIdUri.toLowerCase()===on.schemeIdURI){var zt=on.getInitData(Wt,yt);gt.push({ks:Le[mn],keyId:Wt.keyId,initData:zt,protData:Ct,cdmData:on.getCDMData(Ct?Ct.cdmData:null),sessionId:Bt(Ct,Wt),sessionType:Nt(Ct,Pt)})}}}return gt},getSupportedKeySystemsFromSegmentPssh:function(lt,xt,Pt){for(var Wt,on=[],mn=t.parsePSSHList(lt),Vt=0;Vt<Le.length;++Vt){var gt=Zt((Wt=Le[Vt]).systemString,xt);Wt.uuid in mn&&on.push({ks:Wt,initData:mn[Wt.uuid],protData:gt,cdmData:Wt.getCDMData(gt?gt.cdmData:null),sessionId:Bt(gt),sessionType:Nt(gt,Pt)})}return on},getLicenseServerModelInstance:function(lt,xt,Pt){if(Pt==="license-release"||Pt==="individualization-request")return null;var Wt=null;return xt&&xt.hasOwnProperty("drmtoday")?Wt=ue(Rt).getInstance({BASE64:it}):lt.systemString===ae.WIDEVINE_KEYSTEM_STRING?Wt=ze(Rt).getInstance():lt.systemString===ae.PLAYREADY_KEYSTEM_STRING?Wt=Pe(Rt).getInstance():lt.systemString===ae.CLEARKEY_KEYSTEM_STRING&&(Wt=we(Rt).getInstance()),Wt},processClearKeyLicenseRequest:function(lt,xt,Pt){try{return lt.getClearKeysFromProtectionData(xt,Pt)}catch{return dt.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(lt){lt&&(lt.debug&&(ft=lt.debug,dt=ft.getLogger(Et)),lt.BASE64&&(it=lt.BASE64),lt.settings&&(Ze=lt.settings))}},Et}ut.__dashjs_factory_name="ProtectionKeyController";const wt=dashjs.FactoryMaker.getSingletonFactory(ut);function Dt(Et){return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft},Dt(Et)}function Ut(Et,ft){return Ut=Object.setPrototypeOf||function(dt,Le){return dt.__proto__=Le,dt},Ut(Et,ft)}function qt(Et,ft){return!ft||Dt(ft)!=="object"&&typeof ft!="function"?function(dt){if(dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dt}(Et):ft}function Ht(Et){return Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(ft){return ft.__proto__||Object.getPrototypeOf(ft)},Ht(Et)}const sn=new(function(Et){(function(Ze,Xe){if(typeof Xe!="function"&&Xe!==null)throw new TypeError("Super expression must either be null or a function");Ze.prototype=Object.create(Xe&&Xe.prototype,{constructor:{value:Ze,writable:!0,configurable:!0}}),Xe&&Ut(Ze,Xe)})(it,Et);var ft,dt,Le=(ft=it,dt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ze,Xe=Ht(ft);if(dt){var It=Ht(this).constructor;Ze=Reflect.construct(Xe,arguments,It)}else Ze=Xe.apply(this,arguments);return qt(this,Ze)});function it(){var Ze;return function(Xe,It){if(!(Xe instanceof It))throw new TypeError("Cannot call a class as a function")}(this,it),(Ze=Le.call(this)).INTERNAL_KEY_MESSAGE="internalKeyMessage",Ze.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",Ze.KEY_ADDED="public_keyAdded",Ze.KEY_ERROR="public_keyError",Ze.KEY_MESSAGE="public_keyMessage",Ze.KEY_SESSION_CLOSED="public_keySessionClosed",Ze.KEY_SESSION_CREATED="public_keySessionCreated",Ze.KEY_SESSION_REMOVED="public_keySessionRemoved",Ze.KEY_STATUSES_CHANGED="public_keyStatusesChanged",Ze.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",Ze.KEY_SYSTEM_SELECTED="public_keySystemSelected",Ze.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",Ze.LICENSE_REQUEST_SENDING="public_licenseRequestSending",Ze.NEED_KEY="needkey",Ze.PROTECTION_CREATED="public_protectioncreated",Ze.PROTECTION_DESTROYED="public_protectiondestroyed",Ze.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",Ze.TEARDOWN_COMPLETE="protectionTeardownComplete",Ze.VIDEO_ELEMENT_SELECTED="videoElementSelected",Ze.KEY_SESSION_UPDATED="public_keySessionUpdated",Ze}return it}(L(8342).Z)),gn=function Et(ft,dt){(function(Le,it){if(!(Le instanceof it))throw new TypeError("Cannot call a class as a function")})(this,Et),this.initData=ft,this.initDataType=dt},bn=function Et(ft,dt,Le,it){(function(Ze,Xe){if(!(Ze instanceof Xe))throw new TypeError("Cannot call a class as a function")})(this,Et),this.sessionToken=ft,this.message=dt,this.defaultURL=Le,this.messageType=it||"license-request"},On=function Et(ft,dt){(function(Le,it){if(!(Le instanceof it))throw new TypeError("Cannot call a class as a function")})(this,Et),this.keySystem=ft,this.ksConfiguration=dt};var An={};function _n(Et){Et=Et||{};var ft,dt,Le,it,Ze,Xe,It,Rt,Zt=this.context,Bt=Et.eventBus,Nt=Et.events,lt=Et.debug;function xt(gt,yt,Ct,zt){if(navigator.requestMediaKeySystemAccess===void 0||typeof navigator.requestMediaKeySystemAccess!="function"){var Xt="Insecure origins are not allowed";return Bt.trigger(Nt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Xt}),void zt({error:Xt})}var fn=gt[yt].protData&&gt[yt].protData.systemStringPriority?gt[yt].protData.systemStringPriority:null,hn=gt[yt].configs,Bn=gt[yt].ks,jn=Bn.systemString;(function(Nn,Pn){return new Promise(function(kn,Yn){Pt(Nn,Pn,0,kn,Yn)})})(fn||(An[jn]?An[jn]:[jn]),hn).then(function(Nn){var Pn=typeof Nn.getConfiguration=="function"?Nn.getConfiguration():null,kn=new On(Bn,Pn);kn.mksa=Nn,Bt.trigger(Nt.KEY_SYSTEM_ACCESS_COMPLETE,{data:kn}),Ct({data:kn})}).catch(function(Nn){if(yt+1<gt.length)xt(gt,yt+1,Ct,zt);else{var Pn="Key system access denied! ";Bt.trigger(Nt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Pn+Nn.message}),zt({error:Pn+Nn.message})}})}function Pt(gt,yt,Ct,zt,Xt){var fn=gt[Ct];dt.debug("Requesting key system access for system string ".concat(fn)),navigator.requestMediaKeySystemAccess(fn,yt).then(function(hn){hn.selectedSystemString=fn,zt(hn)}).catch(function(hn){Ct+1<gt.length?Pt(gt,yt,Ct+1,zt,Xt):Xt(hn)})}function Wt(gt){var yt=gt.session;return yt.removeEventListener("keystatuseschange",gt),yt.removeEventListener("message",gt),yt.close()}function on(gt){for(var yt=0;yt<Xe.length;yt++)if(Xe[yt]===gt){Xe.splice(yt,1);break}}function mn(gt){var yt,Ct;return gt&&gt.length>0&&(gt[0]&&(typeof gt[0]=="string"?yt=gt[0]:Ct=gt[0]),gt[1]&&(typeof gt[1]=="string"?yt=gt[1]:Ct=gt[1])),{status:yt,keyId:Ct}}function Vt(gt,yt){var Ct={session:gt,keyId:yt.keyId,initData:yt.initData,sessionId:yt.sessionId,sessionType:yt.sessionType,handleEvent:function(zt){switch(zt.type){case"keystatuseschange":Bt.trigger(Nt.KEY_STATUSES_CHANGED,{data:this}),zt.target.keyStatuses.forEach(function(){var fn=mn(arguments);fn.status==="expired"?Bt.trigger(Nt.INTERNAL_KEY_STATUS_CHANGED,{error:new d.Z(e.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,e.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):Bt.trigger(Nt.INTERNAL_KEY_STATUS_CHANGED,fn)});break;case"message":var Xt=ArrayBuffer.isView(zt.message)?zt.message.buffer:zt.message;Bt.trigger(Nt.INTERNAL_KEY_MESSAGE,{data:new bn(this,Xt,void 0,zt.messageType)})}},getKeyId:function(){return this.keyId},getSessionId:function(){return gt.sessionId},getSessionType:function(){return this.sessionType},getExpirationTime:function(){return gt.expiration},getKeyStatuses:function(){return gt.keyStatuses},getUsable:function(){var zt=!1;return gt.keyStatuses.forEach(function(){var Xt=mn(arguments);Xt.status==="usable"&&(zt=!0)}),zt}};return gt.addEventListener("keystatuseschange",Ct),gt.addEventListener("message",Ct),gt.closed.then(function(){on(Ct),dt.debug("DRM: Session closed.  SessionID = "+Ct.getSessionId()),Bt.trigger(Nt.KEY_SESSION_CLOSED,{data:Ct.getSessionId()})}),Xe.push(Ct),Ct}return ft={getAllInitData:function(){for(var gt=[],yt=0;yt<Xe.length;yt++)Xe[yt].initData&&gt.push(Xe[yt].initData);return gt},getSessions:function(){return Xe},requestKeySystemAccess:function(gt){return new Promise(function(yt,Ct){xt(gt,0,yt,Ct)})},selectKeySystem:function(gt){return new Promise(function(yt,Ct){gt.mksa.createMediaKeys().then(function(zt){return Le=gt.keySystem,Ze=zt,it?it.setMediaKeys(Ze):Promise.resolve()}).then(function(){yt(Le)}).catch(function(){Ct({error:"Error selecting keys system ("+gt.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})})},setMediaElement:function(gt){it!==gt&&(it&&(it.removeEventListener("encrypted",It),it.setMediaKeys&&it.setMediaKeys(null)),(it=gt)&&(it.addEventListener("encrypted",It),it.setMediaKeys&&Ze&&it.setMediaKeys(Ze)))},setServerCertificate:function(gt){if(!Le||!Ze)throw new Error("Can not set server certificate until you have selected a key system");Ze.setServerCertificate(gt).then(function(){dt.info("DRM: License server certificate successfully updated."),Bt.trigger(Nt.SERVER_CERTIFICATE_UPDATED)}).catch(function(yt){Bt.trigger(Nt.SERVER_CERTIFICATE_UPDATED,{error:new d.Z(e.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,e.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+yt.name)})})},createKeySession:function(gt){if(!Le||!Ze)throw new Error("Can not create sessions until you have selected a key system");var yt=Ze.createSession(gt.sessionType),Ct=Vt(yt,gt),zt=Le.systemString===ae.CLEARKEY_KEYSTEM_STRING&&(gt.initData||gt.protData&&gt.protData.clearkeys)?ae.INITIALIZATION_DATA_TYPE_KEYIDS:ae.INITIALIZATION_DATA_TYPE_CENC;yt.generateRequest(zt,gt.initData).then(function(){dt.debug("DRM: Session created.  SessionID = "+Ct.getSessionId()),Bt.trigger(Nt.KEY_SESSION_CREATED,{data:Ct})}).catch(function(Xt){on(Ct),Bt.trigger(Nt.KEY_SESSION_CREATED,{data:null,error:new d.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+Xt.name)})})},updateKeySession:function(gt,yt){var Ct=gt.session;Rt.isClearKey(Le)&&(yt=yt.toJWK()),Ct.update(yt).then(function(){Bt.trigger(Nt.KEY_SESSION_UPDATED)}).catch(function(zt){Bt.trigger(Nt.KEY_ERROR,{error:new d.Z(e.MEDIA_KEYERR_CODE,"Error sending update() message! "+zt.name,gt)})})},loadKeySession:function(gt){if(!Le||!Ze)throw new Error("Can not load sessions until you have selected a key system");for(var yt=gt.sessionId,Ct=0;Ct<Xe.length;Ct++)if(yt===Xe[Ct].sessionId)return void dt.warn("DRM: Ignoring session ID because we have already seen it!");var zt=Ze.createSession(gt.sessionType),Xt=Vt(zt,gt);zt.load(yt).then(function(fn){fn?(dt.debug("DRM: Session loaded.  SessionID = "+Xt.getSessionId()),Bt.trigger(Nt.KEY_SESSION_CREATED,{data:Xt})):(on(Xt),Bt.trigger(Nt.KEY_SESSION_CREATED,{data:null,error:new d.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+yt+")")}))}).catch(function(fn){on(Xt),Bt.trigger(Nt.KEY_SESSION_CREATED,{data:null,error:new d.Z(e.KEY_SESSION_CREATED_ERROR_CODE,e.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+yt+")! "+fn.name)})})},removeKeySession:function(gt){gt.session.remove().then(function(){dt.debug("DRM: Session removed.  SessionID = "+gt.getSessionId()),Bt.trigger(Nt.KEY_SESSION_REMOVED,{data:gt.getSessionId()})},function(yt){Bt.trigger(Nt.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+gt.getSessionId()+"). "+yt.name})})},closeKeySession:function(gt){Wt(gt).catch(function(yt){on(gt),Bt.trigger(Nt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+gt.getSessionId()+") "+yt.name})})},stop:function(){for(var gt,yt=0;yt<Xe.length;yt++)(gt=Xe[yt]).getUsable()||Wt(gt).catch(function(){on(gt)})},reset:function(){var gt,yt=Xe.length;yt!==0?function(){for(var Ct=function(Xt){on(Xt),Xe.length===0&&(it?(it.removeEventListener("encrypted",It),it.setMediaKeys(null).then(function(){Bt.trigger(Nt.TEARDOWN_COMPLETE)})):Bt.trigger(Nt.TEARDOWN_COMPLETE))},zt=0;zt<yt;zt++)(function(Xt){gt.session.closed.then(function(){Ct(Xt)}),Wt(gt).catch(function(){Ct(Xt)})})(gt=Xe[zt])}():Bt.trigger(Nt.TEARDOWN_COMPLETE)}},dt=lt.getLogger(ft),Le=null,it=null,Ze=null,Xe=[],Rt=wt(Zt).getInstance(),It={handleEvent:function(gt){if(gt.type==="encrypted"&&gt.initData){var yt=ArrayBuffer.isView(gt.initData)?gt.initData.buffer:gt.initData;Bt.trigger(Nt.NEED_KEY,{key:new gn(yt,gt.initDataType)})}}},ft}An[ae.PLAYREADY_KEYSTEM_STRING]=[ae.PLAYREADY_KEYSTEM_STRING,ae.PLAYREADY_RECOMMENDATION_KEYSTEM_STRING],An[ae.WIDEVINE_KEYSTEM_STRING]=[ae.WIDEVINE_KEYSTEM_STRING],An[ae.CLEARKEY_KEYSTEM_STRING]=[ae.CLEARKEY_KEYSTEM_STRING],_n.__dashjs_factory_name="ProtectionModel_21Jan2015";const Hn=dashjs.FactoryMaker.getClassFactory(_n);function Tn(Et){Et=Et||{};var ft,dt,Le,it,Ze,Xe,It,Rt,Zt,Bt=this.context,Nt=Et.eventBus,lt=Et.events,xt=Et.debug,Pt=Et.api;function Wt(){try{for(var Vt=0;Vt<It.length;Vt++)on(It[Vt]);Le&&Le.removeEventListener(Pt.needkey,Rt),Nt.trigger(lt.TEARDOWN_COMPLETE)}catch(gt){Nt.trigger(lt.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+gt.message})}}function on(Vt){var gt=Vt.session;gt.removeEventListener(Pt.error,Vt),gt.removeEventListener(Pt.message,Vt),gt.removeEventListener(Pt.ready,Vt),gt.removeEventListener(Pt.close,Vt);for(var yt=0;yt<It.length;yt++)if(It[yt]===Vt){It.splice(yt,1);break}gt[Pt.release]()}function mn(){var Vt=null,gt=function(){Le.removeEventListener("loadedmetadata",Vt),Le[Pt.setMediaKeys](Ze),Nt.trigger(lt.VIDEO_ELEMENT_SELECTED)};Le.readyState>=1?gt():(Vt=gt.bind(this),Le.addEventListener("loadedmetadata",Vt))}return ft={getAllInitData:function(){for(var Vt=[],gt=0;gt<It.length;gt++)Vt.push(It[gt].initData);return Vt},getSessions:function(){return It},requestKeySystemAccess:function(Vt){return new Promise(function(gt,yt){for(var Ct=!1,zt=0;zt<Vt.length;zt++)for(var Xt=Vt[zt].ks.systemString,fn=Vt[zt].configs,hn=null,Bn=null,jn=0;jn<fn.length;jn++){var Nn=fn[jn].audioCapabilities,Pn=fn[jn].videoCapabilities;if(Nn&&Nn.length!==0){hn=[];for(var kn=0;kn<Nn.length;kn++)window[Pt.MediaKeys].isTypeSupported(Xt,Nn[kn].contentType)&&hn.push(Nn[kn])}if(Pn&&Pn.length!==0){Bn=[];for(var Yn=0;Yn<Pn.length;Yn++)window[Pt.MediaKeys].isTypeSupported(Xt,Pn[Yn].contentType)&&Bn.push(Pn[Yn])}if(!(!hn&&!Bn||hn&&hn.length===0||Bn&&Bn.length===0)){Ct=!0;var Er=new v(hn,Bn),cr=Zt.getKeySystemBySystemString(Xt),rr=new On(cr,Er);Nt.trigger(lt.KEY_SYSTEM_ACCESS_COMPLETE,{data:rr}),gt({data:rr});break}}if(!Ct){var Gn="Key system access denied! -- No valid audio/video content configurations detected!";Nt.trigger(lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Gn}),yt({error:Gn})}})},selectKeySystem:function(Vt){return new Promise(function(gt,yt){try{Ze=Vt.mediaKeys=new window[Pt.MediaKeys](Vt.keySystem.systemString),it=Vt.keySystem,Xe=Vt,Le&&mn(),gt(it)}catch{yt({error:"Error selecting keys system ("+it.systemString+")! Could not create MediaKeys -- TODO"})}})},setMediaElement:function(Vt){Le!==Vt&&(Le&&Le.removeEventListener(Pt.needkey,Rt),(Le=Vt)&&(Le.addEventListener(Pt.needkey,Rt),Ze&&mn()))},createKeySession:function(Vt){if(!it||!Ze||!Xe)throw new Error("Can not create sessions until you have selected a key system");var gt=null;if(Xe.ksConfiguration.videoCapabilities&&Xe.ksConfiguration.videoCapabilities.length>0&&(gt=Xe.ksConfiguration.videoCapabilities[0]),gt===null&&Xe.ksConfiguration.audioCapabilities&&Xe.ksConfiguration.audioCapabilities.length>0&&(gt=Xe.ksConfiguration.audioCapabilities[0]),gt===null)throw new Error("Can not create sessions for unknown content types.");var yt=gt.contentType,Ct=Ze.createSession(yt,new Uint8Array(Vt.initData),Vt.cdmData?new Uint8Array(Vt.cdmData):null),zt=function(Xt,fn){return{session:Xt,keyId:fn.keyId,initData:fn.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(hn){switch(hn.type){case Pt.error:Nt.trigger(lt.KEY_ERROR,{error:new d.Z(e.MEDIA_KEYERR_CODE,"KeyError",this)});break;case Pt.message:var Bn=ArrayBuffer.isView(hn.message)?hn.message.buffer:hn.message;Nt.trigger(lt.INTERNAL_KEY_MESSAGE,{data:new bn(this,Bn,hn.destinationURL)});break;case Pt.ready:dt.debug("DRM: Key added."),Nt.trigger(lt.KEY_ADDED);break;case Pt.close:dt.debug("DRM: Session closed.  SessionID = "+this.getSessionId()),Nt.trigger(lt.KEY_SESSION_CLOSED,{data:this.getSessionId()})}}}}(Ct,Vt);Ct.addEventListener(Pt.error,zt),Ct.addEventListener(Pt.message,zt),Ct.addEventListener(Pt.ready,zt),Ct.addEventListener(Pt.close,zt),It.push(zt),dt.debug("DRM: Session created.  SessionID = "+zt.getSessionId()),Nt.trigger(lt.KEY_SESSION_CREATED,{data:zt})},updateKeySession:function(Vt,gt){var yt=Vt.session;Zt.isClearKey(it)?yt.update(new Uint8Array(gt.toJWK())):yt.update(new Uint8Array(gt)),Nt.trigger(lt.KEY_SESSION_UPDATED)},closeKeySession:on,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:Wt,reset:Wt},dt=xt.getLogger(ft),Le=null,it=null,Ze=null,Xe=null,It=[],Zt=wt(Bt).getInstance(),Rt={handleEvent:function(Vt){if(Vt.type===Pt.needkey&&Vt.initData){var gt=ArrayBuffer.isView(Vt.initData)?Vt.initData.buffer:Vt.initData;Nt.trigger(lt.NEED_KEY,{key:new gn(gt,"cenc")})}}},ft}Tn.__dashjs_factory_name="ProtectionModel_3Feb2014";const Vn=dashjs.FactoryMaker.getClassFactory(Tn);function Kn(Et){Et=Et||{};var ft,dt,Le,it,Ze,Xe,It,Rt,Zt,Bt=this.context,Nt=Et.eventBus,lt=Et.events,xt=Et.debug,Pt=Et.api,Wt=Et.errHandler;function on(){Le&&gt();for(var yt=0;yt<It.length;yt++)mn(It[yt]);Nt.trigger(lt.TEARDOWN_COMPLETE)}function mn(yt){try{Le[Pt.cancelKeyRequest](it.systemString,yt.sessionId)}catch(Ct){Nt.trigger(lt.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+yt.sessionId+") "+Ct.message})}}function Vt(yt,Ct){if(Ct&&yt){for(var zt=yt.length,Xt=0;Xt<zt;Xt++)if(yt[Xt].sessionId==Ct)return yt[Xt];return null}return null}function gt(){Le.removeEventListener(Pt.keyerror,Zt),Le.removeEventListener(Pt.needkey,Zt),Le.removeEventListener(Pt.keymessage,Zt),Le.removeEventListener(Pt.keyadded,Zt)}return ft={getAllInitData:function(){for(var yt=[],Ct=0;Ct<Xe.length;Ct++)yt.push(Xe[Ct].initData);for(var zt=0;zt<It.length;zt++)yt.push(It[zt].initData);return yt},getSessions:function(){return It.concat(Xe)},requestKeySystemAccess:function(yt){return new Promise(function(Ct,zt){var Xt=Le;Xt||(Xt=document.createElement("video"));for(var fn=!1,hn=0;hn<yt.length;hn++)for(var Bn=yt[hn].ks.systemString,jn=yt[hn].configs,Nn=null,Pn=0;Pn<jn.length;Pn++){var kn=jn[Pn].videoCapabilities;if(kn&&kn.length!==0){Nn=[];for(var Yn=0;Yn<kn.length;Yn++)Xt.canPlayType(kn[Yn].contentType,Bn)!==""&&Nn.push(kn[Yn])}if(Nn&&(!Nn||Nn.length!==0)){fn=!0;var Er=new v(null,Nn),cr=Ze.getKeySystemBySystemString(Bn),rr=new On(cr,Er);Nt.trigger(lt.KEY_SYSTEM_ACCESS_COMPLETE,{data:rr}),Ct({data:rr});break}}if(!fn){var Gn="Key system access denied! -- No valid audio/video content configurations detected!";Nt.trigger(lt.KEY_SYSTEM_ACCESS_COMPLETE,{error:Gn}),zt({error:Gn})}})},selectKeySystem:function(yt){return it=yt.keySystem,Promise.resolve(it)},setMediaElement:function(yt){if(Le!==yt){if(Le){gt();for(var Ct=0;Ct<It.length;Ct++)mn(It[Ct]);It=[]}(Le=yt)&&(Le.addEventListener(Pt.keyerror,Zt),Le.addEventListener(Pt.needkey,Zt),Le.addEventListener(Pt.keymessage,Zt),Le.addEventListener(Pt.keyadded,Zt),Nt.trigger(lt.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(yt){if(!it)throw new Error("Can not create sessions until you have selected a key system");if(Rt||It.length===0){var Ct={sessionId:null,keyId:yt.keyId,initData:yt.initData,getKeyId:function(){return this.keyId},getSessionId:function(){return this.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return Xe.push(Ct),Le[Pt.generateKeyRequest](it.systemString,new Uint8Array(yt.initData)),Ct}throw new Error("Multiple sessions not allowed!")},updateKeySession:function(yt,Ct){var zt=yt.sessionId;if(Ze.isClearKey(it))for(var Xt=0;Xt<Ct.keyPairs.length;Xt++)Le[Pt.addKey](it.systemString,Ct.keyPairs[Xt].key,Ct.keyPairs[Xt].keyID,zt);else Le[Pt.addKey](it.systemString,new Uint8Array(Ct),new Uint8Array(yt.initData),zt);Nt.trigger(lt.KEY_SESSION_UPDATED)},closeKeySession:mn,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:on,reset:on},dt=xt.getLogger(ft),Le=null,it=null,Xe=[],It=[],Ze=wt(Bt).getInstance(),Zt={handleEvent:function(yt){var Ct=null;switch(yt.type){case Pt.needkey:var zt=ArrayBuffer.isView(yt.initData)?yt.initData.buffer:yt.initData;Nt.trigger(lt.NEED_KEY,{key:new gn(zt,"cenc")});break;case Pt.keyerror:if((Ct=Vt(It,yt.sessionId))||(Ct=Vt(Xe,yt.sessionId)),Ct){var Xt=e.MEDIA_KEYERR_CODE,fn="";switch(yt.errorCode.code){case 1:Xt=e.MEDIA_KEYERR_UNKNOWN_CODE,fn+="MEDIA_KEYERR_UNKNOWN - "+e.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:Xt=e.MEDIA_KEYERR_CLIENT_CODE,fn+="MEDIA_KEYERR_CLIENT - "+e.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:Xt=e.MEDIA_KEYERR_SERVICE_CODE,fn+="MEDIA_KEYERR_SERVICE - "+e.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:Xt=e.MEDIA_KEYERR_OUTPUT_CODE,fn+="MEDIA_KEYERR_OUTPUT - "+e.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:Xt=e.MEDIA_KEYERR_HARDWARECHANGE_CODE,fn+="MEDIA_KEYERR_HARDWARECHANGE - "+e.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:Xt=e.MEDIA_KEYERR_DOMAIN_CODE,fn+="MEDIA_KEYERR_DOMAIN - "+e.MEDIA_KEYERR_DOMAIN_MESSAGE}fn+="  System Code = "+yt.systemCode,Nt.trigger(lt.KEY_ERROR,{error:new d.Z(Xt,fn,Ct)})}else dt.error("No session token found for key error");break;case Pt.keyadded:(Ct=Vt(It,yt.sessionId))||(Ct=Vt(Xe,yt.sessionId)),Ct?(dt.debug("DRM: Key added."),Nt.trigger(lt.KEY_ADDED,{data:Ct})):dt.debug("No session token found for key added");break;case Pt.keymessage:if((Rt=yt.sessionId!==null&&yt.sessionId!==void 0)?!(Ct=Vt(It,yt.sessionId))&&Xe.length>0&&(Ct=Xe.shift(),It.push(Ct),Ct.sessionId=yt.sessionId,Nt.trigger(lt.KEY_SESSION_CREATED,{data:Ct})):Xe.length>0&&(Ct=Xe.shift(),It.push(Ct),Xe.length!==0&&Wt.error(new d.Z(e.MEDIA_KEY_MESSAGE_ERROR_CODE,e.MEDIA_KEY_MESSAGE_ERROR_MESSAGE))),Ct){var hn=ArrayBuffer.isView(yt.message)?yt.message.buffer:yt.message;Ct.keyMessage=hn,Nt.trigger(lt.INTERNAL_KEY_MESSAGE,{data:new bn(Ct,hn,yt.defaultURL)})}else dt.warn("No session token found for key message")}}},ft}Kn.__dashjs_factory_name="ProtectionModel_01b";const Wn=dashjs.FactoryMaker.getClassFactory(Kn);var Xn=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],Qn=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function nr(){var Et,ft=this.context;function dt(Le,it){for(var Ze=0;Ze<it.length;Ze++){var Xe=it[Ze];if(typeof Le[Xe[Object.keys(Xe)[0]]]=="function")return Xe}return null}return Et={createProtectionSystem:function(Le){var it=null,Ze=wt(ft).getInstance();Ze.setConfig({debug:Le.debug,BASE64:Le.BASE64,settings:Le.settings}),Ze.initialize();var Xe=function(It){var Rt=It.debug,Zt=Rt.getLogger(Et),Bt=It.eventBus,Nt=It.errHandler,lt=It.videoModel?It.videoModel.getElement():null;return lt&&lt.onencrypted===void 0||lt&&lt.mediaKeys===void 0?dt(lt,Qn)?(Zt.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),Vn(ft).create({debug:Rt,eventBus:Bt,events:It.events,api:dt(lt,Qn)})):dt(lt,Xn)?(Zt.info("EME detected on this user agent! (ProtectionModel_01b)"),Wn(ft).create({debug:Rt,eventBus:Bt,errHandler:Nt,events:It.events,api:dt(lt,Xn)})):(Zt.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(Zt.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),Hn(ft).create({debug:Rt,eventBus:Bt,events:It.events}))}(Le);return!it&&Xe&&(it=V(ft).create({protectionModel:Xe,protectionKeyController:Ze,eventBus:Le.eventBus,debug:Le.debug,events:Le.events,BASE64:Le.BASE64,constants:Le.constants,cmcdModel:Le.cmcdModel,customParametersModel:Le.customParametersModel,settings:Le.settings}),Le.capabilities.setEncryptedMediaSupported(!0)),it}}}nr.__dashjs_factory_name="Protection";var $n=dashjs.FactoryMaker.getClassFactory(nr);$n.events=sn,$n.errors=e,dashjs.FactoryMaker.updateClassFactory(nr.__dashjs_factory_name,$n);const br=$n},2068:(We,Se,L)=>{L.d(Se,{Z:()=>v});var se=L(5448),S={DEFAULT:.5,STRONG:1,WEAK:0};function t(g,u,h){var w,e;return w=g===void 0?-1:g,e=function(d){var f=S.DEFAULT;return d!==S.DEFAULT&&d!==S.STRONG&&d!==S.WEAK||(f=d),f}(h),{quality:w,reason:u===void 0?null:u,priority:e}}t.__dashjs_factory_name="SwitchRequest";var r=se.Z.getClassFactory(t);r.NO_CHANGE=-1,r.PRIORITY=S,se.Z.updateClassFactory(t.__dashjs_factory_name,r);const v=r},1767:(We,Se,L)=>{L.d(Se,{Z:()=>x});var se=L(5628),S=L(6535),t=L(7423),r=L(895),v=L(6070),g=L(3112),u=L(1914),h=L(5435),w=L(5448),e=L(2068),d=L(3393),f="qualitySwitchRules",b="abandonFragmentRules";function y(G){G=G||{};var P,z,V=this.context,he=G.mediaPlayerModel,pe=G.customParametersModel,Ke=G.dashMetrics,xe=G.settings;function ae(Te){return Te.filter(function(qe){return qe.quality>e.Z.NO_CHANGE})}function pt(Te){var qe,ye,be,Ve,tt,rt={},_e=null;if(Te.length!==0){for(rt[e.Z.PRIORITY.STRONG]={quality:e.Z.NO_CHANGE,reason:null},rt[e.Z.PRIORITY.WEAK]={quality:e.Z.NO_CHANGE,reason:null},rt[e.Z.PRIORITY.DEFAULT]={quality:e.Z.NO_CHANGE,reason:null},qe=0,ye=Te.length;qe<ye;qe+=1)(be=Te[qe]).quality!==e.Z.NO_CHANGE&&(rt[be.priority].quality===e.Z.NO_CHANGE||rt[be.priority].quality>be.quality)&&(rt[be.priority].quality=be.quality,rt[be.priority].reason=be.reason||null);return rt[e.Z.PRIORITY.WEAK].quality!==e.Z.NO_CHANGE&&(_e=rt[e.Z.PRIORITY.WEAK]),rt[e.Z.PRIORITY.DEFAULT].quality!==e.Z.NO_CHANGE&&(_e=rt[e.Z.PRIORITY.DEFAULT]),rt[e.Z.PRIORITY.STRONG].quality!==e.Z.NO_CHANGE&&(_e=rt[e.Z.PRIORITY.STRONG]),_e&&(Ve=_e.quality,tt=_e.reason),(0,e.Z)(V).create(Ve,tt)}}return{initialize:function(){P=[],z=[],xe.get().streaming.abr.useDefaultABRRules&&(xe.get().streaming.abr.ABRStrategy===d.Z.ABR_STRATEGY_L2A?P.push((0,u.Z)(V).create({dashMetrics:Ke,settings:xe})):xe.get().streaming.abr.ABRStrategy===d.Z.ABR_STRATEGY_LoLP?P.push((0,h.Z)(V).create({dashMetrics:Ke})):(P.push((0,g.Z)(V).create({dashMetrics:Ke,mediaPlayerModel:he,settings:xe})),P.push((0,se.Z)(V).create({dashMetrics:Ke})),xe.get().streaming.abr.additionalAbrRules.insufficientBufferRule&&P.push((0,S.Z)(V).create({dashMetrics:Ke,settings:xe})),xe.get().streaming.abr.additionalAbrRules.switchHistoryRule&&P.push((0,v.Z)(V).create()),xe.get().streaming.abr.additionalAbrRules.droppedFramesRule&&P.push((0,r.Z)(V).create()),xe.get().streaming.abr.additionalAbrRules.abandonRequestsRule&&z.push((0,t.Z)(V).create({dashMetrics:Ke,mediaPlayerModel:he,settings:xe})))),pe.getAbrCustomRules().forEach(function(Te){Te.type===f&&P.push(Te.rule(V).create()),Te.type===b&&z.push(Te.rule(V).create())})},reset:function(){[P,z].forEach(function(Te){Te&&Te.length&&Te.forEach(function(qe){return qe.reset&&qe.reset()})}),P=[],z=[]},getMaxQuality:function(Te){return pt(ae(P.map(function(qe){return qe.getMaxIndex(Te)})))||(0,e.Z)(V).create()},getMinSwitchRequest:pt,shouldAbandonFragment:function(Te,qe){return pt(ae(z.map(function(ye){return ye.shouldAbandon(Te,qe)})))||(0,e.Z)(V).create()},getQualitySwitchRules:function(){return P}}}y.__dashjs_factory_name="ABRRulesCollection";var M=w.Z.getClassFactory(y);M.QUALITY_SWITCH_RULES=f,M.ABANDON_FRAGMENT_RULES=b,w.Z.updateSingletonFactory(y.__dashjs_factory_name,M);const x=M},7423:(We,Se,L)=>{L.d(Se,{Z:()=>v});var se=L(2068),S=L(5448),t=L(6398);function r(g){g=g||{};var u,h,w,e,d,f=this.context,b=g.mediaPlayerModel,y=g.dashMetrics,M=g.settings;function x(){w={},e={},d=[]}return u={shouldAbandon:function(G){var P=(0,se.Z)(f).create(se.Z.NO_CHANGE,{name:r.__dashjs_factory_name});if(!(G&&G.hasOwnProperty("getMediaInfo")&&G.hasOwnProperty("getMediaType")&&G.hasOwnProperty("getCurrentRequest")&&G.hasOwnProperty("getRepresentationInfo")&&G.hasOwnProperty("getAbrController")))return P;var z,V,he=G.getMediaInfo(),pe=G.getMediaType(),Ke=G.getStreamInfo(),xe=Ke?Ke.id:null,ae=G.getCurrentRequest();if(!isNaN(ae.index)){z=pe,V=ae.index,w[z]=w[z]||{},w[z][V]=w[z][V]||{};var pt=b.getStableBufferTime();if(y.getCurrentBufferLevel(pe)>pt)return P;var Te=w[pe][ae.index];if(Te===null||ae.firstByteDate===null||e.hasOwnProperty(Te.id))return P;if(Te.firstByteTime===void 0&&(d[pe]=[],Te.firstByteTime=ae.firstByteDate.getTime(),Te.segmentDuration=ae.duration,Te.bytesTotal=ae.bytesTotal,Te.id=ae.index),Te.bytesLoaded=ae.bytesLoaded,Te.elapsedTime=new Date().getTime()-Te.firstByteTime,Te.bytesLoaded>0&&Te.elapsedTime>0&&function(Fe,$e){d[Fe]=d[Fe]||[],d[Fe].push($e)}(pe,Math.round(8*Te.bytesLoaded/Te.elapsedTime)),d[pe].length>=5&&Te.elapsedTime>500&&Te.bytesLoaded<Te.bytesTotal){var qe=d[pe].reduce(function(Fe,$e){return Fe+$e},0);if(Te.measuredBandwidthInKbps=Math.round(qe/d[pe].length),Te.estimatedTimeOfDownload=+(8*Te.bytesTotal/Te.measuredBandwidthInKbps/1e3).toFixed(2),Te.estimatedTimeOfDownload<1.8*Te.segmentDuration||G.getRepresentationInfo().quality===0)return P;if(!e.hasOwnProperty(Te.id)){var ye=G.getAbrController(),be=Te.bytesTotal-Te.bytesLoaded,Ve=ye.getBitrateList(he),tt=ye.getQualityForBitrate(he,Te.measuredBandwidthInKbps*M.get().streaming.abr.bandwidthSafetyFactor,xe),rt=ye.getMinAllowedIndexFor(pe,xe),_e=rt!==void 0?Math.max(rt,tt):tt;be>Te.bytesTotal*Ve[_e].bitrate/Ve[ye.getQualityFor(pe,xe)].bitrate&&(P.quality=_e,P.reason.throughput=Te.measuredBandwidthInKbps,P.reason.fragmentID=Te.id,e[Te.id]=Te,h.debug("["+pe+"] frag id",Te.id," is asking to abandon and switch to quality to ",_e," measured bandwidth was",Te.measuredBandwidthInKbps),delete w[pe][Te.id])}}else Te.bytesLoaded===Te.bytesTotal&&delete w[pe][Te.id]}return P},reset:x},h=(0,t.Z)(f).getInstance().getLogger(u),x(),u}r.__dashjs_factory_name="AbandonRequestsRule";const v=S.Z.getClassFactory(r)},3112:(We,Se,L)=>{L.d(Se,{Z:()=>f});var se=L(3860),S=L(2068),t=L(5448),r=L(7855),v=L(5595),g=L(8512),u=L(6398),h=L(8825),w=L(3393),e=10;function d(b){b=b||{};var y,M,x,G=this.context,P=b.dashMetrics,z=b.mediaPlayerModel,V=(0,v.Z)(G).getInstance();function he(_e,Fe,$e){var Re=$e.reduce(function(B,te,n){return te>$e[B]?n:B},0);if(Re===0)return null;var Me=Math.max(_e,e+2*Fe.length),fe=($e[Re]-1)/(Me/e-1);return{gp:fe,Vp:e/fe}}function pe(_e){_e.placeholderBuffer=0,_e.mostAdvancedSegmentStart=NaN,_e.lastSegmentWasReplacement=!1,_e.lastSegmentStart=NaN,_e.lastSegmentDurationS=NaN,_e.lastSegmentRequestTimeMs=NaN,_e.lastSegmentFinishTimeMs=NaN}function Ke(_e,Fe){var $e=z.getStableBufferTime();if(_e.stableBufferTime!==$e){var Re=he($e,_e.bitrates,_e.utilities);if(Re.Vp!==_e.Vp||Re.gp!==_e.gp){var Me=P.getCurrentBufferLevel(Fe),fe=Me+_e.placeholderBuffer;fe-=e,fe*=Re.Vp/_e.Vp,fe+=e,_e.stableBufferTime=$e,_e.Vp=Re.Vp,_e.gp=Re.gp,_e.placeholderBuffer=Math.max(0,fe-Me)}}}function xe(_e,Fe){return _e.Vp*(_e.utilities[Fe]+_e.gp)}function ae(_e,Fe){for(var $e=_e.bitrates[Fe],Re=_e.utilities[Fe],Me=0,fe=Fe-1;fe>=0;--fe)if(_e.utilities[fe]<_e.utilities[Fe]){var B=_e.bitrates[fe],te=_e.utilities[fe],n=_e.Vp*(_e.gp+($e*te-B*Re)/($e-B));Me=Math.max(Me,n)}return Me}function pt(_e){var Fe=_e.mediaType===w.Z.AUDIO?[w.Z.AUDIO]:x;for(var $e in Fe)x.hasOwnProperty($e)&&x[$e].state===2&&(x[$e].placeholderBuffer=0)}function Te(){for(var _e in x)if(x.hasOwnProperty(_e)){var Fe=x[_e];Fe.state!==0&&(Fe.state=1,pe(Fe))}}function qe(_e){if(_e&&_e.chunk&&_e.chunk.mediaInfo){var Fe=x[_e.chunk.mediaInfo.type];if(Fe&&Fe.state!==0){var $e=_e.chunk.start;isNaN(Fe.mostAdvancedSegmentStart)||$e>Fe.mostAdvancedSegmentStart?(Fe.mostAdvancedSegmentStart=$e,Fe.lastSegmentWasReplacement=!1):Fe.lastSegmentWasReplacement=!0,Fe.lastSegmentStart=$e,Fe.lastSegmentDurationS=_e.chunk.duration,Fe.lastQuality=_e.chunk.quality,be(Fe,_e.chunk.mediaInfo.type)}}}function ye(_e){if(_e&&_e.metric===se.Z.HTTP_REQUEST&&_e.value&&_e.value.type===r.w.MEDIA_SEGMENT_TYPE&&_e.value.trace&&_e.value.trace.length){var Fe=x[_e.mediaType];Fe&&Fe.state!==0&&(Fe.lastSegmentRequestTimeMs=_e.value.trequest.getTime(),Fe.lastSegmentFinishTimeMs=_e.value._tfinish.getTime(),be(Fe,_e.mediaType))}}function be(_e,Fe){if(!isNaN(_e.lastSegmentStart)&&!isNaN(_e.lastSegmentRequestTimeMs)&&!isNaN(_e.placeholderBuffer)){if(_e.placeholderBuffer*=.99,!isNaN(_e.lastSegmentFinishTimeMs)){var $e=P.getCurrentBufferLevel(Fe)+.001*(_e.lastSegmentFinishTimeMs-_e.lastSegmentRequestTimeMs),Re=xe(_e,_e.lastQuality),Me=Math.max(0,Re-$e);_e.placeholderBuffer=Math.min(Me,_e.placeholderBuffer)}_e.lastSegmentWasReplacement&&!isNaN(_e.lastSegmentDurationS)&&(_e.placeholderBuffer+=_e.lastSegmentDurationS),_e.lastSegmentStart=NaN,_e.lastSegmentRequestTimeMs=NaN}}function Ve(_e){if(_e){var Fe=x[_e.mediaType];Fe&&Fe.state!==0&&(Fe.abrQuality=_e.newQuality)}}function tt(_e){if(_e){var Fe=x[_e.mediaType];if(Fe&&Fe.state!==0){var $e,Re=P.getCurrentBufferLevel(_e.mediaType);$e=Fe.abrQuality>0?ae(Fe,Fe.abrQuality):e;var Me=Math.max(0,$e-Re);Fe.placeholderBuffer=Math.min(Fe.placeholderBuffer,Me)}}}function rt(){x={}}return y={getMaxIndex:function(_e){var Fe=(0,S.Z)(G).create();if(!(_e&&_e.hasOwnProperty("getMediaInfo")&&_e.hasOwnProperty("getMediaType")&&_e.hasOwnProperty("getScheduleController")&&_e.hasOwnProperty("getStreamInfo")&&_e.hasOwnProperty("getAbrController")&&_e.hasOwnProperty("useBufferOccupancyABR")))return Fe;var $e=_e.getMediaInfo(),Re=_e.getMediaType(),Me=_e.getScheduleController(),fe=_e.getStreamInfo(),B=_e.getAbrController(),te=B.getThroughputHistory(),n=fe?fe.id:null,l=fe&&fe.manifestInfo&&fe.manifestInfo.isDynamic,A=_e.useBufferOccupancyABR();if(Fe.reason=Fe.reason||{},!A)return Fe;Me.setTimeToLoadDelay(0);var N=function(we){var ut=we.getMediaType(),wt=x[ut];return wt?wt.state!==0&&Ke(wt,ut):(wt=function(Dt){var Ut={},qt=Dt.getMediaInfo().bitrateList.map(function(bn){return bn.bandwidth}),Ht=function(bn){return bn.map(function(On){return Math.log(On)})}(qt);Ht=Ht.map(function(bn){return bn-Ht[0]+1});var sn=z.getStableBufferTime(),gn=he(sn,qt,Ht);return gn?(Ut.state=1,Ut.bitrates=qt,Ut.utilities=Ht,Ut.stableBufferTime=sn,Ut.Vp=gn.Vp,Ut.gp=gn.gp,Ut.lastQuality=0,pe(Ut)):Ut.state=0,Ut}(we),x[ut]=wt),wt}(_e);if(N.state===0)return Fe;var ie,ue=P.getCurrentBufferLevel(Re),me=te.getAverageThroughput(Re,l),Pe=te.getSafeAverageThroughput(Re,l),He=te.getAverageLatency(Re);if(Fe.reason.state=N.state,Fe.reason.throughput=me,Fe.reason.latency=He,isNaN(me))return Fe;switch(N.state){case 1:ie=B.getQualityForBitrate($e,Pe,n,He),Fe.quality=ie,Fe.reason.throughput=Pe,N.placeholderBuffer=Math.max(0,ae(N,ie)-ue),N.lastQuality=ie,!isNaN(N.lastSegmentDurationS)&&ue>=N.lastSegmentDurationS&&(N.state=2);break;case 2:(function(we,ut){var wt=Date.now();if(isNaN(we.lastSegmentFinishTimeMs)){if(!isNaN(we.lastCallTimeMs)){var Dt=.001*(wt-we.lastCallTimeMs);we.placeholderBuffer+=Math.max(0,Dt)}}else{var Ut=.001*(wt-we.lastSegmentFinishTimeMs);we.placeholderBuffer+=Math.max(0,Ut)}we.lastCallTimeMs=wt,we.lastSegmentStart=NaN,we.lastSegmentRequestTimeMs=NaN,we.lastSegmentFinishTimeMs=NaN,Ke(we,ut)})(N,Re),ie=function(we,ut){for(var wt=we.bitrates.length,Dt=NaN,Ut=NaN,qt=0;qt<wt;++qt){var Ht=(we.Vp*(we.utilities[qt]+we.gp)-ut)/we.bitrates[qt];(isNaN(Ut)||Ht>=Ut)&&(Ut=Ht,Dt=qt)}return Dt}(N,ue+N.placeholderBuffer);var ze=B.getQualityForBitrate($e,Pe,n,He);ie>N.lastQuality&&ie>ze&&(ie=Math.max(ze,N.lastQuality));var Qe=Math.max(0,ue+N.placeholderBuffer-xe(N,ie));Qe<=N.placeholderBuffer?(N.placeholderBuffer-=Qe,Qe=0):(Qe-=N.placeholderBuffer,N.placeholderBuffer=0,ie<B.getMaxAllowedIndexFor(Re,n)?Me.setTimeToLoadDelay(1e3*Qe):Qe=0),Fe.quality=ie,Fe.reason.throughput=me,Fe.reason.latency=He,Fe.reason.bufferLevel=ue,Fe.reason.placeholderBuffer=N.placeholderBuffer,Fe.reason.delay=Qe,N.lastQuality=ie;break;default:M.debug("BOLA ABR rule invoked in bad state."),Fe.quality=B.getQualityForBitrate($e,Pe,n,He),Fe.reason.state=N.state,Fe.reason.throughput=Pe,Fe.reason.latency=He,N.state=1,pe(N)}return Fe},reset:function(){rt(),V.off(h.Z.BUFFER_EMPTY,pt,y),V.off(h.Z.PLAYBACK_SEEKING,Te,y),V.off(h.Z.METRIC_ADDED,ye,y),V.off(h.Z.QUALITY_CHANGE_REQUESTED,Ve,y),V.off(h.Z.FRAGMENT_LOADING_ABANDONED,tt,y),V.off(g.Z.MEDIA_FRAGMENT_LOADED,qe,y)}},M=(0,u.Z)(G).getInstance().getLogger(y),rt(),V.on(h.Z.BUFFER_EMPTY,pt,y),V.on(h.Z.PLAYBACK_SEEKING,Te,y),V.on(h.Z.METRIC_ADDED,ye,y),V.on(h.Z.QUALITY_CHANGE_REQUESTED,Ve,y),V.on(h.Z.FRAGMENT_LOADING_ABANDONED,tt,y),V.on(g.Z.MEDIA_FRAGMENT_LOADED,qe,y),y}d.__dashjs_factory_name="BolaRule";const f=t.Z.getClassFactory(d)},895:(We,Se,L)=>{L.d(Se,{Z:()=>v});var se=L(5448),S=L(2068),t=L(6398);function r(){var g,u,h=this.context;return g={getMaxIndex:function(w){var e=(0,S.Z)(h).create();if(!w||!w.hasOwnProperty("getDroppedFramesHistory"))return e;var d=w.getDroppedFramesHistory(),f=w.getStreamInfo().id;if(d){var b=d.getFrameHistory(f);if(!b||b.length===0)return e;for(var y=0,M=0,x=S.Z.NO_CHANGE,G=1;G<b.length;G++)if(b[G]&&(y=b[G].droppedVideoFrames,(M=b[G].totalVideoFrames)>375&&y/M>.15)){x=G-1,u.debug("index: "+x+" Dropped Frames: "+y+" Total Frames: "+M);break}return(0,S.Z)(h).create(x,{droppedFrames:y})}return e}},u=(0,t.Z)(h).getInstance().getLogger(g),g}r.__dashjs_factory_name="DroppedFramesRule";const v=se.Z.getClassFactory(r)},6535:(We,Se,L)=>{L.d(Se,{Z:()=>e});var se=L(5595),S=L(8512),t=L(5448),r=L(6398),v=L(2068),g=L(3393),u=L(3860),h=L(8825);function w(d){d=d||{};var f,b,y,M=this.context,x=(0,se.Z)(M).getInstance(),G=d.dashMetrics;function P(){(y={})[g.Z.VIDEO]={ignoreCount:2},y[g.Z.AUDIO]={ignoreCount:2}}function z(){P()}function V(he){isNaN(he.startTime)||he.mediaType!==g.Z.AUDIO&&he.mediaType!==g.Z.VIDEO||y[he.mediaType].ignoreCount>0&&y[he.mediaType].ignoreCount--}return f={getMaxIndex:function(he){var pe=(0,v.Z)(M).create();if(!he||!he.hasOwnProperty("getMediaType"))return pe;(function(){if(!G||!G.hasOwnProperty("getCurrentBufferLevel")||!G.hasOwnProperty("getCurrentBufferState"))throw new Error(g.Z.MISSING_CONFIG_ERROR)})();var Ke=he.getMediaType(),xe=G.getCurrentBufferState(Ke),ae=he.getRepresentationInfo().fragmentDuration,pt=he.getStreamInfo(),Te=pt?pt.id:null,qe=he.getScheduleController(),ye=pt&&pt.manifestInfo&&pt.manifestInfo.isDynamic;if(function(Re,Me){return!Re&&y[Me].ignoreCount>0}(qe.getPlaybackController().getLowLatencyModeEnabled(),Ke)||!ae)return pe;if(xe&&xe.state===u.Z.BUFFER_EMPTY)b.debug("["+Ke+"] Switch to index 0; buffer is empty."),pe.quality=0,pe.reason="InsufficientBufferRule: Buffer is empty";else{var be=he.getMediaInfo(),Ve=he.getAbrController(),tt=Ve.getThroughputHistory(),rt=G.getCurrentBufferLevel(Ke),_e=tt.getAverageThroughput(Ke,ye),Fe=tt.getAverageLatency(Ke),$e=_e*(rt/ae)*.5;pe.quality=Ve.getQualityForBitrate(be,$e,Te,Fe),pe.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return pe},reset:function(){P(),x.off(h.Z.PLAYBACK_SEEKING,z,f),x.off(S.Z.BYTES_APPENDED_END_FRAGMENT,V,f)}},b=(0,r.Z)(M).getInstance().getLogger(f),P(),x.on(h.Z.PLAYBACK_SEEKING,z,f),x.on(S.Z.BYTES_APPENDED_END_FRAGMENT,V,f),f}w.__dashjs_factory_name="InsufficientBufferRule";const e=t.Z.getClassFactory(w)},1914:(We,Se,L)=>{L.d(Se,{Z:()=>e});var se=L(3860),S=L(2068),t=L(5448),r=L(7855),v=L(5595),g=L(8512),u=L(6398),h=L(3393);function w(d){d=d||{};var f,b,y,M,x=this.context,G=d.dashMetrics,P=(0,v.Z)(x).getInstance();function z(Te){Te.placeholderBuffer=0,Te.mostAdvancedSegmentStart=NaN,Te.lastSegmentWasReplacement=!1,Te.lastSegmentStart=NaN,Te.lastSegmentDurationS=NaN,Te.lastSegmentRequestTimeMs=NaN,Te.lastSegmentFinishTimeMs=NaN}function V(){for(var Te in b)if(b.hasOwnProperty(Te)){var qe=b[Te];qe.state!==0&&(qe.state=1,z(qe))}}function he(Te){if(Te&&Te.chunk&&Te.chunk.mediaInfo){var qe=b[Te.chunk.mediaInfo.type],ye=y[Te.chunk.mediaInfo.type];if(qe&&qe.state!==0){var be=Te.chunk.start;isNaN(qe.mostAdvancedSegmentStart)||be>qe.mostAdvancedSegmentStart?(qe.mostAdvancedSegmentStart=be,qe.lastSegmentWasReplacement=!1):qe.lastSegmentWasReplacement=!0,qe.lastSegmentStart=be,qe.lastSegmentDurationS=Te.chunk.duration,qe.lastQuality=Te.chunk.quality,Ke(qe,ye)}}}function pe(Te){if(Te&&Te.metric===se.Z.HTTP_REQUEST&&Te.value&&Te.value.type===r.w.MEDIA_SEGMENT_TYPE&&Te.value.trace&&Te.value.trace.length){var qe=b[Te.mediaType],ye=y[Te.mediaType];qe&&qe.state!==0&&(qe.lastSegmentRequestTimeMs=Te.value.trequest.getTime(),qe.lastSegmentFinishTimeMs=Te.value._tfinish.getTime(),Ke(qe,ye))}}function Ke(Te,qe){isNaN(Te.lastSegmentStart)||isNaN(Te.lastSegmentRequestTimeMs)||(qe.segment_request_start_s=.001*Te.lastSegmentRequestTimeMs,qe.segment_download_finish_s=.001*Te.lastSegmentFinishTimeMs,Te.lastSegmentStart=NaN,Te.lastSegmentRequestTimeMs=NaN)}function xe(Te){if(Te&&Te.mediaType){var qe=b[Te.mediaType];qe&&qe.state!==0&&(qe.abrQuality=Te.newQuality)}}function ae(Te,qe){if(Te.length!==qe.length)return-1;for(var ye=0,be=0;be<Te.length;be++)ye+=Te[be]*qe[be];return ye}function pt(){b={},y={}}return f={getMaxIndex:function(Te){var qe,ye=(0,S.Z)(x).create(),be=Math.pow(4,.99),Ve=Math.max(Math.pow(4,1),be*Math.sqrt(4)),tt=Te.getMediaInfo(),rt=Te.getMediaType(),_e=tt.bitrateList.map(function(sn){return sn.bandwidth}),Fe=_e.length,$e=Te.getScheduleController(),Re=Te.getStreamInfo(),Me=Te.getAbrController(),fe=Me.getThroughputHistory(),B=Re&&Re.manifestInfo&&Re.manifestInfo.isDynamic,te=Te.useL2AABR(),n=G.getCurrentBufferLevel(rt,!0),l=fe.getSafeAverageThroughput(rt,B),A=fe.getAverageThroughput(rt,B),N=fe.getAverageLatency(rt),ie=Te.getVideoModel().getPlaybackRate();if(!(Te&&Te.hasOwnProperty("getMediaInfo")&&Te.hasOwnProperty("getMediaType")&&Te.hasOwnProperty("getScheduleController")&&Te.hasOwnProperty("getStreamInfo")&&Te.hasOwnProperty("getAbrController")&&Te.hasOwnProperty("useL2AABR"))||(ye.reason=ye.reason||{},!te||rt===h.Z.AUDIO))return ye;$e.setTimeToLoadDelay(0);var ue=function(sn){var gn=sn.getMediaType(),bn=b[gn];return bn||(bn=function(On){var An={},_n=On.getMediaInfo(),Hn=_n.bitrateList.map(function(Tn){return Tn.bandwidth/1e3});return An.state=1,An.bitrates=Hn,An.lastQuality=0,function(Tn){Tn&&Tn.type&&(y[Tn.type]={},y[Tn.type].w=[],y[Tn.type].prev_w=[],y[Tn.type].Q=0,y[Tn.type].segment_request_start_s=0,y[Tn.type].segment_download_finish_s=0,y[Tn.type].B_target=1.5)}(_n),z(An),An}(sn),b[gn]=bn),bn}(Te);if(ue.state===0)return ye;var me=y[rt];if(!me||(ye.reason.state=ue.state,ye.reason.throughput=A,ye.reason.latency=N,isNaN(A)))return ye;switch(ue.state){case 1:if(qe=Me.getQualityForBitrate(tt,l,Re.id,N),ye.quality=qe,ye.reason.throughput=l,ue.lastQuality=qe,!isNaN(ue.lastSegmentDurationS)&&n>=me.B_target){ue.state=2,me.Q=be;for(var Pe=0;Pe<Fe;++Pe)Pe===ue.lastQuality?me.prev_w[Pe]=1:me.prev_w[Pe]=0}break;case 2:var He=[],ze=G.getCurrentHttpRequest(rt).trace.reduce(function(sn,gn){return sn+gn.d},0),Qe=G.getCurrentHttpRequest(rt).trace.reduce(function(sn,gn){return sn+gn.b[0]},0),we=Math.round(8*Qe/ze);we<1&&(we=1);for(var ut=ue.lastSegmentDurationS,wt=1,Dt=0;Dt<Fe;++Dt)_e[Dt]=_e[Dt]/1e3,ie*_e[Dt]>we&&(wt=-1),me.w[Dt]=me.prev_w[Dt]+wt*(ut/(2*Ve))*((me.Q+be)*(ie*_e[Dt]/we));me.w=function(sn){for(var gn=sn.length,bn=!1,On=[],An=0;An<gn;++An)On[An]=sn[An];for(var _n=sn.sort(function(Xn,Qn){return Qn-Xn}),Hn=0,Tn=0,Vn=[],Kn=0;Kn<gn-1;++Kn)if((Tn=((Hn+=_n[Kn])-1)/(Kn+1))>=_n[Kn+1]){bn=!0;break}bn||(Tn=(Hn+_n[gn-1]-1)/gn);for(var Wn=0;Wn<gn;++Wn)Vn[Wn]=Math.max(On[Wn]-Tn,0);return Vn}(me.w);for(var Ut=0;Ut<Fe;++Ut)He[Ut]=me.w[Ut]-me.prev_w[Ut],me.prev_w[Ut]=me.w[Ut];me.Q=Math.max(0,me.Q-ut+ut*ie*((ae(_e,me.prev_w)+ae(_e,He))/we));for(var qt=[],Ht=0;Ht<Fe;++Ht)qt[Ht]=Math.abs(_e[Ht]-ae(me.w,_e));(qe=qt.indexOf(Math.min.apply(Math,qt)))>ue.lastQuality&&_e[ue.lastQuality+1]<=we&&(qe=ue.lastQuality+1),_e[qe]>=we&&(me.Q=2*Math.max(be,me.Q)),ye.quality=qe,ye.reason.throughput=A,ye.reason.latency=N,ye.reason.bufferLevel=n,ue.lastQuality=ye.quality;break;default:M.debug("L2A ABR rule invoked in bad state."),ye.quality=Me.getQualityForBitrate(tt,l,Re.id,N),ye.reason.state=ue.state,ye.reason.throughput=l,ye.reason.latency=N,ue.state=1,z(ue)}return ye},reset:function(){pt(),P.off(g.Z.PLAYBACK_SEEKING,V,f),P.off(g.Z.MEDIA_FRAGMENT_LOADED,he,f),P.off(g.Z.METRIC_ADDED,pe,f),P.off(g.Z.QUALITY_CHANGE_REQUESTED,xe,f)}},M=(0,u.Z)(x).getInstance().getLogger(f),pt(),P.on(g.Z.PLAYBACK_SEEKING,V,f),P.on(g.Z.MEDIA_FRAGMENT_LOADED,he,f),P.on(g.Z.METRIC_ADDED,pe,f),P.on(g.Z.QUALITY_CHANGE_REQUESTED,xe,f),f}w.__dashjs_factory_name="L2ARule";const e=t.Z.getClassFactory(w)},6070:(We,Se,L)=>{L.d(Se,{Z:()=>v});var se=L(5448),S=L(6398),t=L(2068);function r(){var g,u,h=this.context;return g={getMaxIndex:function(w){for(var e=w?w.getSwitchHistory():null,d=e?e.getSwitchRequests():[],f=0,b=0,y=0,M=(0,t.Z)(h).create(),x=0;x<d.length;x++)if(d[x]!==void 0&&(f+=d[x].drops,b+=d[x].noDrops,y+=d[x].dropSize,f+b>=6&&f/b>.075)){M.quality=x>0&&d[x].drops>0?x-1:x,M.reason={index:M.quality,drops:f,noDrops:b,dropSize:y},u.debug("Switch history rule index: "+M.quality+" samples: "+(f+b)+" drops: "+f);break}return M}},u=(0,S.Z)(h).getInstance().getLogger(g),g}r.__dashjs_factory_name="SwitchHistoryRule";const v=se.Z.getClassFactory(r)},5628:(We,Se,L)=>{L.d(Se,{Z:()=>g});var se=L(5448),S=L(2068),t=L(3393),r=L(3860);function v(u){u=u||{};var h=this.context,w=u.dashMetrics;return{getMaxIndex:function(e){var d=(0,S.Z)(h).create();if(!(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")))return d;(function(){if(!w||!w.hasOwnProperty("getCurrentBufferState"))throw new Error(t.Z.MISSING_CONFIG_ERROR)})();var f=e.getMediaInfo(),b=e.getMediaType(),y=w.getCurrentBufferState(b),M=e.getScheduleController(),x=e.getAbrController(),G=e.getStreamInfo(),P=G?G.id:null,z=G&&G.manifestInfo?G.manifestInfo.isDynamic:null,V=x.getThroughputHistory(),he=V.getSafeAverageThroughput(b,z),pe=V.getAverageLatency(b),Ke=e.useBufferOccupancyABR();return isNaN(he)||!y||Ke||x.getAbandonmentStateFor(P,b)!==r.Z.ABANDON_LOAD&&(y.state===r.Z.BUFFER_LOADED||z)&&(d.quality=x.getQualityForBitrate(f,he,P,pe),M.setTimeToLoadDelay(0),d.reason={throughput:he,latency:pe}),d},reset:function(){}}}v.__dashjs_factory_name="ThroughputRule";const g=se.Z.getClassFactory(v)},4722:(We,Se,L)=>{L.d(Se,{Z:()=>r});var se=L(5448),S=L(6398);function t(){var v,g,u,h,w,e,d,f,b,y=this.context;function M(){u=null,h=1,w=100,e=0,d=null,f=null,b="dynamic_weight_selection"}function x(){var he=0;if(u)for(var pe=0;pe<u.length;pe++){var Ke=u[pe];Ke.state.throughput>he&&(he=Ke.state.throughput)}return he}function G(he,pe,Ke){var xe=he.map(function(ae,pt){return Ke[pt]*Math.pow(ae-pe[pt],2)}).reduce(function(ae,pt){return ae+pt});return(xe<0?-1:1)*Math.sqrt(Math.abs(xe))}function P(he,pe){return G([he.state.throughput,he.state.latency,he.state.rebuffer,he.state.switch],[pe.state.throughput,pe.state.latency,pe.state.rebuffer,pe.state.switch],[1,1,1,1])}function z(he,pe,Ke){for(var xe=0;xe<pe.length;xe++){var ae=pe[xe],pt=P(ae,he);V(ae,Ke,Math.exp(-1*Math.pow(pt,2)/(2*Math.pow(.1,2))))}}function V(he,pe,Ke){var xe=he.state,ae=[.01,.01,.01,.01];xe.throughput=xe.throughput+(pe[0]-xe.throughput)*ae[0]*Ke,xe.latency=xe.latency+(pe[1]-xe.latency)*ae[1]*Ke,xe.rebuffer=xe.rebuffer+(pe[2]-xe.rebuffer)*ae[2]*Ke,xe.switch=xe.switch+(pe[3]-xe.switch)*ae[3]*Ke}return v={getNextQuality:function(he,pe,Ke,xe,ae,pt,Te){var qe=Ke,ye=xe,be=pe,Ve=function(me){if(!u){u=[];var Pe=me.bitrateList,He=[];e=Pe[0].bandwidth,Pe.forEach(function(ut){He.push(ut.bandwidth),ut.bandwidth<e&&(e=ut.bandwidth)}),we=He.map(function(ut){return Math.pow(ut,2)}).reduce(function(ut,wt){return ut+wt}),h=Math.sqrt(we);for(var ze=0;ze<Pe.length;ze++){var Qe={qualityIndex:ze,bitrate:Pe[ze].bandwidth,state:{throughput:Pe[ze].bandwidth/h,latency:0,rebuffer:0,switch:0}};u.push(Qe)}f=function(ut){var wt=[],Dt=function(Et){for(var ft=[],dt=0;dt<Et;dt++){var Le=[Math.random()*x(),Math.random(),Math.random(),Math.random()];ft.push(Le)}return ft}(Math.pow(ut.length,2));wt.push(Dt[0]);for(var Ut=[1,1,1,1],qt=1;qt<ut.length;qt++){for(var Ht=null,sn=null,gn=0;gn<Dt.length;gn++){for(var bn=Dt[gn],On=null,An=0;An<wt.length;An++){var _n=G(bn,wt[An],Ut);(On===null||_n<On)&&(On=_n)}(sn===null||On>sn)&&(Ht=bn,sn=On)}wt.push(Ht)}for(var Hn=null,Tn=null,Vn=0;Vn<wt.length;Vn++){for(var Kn=0,Wn=0;Wn<wt.length;Wn++)Vn!==Wn&&(Kn+=G(wt[Vn],wt[Wn],Ut));(Hn===null||Kn>Hn)&&(Hn=Kn,Tn=Vn)}var Xn=[];for(Xn.push(wt[Tn]),wt.splice(Tn,1);wt.length>0;){for(var Qn=null,nr=null,$n=0;$n<wt.length;$n++){var br=G(Xn[0],wt[$n],Ut);(Qn===null||br<Qn)&&(Qn=br,nr=$n)}Xn.push(wt[nr]),wt.splice(nr,1)}return Xn}(u)}var we;return u}(he),tt=pe/h;tt>1&&(tt=x()),Ke/=w,g.debug("getNextQuality called throughput:".concat(tt," latency:").concat(Ke," bufferSize:").concat(xe," currentQualityIndex:").concat(pt," playbackRate:").concat(ae));var rt=Ve[pt],_e=rt.bitrate*Te.getSegmentDuration()/be,Fe=Math.max(0,_e-ye);if(ye-_e<Te.getMinBuffer())return g.debug("Buffer is low for bitrate= ".concat(rt.bitrate," downloadTime=").concat(_e," currentBuffer=").concat(ye," rebuffer=").concat(Fe)),function(me,Pe){var He=0,ze=me;if(u)for(var Qe=0;Qe<u.length;Qe++){var we=u[Qe];we.bitrate<me.bitrate&&we.bitrate>He&&Pe>we.bitrate&&(He=we.bitrate,ze=we)}return ze}(rt,be).qualityIndex;switch(b){case"manual_weight_selection":d=[.4,.4,.4,.4];break;case"random_weight_selection":(function(me){d=function(Pe,He){for(var ze=[],Qe=Math.sqrt(2/Pe),we=0;we<4;we++)ze.push(Math.random()*Qe);return d=ze}(me.length)})(Ve);break;default:(function(me,Pe,He,ze,Qe,we,ut){d||(d=f[f.length-1]);var wt=me.findWeightVector(Pe,He,ze,Qe,we,ut);wt!==null&&wt!==-1&&(d=wt)})(Te,Ve,qe,ye,Fe,be,ae)}for(var $e=null,Re=null,Me=null,fe=0;fe<Ve.length;fe++){var B=Ve[fe],te=B.state,n=[te.throughput,te.latency,te.rebuffer,te.switch],l=d.slice(),A=Te.getNextBufferWithBitrate(B.bitrate,ye,be),N=A<Te.getMinBuffer();N&&g.debug("Buffer is low for bitrate=".concat(B.bitrate," downloadTime=").concat(_e," currentBuffer=").concat(ye," nextBuffer=").concat(A)),(B.bitrate>pe-1e4||N)&&B.bitrate!==e&&(l[0]=100);var ie=G(n,[tt,0,0,0],l);($e===null||ie<$e)&&($e=ie,Re=B.qualityIndex,Me=B)}var ue=Math.abs(rt.bitrate-Me.bitrate)/h;return z(rt,Ve,[tt,Ke,Fe,ue]),z(Me,Ve,[tt,0,0,ue]),Re},reset:function(){M()}},g=(0,S.Z)(y).getInstance().getLogger(v),M(),v}t.__dashjs_factory_name="LearningAbrController";const r=se.Z.getClassFactory(t)},5317:(We,Se,L)=>{L.d(Se,{Z:()=>r});var se=L(5448),S=L(2298);function t(){var v,g,u,h,w;function e(){g=null,u=null,h=null,w=null}function d(b,y,M,x){var G=new S.Z;return G.type=b,G.weights.bitrateReward=y||1,G.weights.bitrateSwitchPenalty=1,G.weights.rebufferPenalty=M||1e3,G.weights.latencyPenalty=[],G.weights.latencyPenalty.push({threshold:1.1,penalty:.05*x}),G.weights.latencyPenalty.push({threshold:1e8,penalty:.1*M}),G.weights.playbackSpeedPenalty=x||200,G}function f(b,y,M,x,G){G.bitrateWSum+=G.weights.bitrateReward*b,G.lastBitrate&&(G.bitrateSwitchWSum+=G.weights.bitrateSwitchPenalty*Math.abs(b-G.lastBitrate)),G.lastBitrate=b,G.rebufferWSum+=G.weights.rebufferPenalty*y;for(var P=0;P<G.weights.latencyPenalty.length;P++){var z=G.weights.latencyPenalty[P];if(M<=z.threshold){G.latencyWSum+=z.penalty*M;break}}G.playbackSpeedWSum+=G.weights.playbackSpeedPenalty*Math.abs(1-x),G.totalQoe=G.bitrateWSum-G.bitrateSwitchWSum-G.rebufferWSum-G.latencyWSum-G.playbackSpeedWSum}return v={setupPerSegmentQoe:function(b,y,M){g=d("segment",b,y,M),u=b,h=y,w=M},logSegmentMetrics:function(b,y,M,x){g&&f(b,y,M,x,g)},getPerSegmentQoe:function(){return g},calculateSingleUseQoe:function(b,y,M,x){var G=null;return u&&h&&w&&(G=d("segment",u,h,w)),G?(f(b,y,M,x,G),G.totalQoe):0},reset:function(){e()}},e(),v}t.__dashjs_factory_name="LoLpQoeEvaluator";const r=se.Z.getClassFactory(t)},5435:(We,Se,L)=>{L.d(Se,{Z:()=>e});var se=L(6398),S=L(5448),t=L(4722),r=L(5317),v=L(2068),g=L(3860),u=L(6523),h=L(3393);function w(d){var f,b,y,M,x=(d=d||{}).dashMetrics,G=this.context;return b={getMaxIndex:function(P){try{var z=(0,v.Z)(G).create(),V=P.getMediaInfo().type,he=P.getAbrController(),pe=P.getStreamInfo(),Ke=he.getQualityFor(V,pe.id),xe=P.getMediaInfo(),ae=x.getCurrentBufferState(V),pt=P.getScheduleController(),Te=x.getCurrentBufferLevel(V,!0),qe=pe&&pe.manifestInfo?pe.manifestInfo.isDynamic:null,ye=pt.getPlaybackController(),be=ye.getCurrentLiveLatency();if(!P.useLoLPABR()||V===h.Z.AUDIO)return z;be||(be=0);var Ve=ye.getPlaybackRate(),tt=he.getThroughputHistory().getSafeAverageThroughput(V,qe);if(f.debug("Throughput ".concat(Math.round(tt)," kbps")),isNaN(tt)||!ae||he.getAbandonmentStateFor(pe.id,V)===g.Z.ABANDON_LOAD)return z;for(var rt=xe.bitrateList,_e=P.getRepresentationInfo().fragmentDuration,Fe=rt[0].bandwidth/1e3,$e=rt[rt.length-1].bandwidth/1e3,Re=0;Re<rt.length;Re++){var Me=rt[Re].bandwidth/1e3;Me>$e?$e=Me:Me<Fe&&(Fe=Me)}var fe=rt[Ke].bandwidth/1e3,B=x.getCurrentHttpRequest(V,!0),te=(B.tresponse.getTime()-B.trequest.getTime())/1e3,n=te>_e?te-_e:0;M.setupPerSegmentQoe(_e,$e,Fe),M.logSegmentMetrics(fe,n,be,Ve);var l=(0,u.Z)(G).create({targetLatency:1.5,bufferMin:.3,segmentDuration:_e,qoeEvaluator:M});return z.quality=y.getNextQuality(xe,1e3*tt,be,Te,Ve,Ke,l),z.reason={throughput:tt,latency:be},z.priority=v.Z.PRIORITY.STRONG,pt.setTimeToLoadDelay(0),z.quality!==Ke&&console.log("[TgcLearningRule]["+V+"] requesting switch to index: ",z.quality,"Average throughput",Math.round(tt),"kbps"),z}catch(A){throw A}},reset:function(){y.reset(),M.reset()}},f=(0,se.Z)(G).getInstance().getLogger(b),y=(0,t.Z)(G).create(),M=(0,r.Z)(G).create(),b}w.__dashjs_factory_name="LoLPRule";const e=S.Z.getClassFactory(w)},6523:(We,Se,L)=>{L.d(Se,{Z:()=>t});var se=L(5448);function S(r){var v,g,u,h,w=r.targetLatency,e=r.bufferMin,d=r.segmentDuration,f=r.qoeEvaluator;function b(){return d}function y(M,x){var G=b();return x>G?M-G:M+G-x}return v={getMinBuffer:function(){return e},getSegmentDuration:b,getNextBufferWithBitrate:function(M,x,G){return y(x,M*d/G)},getNextBuffer:y,findWeightVector:function(M,x,G,P,z,V){var he=null,pe=null,Ke=null,xe=Math.abs(x-u);return M.forEach(function(ae){g.forEach(function(pt){pt[0];var Te=pt[1],qe=pt[2],ye=(pt[3],ae.bitrate*d/z),be=y(G,ye),Ve=(qe===0?10:1/qe)*Math.max(1e-5,ye-be),tt=(Te===0?10:1/Te)*ae.state.latency,rt=f.calculateSingleUseQoe(ae.bitrate,Ve,tt,V);(he===null||rt>he)&&function(_e,Fe,$e){return!(_e>w+$e)&&Fe>=e}(x,be,xe)&&(he=rt,pe=pt,Ke=ae.bitrate)})}),pe===null&&Ke===null&&(pe=-1),u=x,pe}},g=function M(x,G,P){if(P===G)return x;for(var z=x.length,V=0;V<z;V++)for(var he=x.shift(),pe=0;pe<h.length;pe++)x.push(he.concat(h[pe]));return M(x,G,P+1)}((h=[.2,.4,.6,.8,1]).map(function(M){return[M]}),4,1),u=0,v}S.__dashjs_factory_name="LoLpWeightSelector";const t=se.Z.getClassFactory(S)},2298:(We,Se,L)=>{L.d(Se,{Z:()=>se});const se=function S(){(function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")})(this,S),this.type=null,this.lastBitrate=null,this.weights={},this.weights.bitrateReward=null,this.weights.bitrateSwitchPenalty=null,this.weights.rebufferPenalty=null,this.weights.latencyPenalty=null,this.weights.playbackSpeedPenalty=null,this.bitrateWSum=0,this.bitrateSwitchWSum=0,this.rebufferWSum=0,this.latencyWSum=0,this.playbackSpeedWSum=0,this.totalQoe=0}},7803:(We,Se,L)=>{L.d(Se,{Y:()=>d,Z:()=>b});var se=L(3393),S=L(1553),t=L(5448),r=L(2128),v=L(2594),g=L(7387),u=L(7417),h=L(9032),w=L(9326),e=L(7802),d=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function f(y){var M,x,G,P,z,V,he,pe,Ke=this.context,xe=y.adapter,ae=y.baseURLController,pt=y.streamInfo,Te=y.timelineConverter,qe=y.debug,ye=y.eventBus,be=y.events,Ve=y.dashConstants,tt=(0,v.Z)(Ke).getInstance();function rt(Fe,$e){var Re=new r.Z;Re.id=Fe.id,Re.bitrate=Fe.bandwidth,Re.width=Fe.width,Re.height=Fe.height,Re.tilesHor=1,Re.tilesVert=1,Fe.essentialProperties&&Fe.essentialProperties.forEach(function(Me){if(d.indexOf(Me.schemeIdUri)>=0&&Me.value){var fe=Me.value.split("x");fe.length!==2||isNaN(fe[0])||isNaN(fe[1])||(Re.tilesHor=parseInt(fe[0],10),Re.tilesVert=parseInt(fe[1],10))}}),$e?V.updateSegmentData(Fe).then(function(Me){(function(fe,B,te){var n=[],l=function(A,N){var ie,ue,me,Pe,He=[],ze=0;for(ie=0,ue=A.segments.length;ie<ue;ie++)me=A.segments[ie],(Pe=(0,g.TJ)(Te,xe.getIsDynamic(),N,me.startTime,me.duration,me.timescale,me.media,me.mediaRange,ze))&&(He.push(Pe),Pe=null,ze++);return He}(te,B);B.segments=l,fe.segmentDuration=B.segments[0].duration,fe.readThumbnail=function(A,N){var ie=null;n.some(function(ue){if(ue.start<=A&&ue.end>A)return ie=ue.url,!0}),ie?N(ie):B.segments.some(function(ue){if(ue.mediaStartTime<=A&&ue.mediaStartTime+ue.duration>A){var me=ae.resolve(B.path);return he.load({method:"get",url:me.url,request:{range:ue.mediaRange,responseType:"arraybuffer"},onload:function(Pe){var He=pe.getSamplesInfo(Pe.target.response),ze=new Blob([Pe.target.response.slice(He.sampleList[0].offset,He.sampleList[0].offset+He.sampleList[0].size)],{type:"image/jpeg"}),Qe=window.URL.createObjectURL(ze);n.push({start:ue.mediaStartTime,end:ue.mediaStartTime+ue.duration,url:Qe}),N&&N(Qe)}}),!0}})}})(Re,Fe,Me)}):(Re.startNumber=Fe.startNumber,Re.segmentDuration=Fe.segmentDuration,Re.timescale=Fe.timescale,Re.templateUrl=function(Me){var fe=tt.isRelative(Me.media)?tt.resolve(Me.media,ae.resolve(Me.path).url):Me.media;return fe?(0,g.Aj)(fe,Me.id):""}(Fe)),Re.tilesHor>0&&Re.tilesVert>0&&(Re.widthPerTile=Re.width/Re.tilesHor,Re.heightPerTile=Re.height/Re.tilesVert,x.push(Re))}function _e(){x=[],P=-1,z=null}return M={getTracks:function(){return x},addTracks:function(){if(pt&&xe&&(z=xe.getMediaInfoForType(pt,se.Z.IMAGE))){var Fe=xe.getVoRepresentations(z);Fe&&Fe.length>0&&Fe.forEach(function($e){($e.segmentInfoType===S.Z.SEGMENT_TEMPLATE&&$e.segmentDuration>0&&$e.media||$e.segmentInfoType===S.Z.SEGMENT_TIMELINE)&&rt($e),$e.segmentInfoType===S.Z.SEGMENT_BASE&&rt($e,!0)}),x.length>0&&x.sort(function($e,Re){return $e.bitrate-Re.bitrate})}},reset:_e,setTrackByIndex:function(Fe){x&&x.length!==0&&(Fe>=x.length&&(Fe=x.length-1),P=Fe)},getCurrentTrack:function(){return P<0?null:x[P]},getCurrentTrackIndex:function(){return P},getThumbnailRequestForTime:function(Fe){for(var $e,Re=xe.getVoRepresentations(z),Me=0;Me<Re.length;Me++)if(x[P].id===Re[Me].id){$e=Re[Me];break}return G.getSegmentRequestForTime(z,$e,Fe)}},_e(),he=(0,h.Z)(Ke).create({}),pe=(0,u.Z)(Ke).getInstance(),V=(0,e.Z)(Ke).create({events:be,eventBus:ye,streamInfo:pt,timelineConverter:Te,dashConstants:Ve,dashMetrics:y.dashMetrics,segmentBaseController:y.segmentBaseController,type:se.Z.IMAGE}),(G=(0,w.Z)(Ke).create({streamInfo:pt,type:se.Z.IMAGE,timelineConverter:Te,segmentsController:V,baseURLController:ae,debug:qe,eventBus:ye,events:be,dashConstants:Ve,urlUtils:tt})).initialize(!!xe&&xe.getIsDynamic()),M}f.__dashjs_factory_name="ThumbnailTracks";const b=t.Z.getClassFactory(f)},7417:(We,Se,L)=>{L.d(Se,{Z:()=>u});var se=L(6398),S=L(8260),t=L(5448),r=L(6934),v=L(9597);function g(){var h,w,e=this.context;function d(y){if(!y)return null;y.fileStart===void 0&&(y.fileStart=0);var M=r.parseBuffer(y),x=(0,S.Z)(e).create();return x.setData(M),x}function f(y,M){return y[M+3]>>>0|y[M+2]<<8>>>0|y[M+1]<<16>>>0|y[M]<<24>>>0}function b(y,M){return String.fromCharCode(y[M++])+String.fromCharCode(y[M++])+String.fromCharCode(y[M++])+String.fromCharCode(y[M])}return w={parse:d,findLastTopIsoBoxCompleted:function(y,M,x){if(x===void 0&&(x=0),!M||x+8>=M.byteLength)return new v.Z(0,!1);for(var G,P=M instanceof ArrayBuffer?new Uint8Array(M):M,z=0;x<P.byteLength;){var V=f(P,x),he=b(P,x+4);if(V===0)break;x+V<=P.byteLength&&(y.indexOf(he)>=0?G=new v.Z(x,!0,V):z=x+V),x+=V}return G||new v.Z(z,!1)},getMediaTimescaleFromMoov:function(y){var M=d(y),x=M?M.getBox("mdhd"):void 0;return x?x.timescale:NaN},getSamplesInfo:function(y){if(!y||y.byteLength===0)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var M,x,G,P,z,V,he,pe,Ke,xe,ae,pt,Te,qe,ye,be,Ve=d(y),tt=Ve.getBoxes("moof"),rt=Ve.getBoxes("mfhd");ye=Ve.getBoxes("moof").length,qe=rt[rt.length-1].sequence_number,x=0,z=[];var _e=-1,Fe=-1;for(xe=0;xe<tt.length;xe++){var $e=tt[xe],Re=$e.getChildBoxes("traf");for(pe=0;pe<Re.length;pe++){var Me=Re[pe],fe=Me.getChildBox("tfhd"),B=Me.getChildBox("tfdt");P=B.baseMediaDecodeTime;var te=Me.getChildBoxes("trun"),n=Me.getChildBoxes("subs");for(Ke=0;Ke<te.length;Ke++){var l=te[Ke];for(x=l.sample_count,Te=(fe.base_data_offset||0)+(l.data_offset||0),he=0;he<x;he++){M=(V=l.samples[he]).sample_duration!==void 0?V.sample_duration:fe.default_sample_duration,G=V.sample_size!==void 0?V.sample_size:fe.default_sample_size;var A={dts:P,cts:P+(V.sample_composition_time_offset!==void 0?V.sample_composition_time_offset:0),duration:M,offset:$e.offset+Te,size:G,subSizes:[G]};if(n)for(ae=0;ae<n.length;ae++){var N=n[ae];if(_e<N.entry_count-1&&he>Fe&&(_e++,Fe+=N.entries[_e].sample_delta),he==Fe){A.subSizes=[];var ie=N.entries[_e];for(pt=0;pt<ie.subsample_count;pt++)A.subSizes.push(ie.subsamples[pt].subsample_size)}}z.push(A),Te+=G,P+=M}}be=P-B.baseMediaDecodeTime}}return{sampleList:z,lastSequenceNumber:qe,totalDuration:be,numSequences:ye}},findInitRange:function(y){var M=null,x=d(y);if(!x)return M;var G=x.getBox("ftyp"),P=x.getBox("moov");return h.debug("Searching for initialization."),P&&P.isComplete&&(M=(G?G.offset:P.offset)+"-"+(P.offset+P.size-1),h.debug("Found the initialization.  Range: "+M)),M},parsePayload:function(y,M,x){if(x===void 0&&(x=0),!M||x+8>=M.byteLength)return new v.Z(0,!1);for(var G,P=M instanceof ArrayBuffer?new Uint8Array(M):M,z=0;x<P.byteLength;){var V=f(P,x),he=b(P,x+4);if(V===0)break;x+V<=P.byteLength&&(y.indexOf(he)>=0?G=new v.Z(x,!0,V,he):z=x+V),x+=V}return G||new v.Z(z,!1)}},h=(0,se.Z)(e).getInstance().getLogger(w),w}g.__dashjs_factory_name="BoxParser";const u=t.Z.getSingletonFactory(g)},1715:(We,Se,L)=>{L.d(Se,{B:()=>v,Z:()=>u});var se=L(5448),S=L(7803),t=L(3393),r=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function v(){var h="WebKitMediaSource"in window,w="MediaSource"in window;return h||w}function g(){var h,w,e;return h={setConfig:function(d){d&&d.settings&&(w=d.settings)},supportsMediaSource:v,supportsEncryptedMedia:function(){return e},supportsCodec:function(d,f){return f!==t.Z.AUDIO&&f!==t.Z.VIDEO?Promise.resolve(!0):function(b,y){return w.get().streaming.capabilities.useMediaCapabilitiesApi&&navigator.mediaCapabilities&&navigator.mediaCapabilities.decodingInfo&&(b.codec&&y===t.Z.AUDIO||y===t.Z.VIDEO&&b.codec&&b.width&&b.height&&b.bitrate&&b.framerate)}(d,f)?function(b,y){return new Promise(function(M){if(b&&b.codec){var x={type:"media-source"};x[y]={},x[y].contentType=b.codec,x[y].width=b.width,x[y].height=b.height,x[y].bitrate=parseInt(b.bitrate),x[y].framerate=parseFloat(b.framerate),navigator.mediaCapabilities.decodingInfo(x).then(function(G){M(G.supported)}).catch(function(){M(!1)})}else M(!1)})}(d,f):function(b){return new Promise(function(y){if(b&&b.codec){var M=b.codec;b.width&&b.height&&(M+=';width="'+b.width+'";height="'+b.height+'"'),"MediaSource"in window&&MediaSource.isTypeSupported(M)||"WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(M)?y(!0):y(!1)}else y(!1)})}(d)},setEncryptedMediaSupported:function(d){e=d},supportsEssentialProperty:function(d){try{return S.Y.indexOf(d.schemeIdUri)!==-1}catch{return!0}},codecRootCompatibleWithCodec:function(d,f){for(var b,y=d.split(".")[0],M=f.indexOf(y)===0,x=0;x<r.length;x++)if(r[x].codec===y){b=r[x];break}return b?M||b.compatibleCodecs.some(function(G){return f.indexOf(G)===0}):M}},e=!1,h}g.__dashjs_factory_name="Capabilities";const u=se.Z.getSingletonFactory(g)},2295:(We,Se,L)=>{L.d(Se,{Z:()=>r});var se=L(5448),S=L(3106);function t(){return{customTimeRangeArray:[],length:0,add:function(v,g){var u=0;for(u=0;u<this.customTimeRangeArray.length&&v>this.customTimeRangeArray[u].start;u++);for(this.customTimeRangeArray.splice(u,0,{start:v,end:g}),u=0;u<this.customTimeRangeArray.length-1;u++)this.mergeRanges(u,u+1)&&u--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(v,g){for(var u=0;u<this.customTimeRangeArray.length;u++)if(v<=this.customTimeRangeArray[u].start&&g>=this.customTimeRangeArray[u].end)this.customTimeRangeArray.splice(u,1),u--;else{if(v>this.customTimeRangeArray[u].start&&g<this.customTimeRangeArray[u].end){this.customTimeRangeArray.splice(u+1,0,{start:g,end:this.customTimeRangeArray[u].end}),this.customTimeRangeArray[u].end=v;break}v>this.customTimeRangeArray[u].start&&v<this.customTimeRangeArray[u].end?this.customTimeRangeArray[u].end=v:g>this.customTimeRangeArray[u].start&&g<this.customTimeRangeArray[u].end&&(this.customTimeRangeArray[u].start=g)}this.length=this.customTimeRangeArray.length},mergeRanges:function(v,g){var u=this.customTimeRangeArray[v],h=this.customTimeRangeArray[g];return u.start<=h.start&&h.start<=u.end&&u.end<=h.end?(u.end=h.end,this.customTimeRangeArray.splice(g,1),!0):h.start<=u.start&&u.start<=h.end&&h.end<=u.end?(u.start=h.start,this.customTimeRangeArray.splice(g,1),!0):h.start<=u.start&&u.start<=h.end&&u.end<=h.end?(this.customTimeRangeArray.splice(v,1),!0):u.start<=h.start&&h.start<=u.end&&h.end<=u.end&&(this.customTimeRangeArray.splice(g,1),!0)},start:function(v){return(0,S.SE)(v),v>=this.customTimeRangeArray.length||v<0?NaN:this.customTimeRangeArray[v].start},end:function(v){return(0,S.SE)(v),v>=this.customTimeRangeArray.length||v<0?NaN:this.customTimeRangeArray[v].end}}}t.__dashjs_factory_name="CustomTimeRanges";const r=se.Z.getClassFactory(t)},5:(We,Se,L)=>{L.d(Se,{Z:()=>t});var se=L(5448);function S(){var r,v=/^[a-z][a-z0-9+\-_.]*:/i,g=/^https?:\/\//i,u=/^https:\/\//i,h=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i,w=function(G,P){try{return new window.URL(G,P).toString()}catch{return G}},e=function(G,P){var z=d;if(!P||!y(G))return G;M(G)&&(z=f),x(G)&&(z=b);var V=z(P),he=V.charAt(V.length-1)!=="/"&&G.charAt(0)!=="/"?"/":"";return[V,G].join(he)};function d(G){var P=G.indexOf("/"),z=G.lastIndexOf("/");return P!==-1?z===P+1?G:(G.indexOf("?")!==-1&&(G=G.substring(0,G.indexOf("?"))),G.substring(0,z+1)):""}function f(G){var P=G.match(h);return P?P[1]:""}function b(G){var P=G.match(v);return P?P[0]:""}function y(G){return!v.test(G)}function M(G){return y(G)&&G.charAt(0)==="/"}function x(G){return G.indexOf("//")===0}return function(){try{new window.URL("x","http://y"),r=w}catch{}finally{r=r||e}}(),{parseBaseUrl:d,parseOrigin:f,parseScheme:b,isRelative:y,isPathAbsolute:M,isSchemeRelative:x,isHTTPURL:function(G){return g.test(G)},isHTTPS:function(G){return u.test(G)},removeHostname:function(G){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(G)[2].substring(1)},resolve:function(G,P){return r(G,P)}}}S.__dashjs_factory_name="DefaultURLUtils";const t=se.Z.getSingletonFactory(S)},8260:(We,Se,L)=>{L.d(Se,{Z:()=>r});var se=L(2839),S=L(5448);function t(){var v;function g(h){var w=[];if(!h||!v||typeof v.fetchAll!="function")return w;for(var e,d=v.fetchAll(h),f=0,b=d.length;f<b;f++)(e=u(d[f]))&&w.push(e);return w}function u(h){if(!h)return null;var w=new se.Z(h);return h.hasOwnProperty("_incomplete")&&(w.isComplete=!h._incomplete),w}return{getBox:function(h){return h&&v&&v.boxes&&v.boxes.length!==0&&typeof v.fetch=="function"?u(v.fetch(h)):null},getBoxes:g,setData:function(h){v=h},getLastBox:function(){if(!v||!v.boxes||!v.boxes.length)return null;var h=g(v.boxes[v.boxes.length-1].type);return h.length>0?h[h.length-1]:null}}}t.__dashjs_factory_name="IsoFile";const r=S.Z.getClassFactory(t)},7473:(We,Se,L)=>{L.d(Se,{Z:()=>r,k:()=>S});var se=L(5448);function S(v,g){var u={url:v.url,method:v.method,headers:Object.assign({},v.headers),credentials:v.withCredentials?"include":void 0};return Promise.resolve(g.modifyRequest(u)).then(function(){return Object.assign(v,u,{withCredentials:u.credentials==="include"})})}function t(){return{modifyRequest:null,modifyRequestURL:function(v){return v},modifyRequestHeader:function(v,g){return g.url,v}}}t.__dashjs_factory_name="RequestModifier";const r=se.Z.getSingletonFactory(t)},3106:(We,Se,L)=>{L.d(Se,{PS:()=>t,SE:()=>r});var se=L(3393);function S(v){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},S(v)}function t(v,g){if(S(v)!==g)throw se.Z.BAD_ARGUMENT_ERROR}function r(v){if(v===null||isNaN(v)||v%1!=0)throw se.Z.BAD_ARGUMENT_ERROR+" : argument is not an integer"}},2594:(We,Se,L)=>{L.d(Se,{Z:()=>r});var se=L(5448),S=L(5);function t(){var v,g=[],u=this.context;function h(w,e,d){var f=function(b){var y;for(y=0;y<g.length;y++)if(g[y].regex.test(b))return g[y].utils;return v}(d||e);return f&&typeof f[w]=="function"?f[w](e,d):v[w](e,d)}return v=(0,S.Z)(u).getInstance(),{registerUrlRegex:function(w,e){g.push({regex:w,utils:e})},parseBaseUrl:function(w){return h("parseBaseUrl",w)},parseOrigin:function(w){return h("parseOrigin",w)},parseScheme:function(w){return h("parseScheme",w)},isRelative:function(w){return h("isRelative",w)},isPathAbsolute:function(w){return h("isPathAbsolute",w)},isSchemeRelative:function(w){return h("isSchemeRelative",w)},isHTTPURL:function(w){return h("isHTTPURL",w)},isHTTPS:function(w){return h("isHTTPS",w)},removeHostname:function(w){return h("removeHostname",w)},resolve:function(w,e){return h("resolve",w,e)}}}t.__dashjs_factory_name="URLUtils";const r=se.Z.getSingletonFactory(t)},5459:(We,Se,L)=>{L.d(Se,{Z:()=>se});const se=function S(t,r,v){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,S),this.code=t||null,this.message=r||null,this.data=v||null}},3186:(We,Se,L)=>{L.d(Se,{Z:()=>r});var se=L(7855);function S(v,g){for(var u=0;u<g.length;u++){var h=g[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}var t=function(){function v(h){(function(w,e){if(!(w instanceof e))throw new TypeError("Cannot call a class as a function")})(this,v),this.action=v.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaStartTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=h||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}var g,u;return g=v,(u=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===se.w.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(h){this.type=h&&h.init?se.w.INIT_SEGMENT_TYPE:se.w.MEDIA_SEGMENT_TYPE,this.url=h&&h.url?h.url:null,this.range=h&&h.range?h.range.start+"-"+h.range.end:null,this.mediaType=h&&h.mediaType?h.mediaType:null}}])&&S(g.prototype,u),v}();t.ACTION_DOWNLOAD="download",t.ACTION_COMPLETE="complete";const r=t},2839:(We,Se,L)=>{function se(t,r){for(var v=0;v<r.length;v++){var g=r[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(t,g.key,g)}}L.d(Se,{Z:()=>S});const S=function(){function t(g){if(function(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}(this,t),this.offset=g._offset,this.type=g.type,this.size=g.size,this.boxes=[],g.boxes)for(var u=0;u<g.boxes.length;u++)this.boxes.push(new t(g.boxes[u]));switch(this.isComplete=!0,g.type){case"sidx":if(this.timescale=g.timescale,this.earliest_presentation_time=g.earliest_presentation_time,this.first_offset=g.first_offset,this.references=g.references,g.references){this.references=[];for(var h=0;h<g.references.length;h++){var w={reference_type:g.references[h].reference_type,referenced_size:g.references[h].referenced_size,subsegment_duration:g.references[h].subsegment_duration};this.references.push(w)}}break;case"emsg":this.id=g.id,this.version=g.version===1?1:0,this.value=g.value,this.timescale=g.timescale,this.scheme_id_uri=g.scheme_id_uri,this.presentation_time_delta=g.version===1?g.presentation_time:g.presentation_time_delta,this.event_duration=g.event_duration,this.message_data=g.message_data;break;case"mdhd":this.timescale=g.timescale;break;case"mfhd":this.sequence_number=g.sequence_number;break;case"subs":this.entry_count=g.entry_count,this.entries=g.entries;break;case"tfhd":this.base_data_offset=g.base_data_offset,this.sample_description_index=g.sample_description_index,this.default_sample_duration=g.default_sample_duration,this.default_sample_size=g.default_sample_size,this.default_sample_flags=g.default_sample_flags,this.flags=g.flags;break;case"tfdt":this.version=g.version,this.baseMediaDecodeTime=g.baseMediaDecodeTime,this.flags=g.flags;break;case"trun":if(this.sample_count=g.sample_count,this.first_sample_flags=g.first_sample_flags,this.data_offset=g.data_offset,this.flags=g.flags,this.samples=g.samples,g.samples){this.samples=[];for(var e=0,d=g.samples.length;e<d;e++){var f={sample_size:g.samples[e].sample_size,sample_duration:g.samples[e].sample_duration,sample_composition_time_offset:g.samples[e].sample_composition_time_offset};this.samples.push(f)}}}}var r,v;return r=t,(v=[{key:"getChildBox",value:function(g){for(var u=0;u<this.boxes.length;u++)if(this.boxes[u].type===g)return this.boxes[u]}},{key:"getChildBoxes",value:function(g){for(var u=[],h=0;h<this.boxes.length;h++)this.boxes[h].type===g&&u.push(this.boxes[h]);return u}}])&&se(r.prototype,v),t}()},9597:(We,Se,L)=>{L.d(Se,{Z:()=>se});const se=function S(t,r,v){(function(g,u){if(!(g instanceof u))throw new TypeError("Cannot call a class as a function")})(this,S),this.lastCompletedOffset=t,this.found=r,this.size=v}},2128:(We,Se,L)=>{L.d(Se,{Z:()=>se});const se=function S(){(function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")})(this,S),this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""}},7855:(We,Se,L)=>{function se(r,v){if(!(r instanceof v))throw new TypeError("Cannot call a class as a function")}L.d(Se,{O:()=>t,w:()=>S});var S=function r(){se(this,r),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this.cmsd=null,this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null,this._fileLoaderType=null},t=function r(){se(this,r),this.s=null,this.d=null,this.b=[]};S.GET="GET",S.HEAD="HEAD",S.MPD_TYPE="MPD",S.XLINK_EXPANSION_TYPE="XLinkExpansion",S.INIT_SEGMENT_TYPE="InitializationSegment",S.INDEX_SEGMENT_TYPE="IndexSegment",S.MEDIA_SEGMENT_TYPE="MediaSegment",S.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",S.MSS_FRAGMENT_INFO_SEGMENT_TYPE="FragmentInfoSegment",S.DVB_REPORTING_TYPE="DVBReporting",S.LICENSE="license",S.CONTENT_STEERING_TYPE="ContentSteering",S.OTHER_TYPE="other"},3039:(We,Se)=>{function L(S,t){return function(r,v){for(var g,u,h,w=se(r,"tag"),e=se(v??"*","range"),d=[],f=-1;++f<e.length;)if(g=e[f].toLowerCase(),t||g!=="*"){for(u=-1,h=[];++u<w.length;)if(S(w[u].toLowerCase(),g)){if(!t)return w[u];d.push(w[u])}else h.push(w[u]);w=h}return t?d:void 0}}function se(S,t){var r=S&&typeof S=="string"?[S]:S;if(!r||typeof r!="object"||!("length"in r))throw new Error("Invalid "+t+" `"+r+"`, expected non-empty string");return r}Se.basicFilter=L(function(S,t){return t==="*"||S===t||S.indexOf(t+"-")>-1},!0),Se.extendedFilter=L(function(S,t){var r=S.split("-"),v=t.split("-"),g=0,u=0;if(v[u]!=="*"&&r[g]!==v[u])return!1;for(g++,u++;u<v.length;)if(v[u]!=="*"){if(!r[g])return!1;if(r[g]!==v[u]){if(r[g].length===1)return!1;g++}else g++,u++}else u++;return!0},!0),Se.lookup=L(function(S,t){for(var r,v=t;;){if(v==="*"||S===v)return!0;if((r=v.lastIndexOf("-"))<0)return!1;v.charAt(r-2)==="-"&&(r-=2),v=v.slice(0,r)}})},3973:(We,Se,L)=>{We.exports=L(3854)},3854:(We,Se,L)=>{var se=L(2415),S=L(3039),t=L(7778),r=L(5813),v=L(3165),g=L(9460);We.exports=function(y,M){var x,G=M||{},P=se.parse(String(y||"").toLowerCase(),G),z=se.stringify(P),V=-1;if(!z)return z;for(;++V<t.length;)S.extendedFilter(z,t[V].from).length&&(e(P,t[V].from,t[V].to),z=se.stringify(P));for(V=-1;++V<r.length;)d(P,r[V].from.field,r[V].from.value)&&f(P,r[V].to.field,r[V].to.value);for(z=se.stringify(Object.assign({},P,w)),V=-1;++V<v.length;)z===v[V]&&(e(P,v[V],v[V].split("-").slice(0,-1).join("-")),z=se.stringify(Object.assign({},P,w)));if(P.extensions.sort(b),G.warning)for(x in g)u.call(g[x],P[x])&&G.warning("Deprecated "+x+" `"+P[x]+"`, expected one of `"+g[x][P[x]].join("`, `")+"`",null,7);return P.script&&(P.script=P.script.charAt(0).toUpperCase()+P.script.slice(1)),P.region&&(P.region=P.region.toUpperCase()),se.stringify(P)};var u={}.hasOwnProperty,h=new Intl.Collator,w={variants:[],extensions:[],privateuse:[],irregular:null,regular:null};function e(y,M,x){var G,P=se.parse(M),z=se.parse(x),V=[];for(G in P)P[G]&&P[G].length&&d(y,G,P[G])&&V.push(G);for(G in z)z[G]&&z[G].length&&(V.indexOf(G)>-1||!y[G]||!y[G].length)&&f(y,G,z[G])}function d(y,M,x){var G,P,z,V,he=!1;if(x){if(P=G=y[M],G&&typeof G=="object")for(P=[],z=-1;++z<G.length;)V=G[z],x.indexOf(V)<0?P.push(V):he=!0;else G===x&&(P=null,he=!0);y[M]=P}return he}function f(y,M,x){var G,P,z,V=y[M];if(V&&typeof V=="object")for(G=[].concat(x),P=-1;++P<G.length;)z=G[P],V.indexOf(z)<0&&V.push(z);else y[M]=x}function b(y,M){return h.compare(y.singleton,M.singleton)}},2415:(We,Se,L)=>{Se.parse=L(6903),Se.stringify=L(6713)},6903:(We,Se,L)=>{var se=L(2219),S=L(3516),t=L(395),r=L(858),v=L(8589);We.exports=function u(h,w){var e,d,f,b=w||{},y={language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null},M=String(h),x=M.toLowerCase(),G=0;if(h==null)throw new Error("Expected string, got `"+h+"`");if(g.call(v,x))return(b.normalize==null||b.normalize)&&v[x]?u(v[x]):(y[r.indexOf(x)===-1?"irregular":"regular"]=M,y);for(;S(x.charCodeAt(G))&&G<9;)G++;if(G>1&&G<9){if(y.language=M.slice(0,G),G<4)for(d=0;x.charCodeAt(G)===45&&S(x.charCodeAt(G+1))&&S(x.charCodeAt(G+2))&&S(x.charCodeAt(G+3))&&!S(x.charCodeAt(G+4));){if(d>2)return P(G,3,"Too many extended language subtags, expected at most 3 subtags");y.extendedLanguageSubtags.push(M.slice(G+1,G+4)),G+=4,d++}for(x.charCodeAt(G)===45&&S(x.charCodeAt(G+1))&&S(x.charCodeAt(G+2))&&S(x.charCodeAt(G+3))&&S(x.charCodeAt(G+4))&&!S(x.charCodeAt(G+5))&&(y.script=M.slice(G+1,G+5),G+=5),x.charCodeAt(G)===45&&(S(x.charCodeAt(G+1))&&S(x.charCodeAt(G+2))&&!S(x.charCodeAt(G+3))?(y.region=M.slice(G+1,G+3),G+=3):t(x.charCodeAt(G+1))&&t(x.charCodeAt(G+2))&&t(x.charCodeAt(G+3))&&!t(x.charCodeAt(G+4))&&(y.region=M.slice(G+1,G+4),G+=4));x.charCodeAt(G)===45;){for(f=e=G+1;se(x.charCodeAt(f));){if(f-e>7)return P(f,1,"Too long variant, expected at most 8 characters");f++}if(!(f-e>4||f-e>3&&t(x.charCodeAt(e))))break;y.variants.push(M.slice(e,f)),G=f}for(;x.charCodeAt(G)===45&&x.charCodeAt(G+1)!==120&&se(x.charCodeAt(G+1))&&x.charCodeAt(G+2)===45&&se(x.charCodeAt(G+3));){for(f=G+2,d=0;x.charCodeAt(f)===45&&se(x.charCodeAt(f+1))&&se(x.charCodeAt(f+2));)for(f=(e=f+1)+2,d++;se(x.charCodeAt(f));){if(f-e>7)return P(f,2,"Too long extension, expected at most 8 characters");f++}if(!d)return P(f,4,"Empty extension, extensions must have at least 2 characters of content");y.extensions.push({singleton:M.charAt(G+1),extensions:M.slice(G+3,f).split("-")}),G=f}}else G=0;if(G===0&&x.charCodeAt(G)===120||x.charCodeAt(G)===45&&x.charCodeAt(G+1)===120)for(f=G=G?G+2:1;x.charCodeAt(f)===45&&se(x.charCodeAt(f+1));){for(f=e=G+1;se(x.charCodeAt(f));){if(f-e>7)return P(f,5,"Too long private-use area, expected at most 8 characters");f++}y.privateuse.push(M.slice(G+1,f)),G=f}return G!==M.length?P(G,6,"Found superfluous content after tag"):y;function P(z,V,he){return b.warning&&b.warning(he,V,z),b.forgiving?y:{language:null,extendedLanguageSubtags:[],script:null,region:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}};var g={}.hasOwnProperty},6713:We=>{We.exports=function(Se){var L,se,S,t=Se||{},r=[];if(t.irregular||t.regular)return t.irregular||t.regular;if(t.language)for(r=r.concat(t.language,t.extendedLanguageSubtags||[],t.script||[],t.region||[],t.variants||[]),L=t.extensions||[],se=-1;++se<L.length;)(S=L[se]).singleton&&S.extensions&&S.extensions.length&&(r=r.concat(S.singleton,S.extensions));return t.privateuse&&t.privateuse.length&&(r=r.concat("x",t.privateuse)),r.join("-")}},1549:(We,Se,L)=>{var se=L(6693),S=L(2165),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Se.Buffer=g,Se.SlowBuffer=function(n){return+n!=n&&(n=0),g.alloc(+n)},Se.INSPECT_MAX_BYTES=50;var r=2147483647;function v(n){if(n>r)throw new RangeError('The value "'+n+'" is invalid for option "size"');var l=new Uint8Array(n);return Object.setPrototypeOf(l,g.prototype),l}function g(n,l,A){if(typeof n=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(n)}return u(n,l,A)}function u(n,l,A){if(typeof n=="string")return function(ue,me){if(typeof me=="string"&&me!==""||(me="utf8"),!g.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var Pe=0|b(ue,me),He=v(Pe),ze=He.write(ue,me);return ze!==Pe&&(He=He.slice(0,ze)),He}(n,l);if(ArrayBuffer.isView(n))return function(ue){if(fe(ue,Uint8Array)){var me=new Uint8Array(ue);return d(me.buffer,me.byteOffset,me.byteLength)}return e(ue)}(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(fe(n,ArrayBuffer)||n&&fe(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(n,SharedArrayBuffer)||n&&fe(n.buffer,SharedArrayBuffer)))return d(n,l,A);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var N=n.valueOf&&n.valueOf();if(N!=null&&N!==n)return g.from(N,l,A);var ie=function(ue){if(g.isBuffer(ue)){var me=0|f(ue.length),Pe=v(me);return Pe.length===0||ue.copy(Pe,0,0,me),Pe}return ue.length!==void 0?typeof ue.length!="number"||B(ue.length)?v(0):e(ue):ue.type==="Buffer"&&Array.isArray(ue.data)?e(ue.data):void 0}(n);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return g.from(n[Symbol.toPrimitive]("string"),l,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}function h(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function w(n){return h(n),v(n<0?0:0|f(n))}function e(n){for(var l=n.length<0?0:0|f(n.length),A=v(l),N=0;N<l;N+=1)A[N]=255&n[N];return A}function d(n,l,A){if(l<0||n.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<l+(A||0))throw new RangeError('"length" is outside of buffer bounds');var N;return N=l===void 0&&A===void 0?new Uint8Array(n):A===void 0?new Uint8Array(n,l):new Uint8Array(n,l,A),Object.setPrototypeOf(N,g.prototype),N}function f(n){if(n>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|n}function b(n,l){if(g.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||fe(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);var A=n.length,N=arguments.length>2&&arguments[2]===!0;if(!N&&A===0)return 0;for(var ie=!1;;)switch(l){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return $e(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return Re(n).length;default:if(ie)return N?-1:$e(n).length;l=(""+l).toLowerCase(),ie=!0}}function y(n,l,A){var N=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0)<=(l>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":return qe(this,l,A);case"utf8":case"utf-8":return xe(this,l,A);case"ascii":return pt(this,l,A);case"latin1":case"binary":return Te(this,l,A);case"base64":return Ke(this,l,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,l,A);default:if(N)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),N=!0}}function M(n,l,A){var N=n[l];n[l]=n[A],n[A]=N}function x(n,l,A,N,ie){if(n.length===0)return-1;if(typeof A=="string"?(N=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),B(A=+A)&&(A=ie?0:n.length-1),A<0&&(A=n.length+A),A>=n.length){if(ie)return-1;A=n.length-1}else if(A<0){if(!ie)return-1;A=0}if(typeof l=="string"&&(l=g.from(l,N)),g.isBuffer(l))return l.length===0?-1:G(n,l,A,N,ie);if(typeof l=="number")return l&=255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(n,l,A):Uint8Array.prototype.lastIndexOf.call(n,l,A):G(n,[l],A,N,ie);throw new TypeError("val must be string, number or Buffer")}function G(n,l,A,N,ie){var ue,me=1,Pe=n.length,He=l.length;if(N!==void 0&&((N=String(N).toLowerCase())==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(n.length<2||l.length<2)return-1;me=2,Pe/=2,He/=2,A/=2}function ze(wt,Dt){return me===1?wt[Dt]:wt.readUInt16BE(Dt*me)}if(ie){var Qe=-1;for(ue=A;ue<Pe;ue++)if(ze(n,ue)===ze(l,Qe===-1?0:ue-Qe)){if(Qe===-1&&(Qe=ue),ue-Qe+1===He)return Qe*me}else Qe!==-1&&(ue-=ue-Qe),Qe=-1}else for(A+He>Pe&&(A=Pe-He),ue=A;ue>=0;ue--){for(var we=!0,ut=0;ut<He;ut++)if(ze(n,ue+ut)!==ze(l,ut)){we=!1;break}if(we)return ue}return-1}function P(n,l,A,N){A=Number(A)||0;var ie=n.length-A;N?(N=Number(N))>ie&&(N=ie):N=ie;var ue=l.length;N>ue/2&&(N=ue/2);for(var me=0;me<N;++me){var Pe=parseInt(l.substr(2*me,2),16);if(B(Pe))return me;n[A+me]=Pe}return me}function z(n,l,A,N){return Me($e(l,n.length-A),n,A,N)}function V(n,l,A,N){return Me(function(ie){for(var ue=[],me=0;me<ie.length;++me)ue.push(255&ie.charCodeAt(me));return ue}(l),n,A,N)}function he(n,l,A,N){return Me(Re(l),n,A,N)}function pe(n,l,A,N){return Me(function(ie,ue){for(var me,Pe,He,ze=[],Qe=0;Qe<ie.length&&!((ue-=2)<0);++Qe)Pe=(me=ie.charCodeAt(Qe))>>8,He=me%256,ze.push(He),ze.push(Pe);return ze}(l,n.length-A),n,A,N)}function Ke(n,l,A){return l===0&&A===n.length?se.fromByteArray(n):se.fromByteArray(n.slice(l,A))}function xe(n,l,A){A=Math.min(n.length,A);for(var N=[],ie=l;ie<A;){var ue,me,Pe,He,ze=n[ie],Qe=null,we=ze>239?4:ze>223?3:ze>191?2:1;if(ie+we<=A)switch(we){case 1:ze<128&&(Qe=ze);break;case 2:(192&(ue=n[ie+1]))==128&&(He=(31&ze)<<6|63&ue)>127&&(Qe=He);break;case 3:ue=n[ie+1],me=n[ie+2],(192&ue)==128&&(192&me)==128&&(He=(15&ze)<<12|(63&ue)<<6|63&me)>2047&&(He<55296||He>57343)&&(Qe=He);break;case 4:ue=n[ie+1],me=n[ie+2],Pe=n[ie+3],(192&ue)==128&&(192&me)==128&&(192&Pe)==128&&(He=(15&ze)<<18|(63&ue)<<12|(63&me)<<6|63&Pe)>65535&&He<1114112&&(Qe=He)}Qe===null?(Qe=65533,we=1):Qe>65535&&(Qe-=65536,N.push(Qe>>>10&1023|55296),Qe=56320|1023&Qe),N.push(Qe),ie+=we}return function(ut){var wt=ut.length;if(wt<=ae)return String.fromCharCode.apply(String,ut);for(var Dt="",Ut=0;Ut<wt;)Dt+=String.fromCharCode.apply(String,ut.slice(Ut,Ut+=ae));return Dt}(N)}Se.kMaxLength=r,g.TYPED_ARRAY_SUPPORT=function(){try{var n=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(n,l),n.foo()===42}catch{return!1}}(),g.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}}),g.poolSize=8192,g.from=function(n,l,A){return u(n,l,A)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array),g.alloc=function(n,l,A){return function(N,ie,ue){return h(N),N<=0?v(N):ie!==void 0?typeof ue=="string"?v(N).fill(ie,ue):v(N).fill(ie):v(N)}(n,l,A)},g.allocUnsafe=function(n){return w(n)},g.allocUnsafeSlow=function(n){return w(n)},g.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==g.prototype},g.compare=function(n,l){if(fe(n,Uint8Array)&&(n=g.from(n,n.offset,n.byteLength)),fe(l,Uint8Array)&&(l=g.from(l,l.offset,l.byteLength)),!g.isBuffer(n)||!g.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===l)return 0;for(var A=n.length,N=l.length,ie=0,ue=Math.min(A,N);ie<ue;++ie)if(n[ie]!==l[ie]){A=n[ie],N=l[ie];break}return A<N?-1:N<A?1:0},g.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(n,l){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return g.alloc(0);var A;if(l===void 0)for(l=0,A=0;A<n.length;++A)l+=n[A].length;var N=g.allocUnsafe(l),ie=0;for(A=0;A<n.length;++A){var ue=n[A];if(fe(ue,Uint8Array))ie+ue.length>N.length?g.from(ue).copy(N,ie):Uint8Array.prototype.set.call(N,ue,ie);else{if(!g.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(N,ie)}ie+=ue.length}return N},g.byteLength=b,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var l=0;l<n;l+=2)M(this,l,l+1);return this},g.prototype.swap32=function(){var n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var l=0;l<n;l+=4)M(this,l,l+3),M(this,l+1,l+2);return this},g.prototype.swap64=function(){var n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var l=0;l<n;l+=8)M(this,l,l+7),M(this,l+1,l+6),M(this,l+2,l+5),M(this,l+3,l+4);return this},g.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?xe(this,0,n):y.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(n){if(!g.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||g.compare(this,n)===0},g.prototype.inspect=function(){var n="",l=Se.INSPECT_MAX_BYTES;return n=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(n+=" ... "),"<Buffer "+n+">"},t&&(g.prototype[t]=g.prototype.inspect),g.prototype.compare=function(n,l,A,N,ie){if(fe(n,Uint8Array)&&(n=g.from(n,n.offset,n.byteLength)),!g.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(l===void 0&&(l=0),A===void 0&&(A=n?n.length:0),N===void 0&&(N=0),ie===void 0&&(ie=this.length),l<0||A>n.length||N<0||ie>this.length)throw new RangeError("out of range index");if(N>=ie&&l>=A)return 0;if(N>=ie)return-1;if(l>=A)return 1;if(this===n)return 0;for(var ue=(ie>>>=0)-(N>>>=0),me=(A>>>=0)-(l>>>=0),Pe=Math.min(ue,me),He=this.slice(N,ie),ze=n.slice(l,A),Qe=0;Qe<Pe;++Qe)if(He[Qe]!==ze[Qe]){ue=He[Qe],me=ze[Qe];break}return ue<me?-1:me<ue?1:0},g.prototype.includes=function(n,l,A){return this.indexOf(n,l,A)!==-1},g.prototype.indexOf=function(n,l,A){return x(this,n,l,A,!0)},g.prototype.lastIndexOf=function(n,l,A){return x(this,n,l,A,!1)},g.prototype.write=function(n,l,A,N){if(l===void 0)N="utf8",A=this.length,l=0;else if(A===void 0&&typeof l=="string")N=l,A=this.length,l=0;else{if(!isFinite(l))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");l>>>=0,isFinite(A)?(A>>>=0,N===void 0&&(N="utf8")):(N=A,A=void 0)}var ie=this.length-l;if((A===void 0||A>ie)&&(A=ie),n.length>0&&(A<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");for(var ue=!1;;)switch(N){case"hex":return P(this,n,l,A);case"utf8":case"utf-8":return z(this,n,l,A);case"ascii":case"latin1":case"binary":return V(this,n,l,A);case"base64":return he(this,n,l,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,n,l,A);default:if(ue)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),ue=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ae=4096;function pt(n,l,A){var N="";A=Math.min(n.length,A);for(var ie=l;ie<A;++ie)N+=String.fromCharCode(127&n[ie]);return N}function Te(n,l,A){var N="";A=Math.min(n.length,A);for(var ie=l;ie<A;++ie)N+=String.fromCharCode(n[ie]);return N}function qe(n,l,A){var N=n.length;(!l||l<0)&&(l=0),(!A||A<0||A>N)&&(A=N);for(var ie="",ue=l;ue<A;++ue)ie+=te[n[ue]];return ie}function ye(n,l,A){for(var N=n.slice(l,A),ie="",ue=0;ue<N.length-1;ue+=2)ie+=String.fromCharCode(N[ue]+256*N[ue+1]);return ie}function be(n,l,A){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+l>A)throw new RangeError("Trying to access beyond buffer length")}function Ve(n,l,A,N,ie,ue){if(!g.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>ie||l<ue)throw new RangeError('"value" argument is out of bounds');if(A+N>n.length)throw new RangeError("Index out of range")}function tt(n,l,A,N,ie,ue){if(A+N>n.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function rt(n,l,A,N,ie){return l=+l,A>>>=0,ie||tt(n,0,A,4),S.write(n,l,A,N,23,4),A+4}function _e(n,l,A,N,ie){return l=+l,A>>>=0,ie||tt(n,0,A,8),S.write(n,l,A,N,52,8),A+8}g.prototype.slice=function(n,l){var A=this.length;(n=~~n)<0?(n+=A)<0&&(n=0):n>A&&(n=A),(l=l===void 0?A:~~l)<0?(l+=A)<0&&(l=0):l>A&&(l=A),l<n&&(l=n);var N=this.subarray(n,l);return Object.setPrototypeOf(N,g.prototype),N},g.prototype.readUintLE=g.prototype.readUIntLE=function(n,l,A){n>>>=0,l>>>=0,A||be(n,l,this.length);for(var N=this[n],ie=1,ue=0;++ue<l&&(ie*=256);)N+=this[n+ue]*ie;return N},g.prototype.readUintBE=g.prototype.readUIntBE=function(n,l,A){n>>>=0,l>>>=0,A||be(n,l,this.length);for(var N=this[n+--l],ie=1;l>0&&(ie*=256);)N+=this[n+--l]*ie;return N},g.prototype.readUint8=g.prototype.readUInt8=function(n,l){return n>>>=0,l||be(n,1,this.length),this[n]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(n,l){return n>>>=0,l||be(n,2,this.length),this[n]|this[n+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(n,l){return n>>>=0,l||be(n,2,this.length),this[n]<<8|this[n+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(n,l){return n>>>=0,l||be(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(n,l){return n>>>=0,l||be(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},g.prototype.readIntLE=function(n,l,A){n>>>=0,l>>>=0,A||be(n,l,this.length);for(var N=this[n],ie=1,ue=0;++ue<l&&(ie*=256);)N+=this[n+ue]*ie;return N>=(ie*=128)&&(N-=Math.pow(2,8*l)),N},g.prototype.readIntBE=function(n,l,A){n>>>=0,l>>>=0,A||be(n,l,this.length);for(var N=l,ie=1,ue=this[n+--N];N>0&&(ie*=256);)ue+=this[n+--N]*ie;return ue>=(ie*=128)&&(ue-=Math.pow(2,8*l)),ue},g.prototype.readInt8=function(n,l){return n>>>=0,l||be(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},g.prototype.readInt16LE=function(n,l){n>>>=0,l||be(n,2,this.length);var A=this[n]|this[n+1]<<8;return 32768&A?4294901760|A:A},g.prototype.readInt16BE=function(n,l){n>>>=0,l||be(n,2,this.length);var A=this[n+1]|this[n]<<8;return 32768&A?4294901760|A:A},g.prototype.readInt32LE=function(n,l){return n>>>=0,l||be(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},g.prototype.readInt32BE=function(n,l){return n>>>=0,l||be(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},g.prototype.readFloatLE=function(n,l){return n>>>=0,l||be(n,4,this.length),S.read(this,n,!0,23,4)},g.prototype.readFloatBE=function(n,l){return n>>>=0,l||be(n,4,this.length),S.read(this,n,!1,23,4)},g.prototype.readDoubleLE=function(n,l){return n>>>=0,l||be(n,8,this.length),S.read(this,n,!0,52,8)},g.prototype.readDoubleBE=function(n,l){return n>>>=0,l||be(n,8,this.length),S.read(this,n,!1,52,8)},g.prototype.writeUintLE=g.prototype.writeUIntLE=function(n,l,A,N){n=+n,l>>>=0,A>>>=0,N||Ve(this,n,l,A,Math.pow(2,8*A)-1,0);var ie=1,ue=0;for(this[l]=255&n;++ue<A&&(ie*=256);)this[l+ue]=n/ie&255;return l+A},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(n,l,A,N){n=+n,l>>>=0,A>>>=0,N||Ve(this,n,l,A,Math.pow(2,8*A)-1,0);var ie=A-1,ue=1;for(this[l+ie]=255&n;--ie>=0&&(ue*=256);)this[l+ie]=n/ue&255;return l+A},g.prototype.writeUint8=g.prototype.writeUInt8=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,1,255,0),this[l]=255&n,l+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,2,65535,0),this[l]=255&n,this[l+1]=n>>>8,l+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,2,65535,0),this[l]=n>>>8,this[l+1]=255&n,l+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,4,4294967295,0),this[l+3]=n>>>24,this[l+2]=n>>>16,this[l+1]=n>>>8,this[l]=255&n,l+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,4,4294967295,0),this[l]=n>>>24,this[l+1]=n>>>16,this[l+2]=n>>>8,this[l+3]=255&n,l+4},g.prototype.writeIntLE=function(n,l,A,N){if(n=+n,l>>>=0,!N){var ie=Math.pow(2,8*A-1);Ve(this,n,l,A,ie-1,-ie)}var ue=0,me=1,Pe=0;for(this[l]=255&n;++ue<A&&(me*=256);)n<0&&Pe===0&&this[l+ue-1]!==0&&(Pe=1),this[l+ue]=(n/me>>0)-Pe&255;return l+A},g.prototype.writeIntBE=function(n,l,A,N){if(n=+n,l>>>=0,!N){var ie=Math.pow(2,8*A-1);Ve(this,n,l,A,ie-1,-ie)}var ue=A-1,me=1,Pe=0;for(this[l+ue]=255&n;--ue>=0&&(me*=256);)n<0&&Pe===0&&this[l+ue+1]!==0&&(Pe=1),this[l+ue]=(n/me>>0)-Pe&255;return l+A},g.prototype.writeInt8=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,1,127,-128),n<0&&(n=255+n+1),this[l]=255&n,l+1},g.prototype.writeInt16LE=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,2,32767,-32768),this[l]=255&n,this[l+1]=n>>>8,l+2},g.prototype.writeInt16BE=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,2,32767,-32768),this[l]=n>>>8,this[l+1]=255&n,l+2},g.prototype.writeInt32LE=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,4,2147483647,-2147483648),this[l]=255&n,this[l+1]=n>>>8,this[l+2]=n>>>16,this[l+3]=n>>>24,l+4},g.prototype.writeInt32BE=function(n,l,A){return n=+n,l>>>=0,A||Ve(this,n,l,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[l]=n>>>24,this[l+1]=n>>>16,this[l+2]=n>>>8,this[l+3]=255&n,l+4},g.prototype.writeFloatLE=function(n,l,A){return rt(this,n,l,!0,A)},g.prototype.writeFloatBE=function(n,l,A){return rt(this,n,l,!1,A)},g.prototype.writeDoubleLE=function(n,l,A){return _e(this,n,l,!0,A)},g.prototype.writeDoubleBE=function(n,l,A){return _e(this,n,l,!1,A)},g.prototype.copy=function(n,l,A,N){if(!g.isBuffer(n))throw new TypeError("argument should be a Buffer");if(A||(A=0),N||N===0||(N=this.length),l>=n.length&&(l=n.length),l||(l=0),N>0&&N<A&&(N=A),N===A||n.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),n.length-l<N-A&&(N=n.length-l+A);var ie=N-A;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,A,N):Uint8Array.prototype.set.call(n,this.subarray(A,N),l),ie},g.prototype.fill=function(n,l,A,N){if(typeof n=="string"){if(typeof l=="string"?(N=l,l=0,A=this.length):typeof A=="string"&&(N=A,A=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!g.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(n.length===1){var ie=n.charCodeAt(0);(N==="utf8"&&ie<128||N==="latin1")&&(n=ie)}}else typeof n=="number"?n&=255:typeof n=="boolean"&&(n=Number(n));if(l<0||this.length<l||this.length<A)throw new RangeError("Out of range index");if(A<=l)return this;var ue;if(l>>>=0,A=A===void 0?this.length:A>>>0,n||(n=0),typeof n=="number")for(ue=l;ue<A;++ue)this[ue]=n;else{var me=g.isBuffer(n)?n:g.from(n,N),Pe=me.length;if(Pe===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(ue=0;ue<A-l;++ue)this[ue+l]=me[ue%Pe]}return this};var Fe=/[^+/0-9A-Za-z-_]/g;function $e(n,l){var A;l=l||1/0;for(var N=n.length,ie=null,ue=[],me=0;me<N;++me){if((A=n.charCodeAt(me))>55295&&A<57344){if(!ie){if(A>56319){(l-=3)>-1&&ue.push(239,191,189);continue}if(me+1===N){(l-=3)>-1&&ue.push(239,191,189);continue}ie=A;continue}if(A<56320){(l-=3)>-1&&ue.push(239,191,189),ie=A;continue}A=65536+(ie-55296<<10|A-56320)}else ie&&(l-=3)>-1&&ue.push(239,191,189);if(ie=null,A<128){if((l-=1)<0)break;ue.push(A)}else if(A<2048){if((l-=2)<0)break;ue.push(A>>6|192,63&A|128)}else if(A<65536){if((l-=3)<0)break;ue.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(A<1114112))throw new Error("Invalid code point");if((l-=4)<0)break;ue.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return ue}function Re(n){return se.toByteArray(function(l){if((l=(l=l.split("=")[0]).trim().replace(Fe,"")).length<2)return"";for(;l.length%4!=0;)l+="=";return l}(n))}function Me(n,l,A,N){for(var ie=0;ie<N&&!(ie+A>=l.length||ie>=n.length);++ie)l[ie+A]=n[ie];return ie}function fe(n,l){return n instanceof l||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===l.name}function B(n){return n!=n}var te=function(){for(var n="0123456789abcdef",l=new Array(256),A=0;A<16;++A)for(var N=16*A,ie=0;ie<16;++ie)l[N+ie]=n[A]+n[ie];return l}()},6693:(We,Se)=>{Se.byteLength=function(h){var w=g(h),e=w[0],d=w[1];return 3*(e+d)/4-d},Se.toByteArray=function(h){var w,e,d=g(h),f=d[0],b=d[1],y=new S(function(G,P,z){return 3*(P+z)/4-z}(0,f,b)),M=0,x=b>0?f-4:f;for(e=0;e<x;e+=4)w=se[h.charCodeAt(e)]<<18|se[h.charCodeAt(e+1)]<<12|se[h.charCodeAt(e+2)]<<6|se[h.charCodeAt(e+3)],y[M++]=w>>16&255,y[M++]=w>>8&255,y[M++]=255&w;return b===2&&(w=se[h.charCodeAt(e)]<<2|se[h.charCodeAt(e+1)]>>4,y[M++]=255&w),b===1&&(w=se[h.charCodeAt(e)]<<10|se[h.charCodeAt(e+1)]<<4|se[h.charCodeAt(e+2)]>>2,y[M++]=w>>8&255,y[M++]=255&w),y},Se.fromByteArray=function(h){for(var w,e=h.length,d=e%3,f=[],b=16383,y=0,M=e-d;y<M;y+=b)f.push(u(h,y,y+b>M?M:y+b));return d===1?(w=h[e-1],f.push(L[w>>2]+L[w<<4&63]+"==")):d===2&&(w=(h[e-2]<<8)+h[e-1],f.push(L[w>>10]+L[w>>4&63]+L[w<<2&63]+"=")),f.join("")};for(var L=[],se=[],S=typeof Uint8Array<"u"?Uint8Array:Array,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,v=t.length;r<v;++r)L[r]=t[r],se[t.charCodeAt(r)]=r;function g(h){var w=h.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=h.indexOf("=");return e===-1&&(e=w),[e,e===w?0:4-e%4]}function u(h,w,e){for(var d,f,b=[],y=w;y<e;y+=3)d=(h[y]<<16&16711680)+(h[y+1]<<8&65280)+(255&h[y+2]),b.push(L[(f=d)>>18&63]+L[f>>12&63]+L[f>>6&63]+L[63&f]);return b.join("")}se["-".charCodeAt(0)]=62,se["_".charCodeAt(0)]=63},2165:(We,Se)=>{Se.read=function(L,se,S,t,r){var v,g,u=8*r-t-1,h=(1<<u)-1,w=h>>1,e=-7,d=S?r-1:0,f=S?-1:1,b=L[se+d];for(d+=f,v=b&(1<<-e)-1,b>>=-e,e+=u;e>0;v=256*v+L[se+d],d+=f,e-=8);for(g=v&(1<<-e)-1,v>>=-e,e+=t;e>0;g=256*g+L[se+d],d+=f,e-=8);if(v===0)v=1-w;else{if(v===h)return g?NaN:1/0*(b?-1:1);g+=Math.pow(2,t),v-=w}return(b?-1:1)*g*Math.pow(2,v-t)},Se.write=function(L,se,S,t,r,v){var g,u,h,w=8*v-r-1,e=(1<<w)-1,d=e>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=t?0:v-1,y=t?1:-1,M=se<0||se===0&&1/se<0?1:0;for(se=Math.abs(se),isNaN(se)||se===1/0?(u=isNaN(se)?1:0,g=e):(g=Math.floor(Math.log(se)/Math.LN2),se*(h=Math.pow(2,-g))<1&&(g--,h*=2),(se+=g+d>=1?f/h:f*Math.pow(2,1-d))*h>=2&&(g++,h/=2),g+d>=e?(u=0,g=e):g+d>=1?(u=(se*h-1)*Math.pow(2,r),g+=d):(u=se*Math.pow(2,d-1)*Math.pow(2,r),g=0));r>=8;L[S+b]=255&u,b+=y,u/=256,r-=8);for(g=g<<r|u,w+=r;w>0;L[S+b]=255&g,b+=y,g/=256,w-=8);L[S+b-y]|=128*M}},6934:(We,Se)=>{var L={parseBuffer:function(t){return new se(t).parse()},addBoxProcessor:function(t,r){typeof t=="string"&&typeof r=="function"&&(S.prototype._boxProcessors[t]=r)},createFile:function(){return new se},createBox:function(t,r,v){var g=S.create(t);return r&&r.append(g,v),g},createFullBox:function(t,r,v){var g=L.createBox(t,r,v);return g.version=0,g.flags=0,g},Utils:{}};L.Utils.dataViewToString=function(t,r){var v=r||"utf-8";if(typeof TextDecoder<"u")return new TextDecoder(v).decode(t);var g=[],u=0;if(v==="utf-8")for(;u<t.byteLength;){var h=t.getUint8(u++);h<128||(h<224?(h=(31&h)<<6,h|=63&t.getUint8(u++)):h<240?(h=(15&h)<<12,h|=(63&t.getUint8(u++))<<6,h|=63&t.getUint8(u++)):(h=(7&h)<<18,h|=(63&t.getUint8(u++))<<12,h|=(63&t.getUint8(u++))<<6,h|=63&t.getUint8(u++))),g.push(String.fromCharCode(h))}else for(;u<t.byteLength;)g.push(String.fromCharCode(t.getUint8(u++)));return g.join("")},L.Utils.utf8ToByteArray=function(t){var r,v;if(typeof TextEncoder<"u")r=new TextEncoder().encode(t);else for(r=[],v=0;v<t.length;++v){var g=t.charCodeAt(v);g<128?r.push(g):g<2048?(r.push(192|g>>6),r.push(128|63&g)):g<65536?(r.push(224|g>>12),r.push(128|63&g>>6),r.push(128|63&g)):(r.push(240|g>>18),r.push(128|63&g>>12),r.push(128|63&g>>6),r.push(128|63&g))}return r},L.Utils.appendBox=function(t,r,v){if(r._offset=t._cursor.offset,r._root=t._root?t._root:t,r._raw=t._raw,r._parent=t,v!==-1)if(v!=null){var g,u=-1;if(typeof v=="number")u=v;else{if(typeof v=="string")g=v;else{if(typeof v!="object"||!v.type)return void t.boxes.push(r);g=v.type}for(var h=0;h<t.boxes.length;h++)if(g===t.boxes[h].type){u=h+1;break}}t.boxes.splice(u,0,r)}else t.boxes.push(r)},Se.parseBuffer=L.parseBuffer,Se.addBoxProcessor=L.addBoxProcessor,Se.createFile=L.createFile,Se.createBox=L.createBox,Se.createFullBox=L.createFullBox,Se.Utils=L.Utils,L.Cursor=function(t){this.offset=t===void 0?0:t};var se=function(t){this._cursor=new L.Cursor,this.boxes=[],t&&(this._raw=new DataView(t))};se.prototype.fetch=function(t){var r=this.fetchAll(t,!0);return r.length?r[0]:null},se.prototype.fetchAll=function(t,r){var v=[];return se._sweep.call(this,t,v,r),v},se.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var t=S.parse(this);if(t.type===void 0)break;this.boxes.push(t)}return this},se._sweep=function(t,r,v){for(var g in this.type&&this.type==t&&r.push(this),this.boxes){if(r.length&&v)return;se._sweep.call(this.boxes[g],t,r,v)}},se.prototype.write=function(){var t,r=0;for(t=0;t<this.boxes.length;t++)r+=this.boxes[t].getLength(!1);var v=new Uint8Array(r);for(this._rawo=new DataView(v.buffer),this.bytes=v,this._cursor.offset=0,t=0;t<this.boxes.length;t++)this.boxes[t].write();return v.buffer},se.prototype.append=function(t,r){L.Utils.appendBox(this,t,r)};var S=function(){this._cursor=new L.Cursor};S.parse=function(t){var r=new S;return r._offset=t._cursor.offset,r._root=t._root?t._root:t,r._raw=t._raw,r._parent=t,r._parseBox(),t._cursor.offset=r._raw.byteOffset+r._raw.byteLength,r},S.create=function(t){var r=new S;return r.type=t,r.boxes=[],r},S.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],S.prototype._boxProcessors={},S.prototype._procField=function(t,r,v){this._parsing?this[t]=this._readField(r,v):this._writeField(r,v,this[t])},S.prototype._procFieldArray=function(t,r,v,g){var u;if(this._parsing)for(this[t]=[],u=0;u<r;u++)this[t][u]=this._readField(v,g);else for(u=0;u<this[t].length;u++)this._writeField(v,g,this[t][u])},S.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},S.prototype._procEntries=function(t,r,v){var g;if(this._parsing)for(this[t]=[],g=0;g<r;g++)this[t].push({}),v.call(this,this[t][g]);else for(g=0;g<r;g++)v.call(this,this[t][g])},S.prototype._procSubEntries=function(t,r,v,g){var u;if(this._parsing)for(t[r]=[],u=0;u<v;u++)t[r].push({}),g.call(this,t[r][u]);else for(u=0;u<v;u++)g.call(this,t[r][u])},S.prototype._procEntryField=function(t,r,v,g){this._parsing?t[r]=this._readField(v,g):this._writeField(v,g,t[r])},S.prototype._procSubBoxes=function(t,r){var v;if(this._parsing)for(this[t]=[],v=0;v<r;v++)this[t].push(S.parse(this));else for(v=0;v<r;v++)this._rawo?this[t][v].write():this.size+=this[t][v].getLength()},S.prototype._readField=function(t,r){switch(t){case"uint":return this._readUint(r);case"int":return this._readInt(r);case"template":return this._readTemplate(r);case"string":return r===-1?this._readTerminatedString():this._readString(r);case"data":return this._readData(r);case"utf8":return this._readUTF8String();default:return-1}},S.prototype._readInt=function(t){var r=null,v=this._cursor.offset-this._raw.byteOffset;switch(t){case 8:r=this._raw.getInt8(v);break;case 16:r=this._raw.getInt16(v);break;case 32:r=this._raw.getInt32(v);break;case 64:var g=this._raw.getInt32(v),u=this._raw.getInt32(v+4);r=g*Math.pow(2,32)+u}return this._cursor.offset+=t>>3,r},S.prototype._readUint=function(t){var r,v,g=null,u=this._cursor.offset-this._raw.byteOffset;switch(t){case 8:g=this._raw.getUint8(u);break;case 16:g=this._raw.getUint16(u);break;case 24:g=((r=this._raw.getUint16(u))<<8)+(v=this._raw.getUint8(u+2));break;case 32:g=this._raw.getUint32(u);break;case 64:r=this._raw.getUint32(u),v=this._raw.getUint32(u+4),g=r*Math.pow(2,32)+v}return this._cursor.offset+=t>>3,g},S.prototype._readString=function(t){for(var r="",v=0;v<t;v++){var g=this._readUint(8);r+=String.fromCharCode(g)}return r},S.prototype._readTemplate=function(t){return this._readUint(t/2)+this._readUint(t/2)/Math.pow(2,t/2)},S.prototype._readTerminatedString=function(){for(var t="";this._cursor.offset-this._offset<this._raw.byteLength;){var r=this._readUint(8);if(r===0)break;t+=String.fromCharCode(r)}return t},S.prototype._readData=function(t){var r=t>0?t:this._raw.byteLength-(this._cursor.offset-this._offset);if(r>0){var v=new Uint8Array(this._raw.buffer,this._cursor.offset,r);return this._cursor.offset+=r,v}return null},S.prototype._readUTF8String=function(){var t=this._raw.byteLength-(this._cursor.offset-this._offset),r=null;return t>0&&(r=new DataView(this._raw.buffer,this._cursor.offset,t),this._cursor.offset+=t),r&&L.Utils.dataViewToString(r)},S.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1?this._parseContainerBox():this._data=this._readData())}},S.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},S.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(S.parse(this))},S.prototype.append=function(t,r){L.Utils.appendBox(this,t,r)},S.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var t=0;t<this.boxes.length;t++)this.size+=this.boxes[t].getLength();return this._data&&this._writeData(this._data),this.size},S.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),this.size===1&&this._procField("largesize","uint",64),this.type==="uuid"&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),this._boxContainers.indexOf(this.type)!==-1)for(var t=0;t<this.boxes.length;t++)this.boxes[t].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},S.prototype._writeInt=function(t,r){if(this._rawo){var v=this._cursor.offset-this._rawo.byteOffset;switch(t){case 8:this._rawo.setInt8(v,r);break;case 16:this._rawo.setInt16(v,r);break;case 32:this._rawo.setInt32(v,r);break;case 64:var g=Math.floor(r/Math.pow(2,32)),u=r-g*Math.pow(2,32);this._rawo.setUint32(v,g),this._rawo.setUint32(v+4,u)}this._cursor.offset+=t>>3}else this.size+=t>>3},S.prototype._writeUint=function(t,r){if(this._rawo){var v,g,u=this._cursor.offset-this._rawo.byteOffset;switch(t){case 8:this._rawo.setUint8(u,r);break;case 16:this._rawo.setUint16(u,r);break;case 24:v=(16776960&r)>>8,g=255&r,this._rawo.setUint16(u,v),this._rawo.setUint8(u+2,g);break;case 32:this._rawo.setUint32(u,r);break;case 64:g=r-(v=Math.floor(r/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(u,v),this._rawo.setUint32(u+4,g)}this._cursor.offset+=t>>3}else this.size+=t>>3},S.prototype._writeString=function(t,r){for(var v=0;v<t;v++)this._writeUint(8,r.charCodeAt(v))},S.prototype._writeTerminatedString=function(t){if(t.length!==0){for(var r=0;r<t.length;r++)this._writeUint(8,t.charCodeAt(r));this._writeUint(8,0)}},S.prototype._writeTemplate=function(t,r){var v=Math.floor(r),g=(r-v)*Math.pow(2,t/2);this._writeUint(t/2,v),this._writeUint(t/2,g)},S.prototype._writeData=function(t){if(t)if(this._rawo){if(t instanceof Array){for(var r=this._cursor.offset-this._rawo.byteOffset,v=0;v<t.length;v++)this._rawo.setInt8(r+v,t[v]);this._cursor.offset+=t.length}t instanceof Uint8Array&&(this._root.bytes.set(t,this._cursor.offset),this._cursor.offset+=t.length)}else this.size+=t.length},S.prototype._writeUTF8String=function(t){var r=L.Utils.utf8ToByteArray(t);if(this._rawo)for(var v=new DataView(this._rawo.buffer,this._cursor.offset,r.length),g=0;g<r.length;g++)v.setUint8(g,r[g]);else this.size+=r.length},S.prototype._writeField=function(t,r,v){switch(t){case"uint":this._writeUint(r,v);break;case"int":this._writeInt(r,v);break;case"template":this._writeTemplate(r,v);break;case"string":r==-1?this._writeTerminatedString(v):this._writeString(r,v);break;case"data":this._writeData(v);break;case"utf8":this._writeUTF8String(v)}},S.prototype._boxProcessors.avc1=S.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},S.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},S.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(t){this._procEntryField(t,"segment_duration","uint",this.version===1?64:32),this._procEntryField(t,"media_time","int",this.version===1?64:32),this._procEntryField(t,"media_rate_integer","int",16),this._procEntryField(t,"media_rate_fraction","int",16)})},S.prototype._boxProcessors.emsg=function(){this._procFullBox(),this.version==1?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},S.prototype._boxProcessors.free=S.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},S.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},S.prototype._boxProcessors.ftyp=S.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var t=-1;this._parsing&&(t=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",t,"string",4)},S.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},S.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},S.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._parsing||typeof this.language!="string"||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},S.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",this.version==1?64:32)},S.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},S.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},S.prototype._boxProcessors.mp4a=S.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},S.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},S.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},S.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},S.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},S.prototype._boxProcessors.sdtp=function(){this._procFullBox();var t=-1;this._parsing&&(t=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",t,"uint",8)},S.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",this.version==1?64:32),this._procField("first_offset","uint",this.version==1?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(t){this._parsing||(t.reference=(1&t.reference_type)<<31,t.reference|=2147483647&t.referenced_size,t.sap=(1&t.starts_with_SAP)<<31,t.sap|=(3&t.SAP_type)<<28,t.sap|=268435455&t.SAP_delta_time),this._procEntryField(t,"reference","uint",32),this._procEntryField(t,"subsegment_duration","uint",32),this._procEntryField(t,"sap","uint",32),this._parsing&&(t.reference_type=t.reference>>31&1,t.referenced_size=2147483647&t.reference,t.starts_with_SAP=t.sap>>31&1,t.SAP_type=t.sap>>28&7,t.SAP_delta_time=268435455&t.sap)})},S.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},S.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(t){this._procEntryField(t,"ranges_count","uint",32),this._procSubEntries(t,"ranges",t.ranges_count,function(r){this._procEntryField(r,"level","uint",8),this._procEntryField(r,"range_size","uint",24)})})},S.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},S.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(t){this._procEntryField(t,"sample_delta","uint",32),this._procEntryField(t,"subsample_count","uint",16),this._procSubEntries(t,"subsamples",t.subsample_count,function(r){this._procEntryField(r,"subsample_size","uint",this.version===1?32:16),this._procEntryField(r,"subsample_priority","uint",8),this._procEntryField(r,"discardable","uint",8),this._procEntryField(r,"codec_specific_parameters","uint",32)})})},S.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},S.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",this.version==1?64:32)},S.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},S.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(t){this._procEntryField(t,"time","uint",this.version===1?64:32),this._procEntryField(t,"moof_offset","uint",this.version===1?64:32),this._procEntryField(t,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(t,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(t,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},S.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",this.version==1?64:32),this._procField("modification_time","uint",this.version==1?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",this.version==1?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},S.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},S.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(t){256&this.flags&&this._procEntryField(t,"sample_duration","uint",32),512&this.flags&&this._procEntryField(t,"sample_size","uint",32),1024&this.flags&&this._procEntryField(t,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(t,"sample_composition_time_offset",this.version===1?"int":"uint",32)})},S.prototype._boxProcessors["url "]=S.prototype._boxProcessors["urn "]=function(){this._procFullBox(),this.type==="urn "&&this._procField("name","string",-1),this._procField("location","string",-1)},S.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},S.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},S.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},S.prototype._boxProcessors.vtte=function(){}},5530:(We,Se,L)=>{We.exports=L(6146).polyfill()},6146:function(We,Se,L){We.exports=function(){function se(Re){return typeof Re=="function"}var S=Array.isArray?Array.isArray:function(Re){return Object.prototype.toString.call(Re)==="[object Array]"},t=0,r=void 0,v=void 0,g=function(Re,Me){b[t]=Re,b[t+1]=Me,(t+=2)===2&&(v?v(y):z())},u=typeof window<"u"?window:void 0,h=u||{},w=h.MutationObserver||h.WebKitMutationObserver,e=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",d=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function f(){var Re=setTimeout;return function(){return Re(y,1)}}var b=new Array(1e3);function y(){for(var Re=0;Re<t;Re+=2)(0,b[Re])(b[Re+1]),b[Re]=void 0,b[Re+1]=void 0;t=0}var M,x,G,P,z=void 0;function V(Re,Me){var fe=this,B=new this.constructor(Ke);B[pe]===void 0&&_e(B);var te=fe._state;if(te){var n=arguments[te-1];g(function(){return tt(te,B,n,fe._result)})}else be(fe,B,Re,Me);return B}function he(Re){if(Re&&typeof Re=="object"&&Re.constructor===this)return Re;var Me=new this(Ke);return pt(Me,Re),Me}z=e?function(){return process.nextTick(y)}:w?(x=0,G=new w(y),P=document.createTextNode(""),G.observe(P,{characterData:!0}),function(){P.data=x=++x%2}):d?((M=new MessageChannel).port1.onmessage=y,function(){return M.port2.postMessage(0)}):u===void 0?function(){try{var Re=Function("return this")().require("vertx");return(r=Re.runOnLoop||Re.runOnContext)!==void 0?function(){r(y)}:f()}catch{return f()}}():f();var pe=Math.random().toString(36).substring(2);function Ke(){}var xe=void 0;function ae(Re,Me,fe){Me.constructor===Re.constructor&&fe===V&&Me.constructor.resolve===he?function(B,te){te._state===1?qe(B,te._result):te._state===2?ye(B,te._result):be(te,void 0,function(n){return pt(B,n)},function(n){return ye(B,n)})}(Re,Me):fe===void 0?qe(Re,Me):se(fe)?function(B,te,n){g(function(l){var A=!1,N=function(ie,ue,me,Pe){try{ie.call(ue,me,Pe)}catch(He){return He}}(n,te,function(ie){A||(A=!0,te!==ie?pt(l,ie):qe(l,ie))},function(ie){A||(A=!0,ye(l,ie))},l._label);!A&&N&&(A=!0,ye(l,N))},B)}(Re,Me,fe):qe(Re,Me)}function pt(Re,Me){if(Re===Me)ye(Re,new TypeError("You cannot resolve a promise with itself"));else if(te=typeof(B=Me),B===null||te!=="object"&&te!=="function")qe(Re,Me);else{var fe=void 0;try{fe=Me.then}catch(n){return void ye(Re,n)}ae(Re,Me,fe)}var B,te}function Te(Re){Re._onerror&&Re._onerror(Re._result),Ve(Re)}function qe(Re,Me){Re._state===xe&&(Re._result=Me,Re._state=1,Re._subscribers.length!==0&&g(Ve,Re))}function ye(Re,Me){Re._state===xe&&(Re._state=2,Re._result=Me,g(Te,Re))}function be(Re,Me,fe,B){var te=Re._subscribers,n=te.length;Re._onerror=null,te[n]=Me,te[n+1]=fe,te[n+2]=B,n===0&&Re._state&&g(Ve,Re)}function Ve(Re){var Me=Re._subscribers,fe=Re._state;if(Me.length!==0){for(var B=void 0,te=void 0,n=Re._result,l=0;l<Me.length;l+=3)B=Me[l],te=Me[l+fe],B?tt(fe,B,te,n):te(n);Re._subscribers.length=0}}function tt(Re,Me,fe,B){var te=se(fe),n=void 0,l=void 0,A=!0;if(te){try{n=fe(B)}catch(N){A=!1,l=N}if(Me===n)return void ye(Me,new TypeError("A promises callback cannot return that same promise."))}else n=B;Me._state!==xe||(te&&A?pt(Me,n):A===!1?ye(Me,l):Re===1?qe(Me,n):Re===2&&ye(Me,n))}var rt=0;function _e(Re){Re[pe]=rt++,Re._state=void 0,Re._result=void 0,Re._subscribers=[]}var Fe=function(){function Re(Me,fe){this._instanceConstructor=Me,this.promise=new Me(Ke),this.promise[pe]||_e(this.promise),S(fe)?(this.length=fe.length,this._remaining=fe.length,this._result=new Array(this.length),this.length===0?qe(this.promise,this._result):(this.length=this.length||0,this._enumerate(fe),this._remaining===0&&qe(this.promise,this._result))):ye(this.promise,new Error("Array Methods must be provided an Array"))}return Re.prototype._enumerate=function(Me){for(var fe=0;this._state===xe&&fe<Me.length;fe++)this._eachEntry(Me[fe],fe)},Re.prototype._eachEntry=function(Me,fe){var B=this._instanceConstructor,te=B.resolve;if(te===he){var n=void 0,l=void 0,A=!1;try{n=Me.then}catch(ie){A=!0,l=ie}if(n===V&&Me._state!==xe)this._settledAt(Me._state,fe,Me._result);else if(typeof n!="function")this._remaining--,this._result[fe]=Me;else if(B===$e){var N=new B(Ke);A?ye(N,l):ae(N,Me,n),this._willSettleAt(N,fe)}else this._willSettleAt(new B(function(ie){return ie(Me)}),fe)}else this._willSettleAt(te(Me),fe)},Re.prototype._settledAt=function(Me,fe,B){var te=this.promise;te._state===xe&&(this._remaining--,Me===2?ye(te,B):this._result[fe]=B),this._remaining===0&&qe(te,this._result)},Re.prototype._willSettleAt=function(Me,fe){var B=this;be(Me,void 0,function(te){return B._settledAt(1,fe,te)},function(te){return B._settledAt(2,fe,te)})},Re}(),$e=function(){function Re(Me){this[pe]=rt++,this._result=this._state=void 0,this._subscribers=[],Ke!==Me&&(typeof Me!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Re?function(fe,B){try{B(function(te){pt(fe,te)},function(te){ye(fe,te)})}catch(te){ye(fe,te)}}(this,Me):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Re.prototype.catch=function(Me){return this.then(null,Me)},Re.prototype.finally=function(Me){var fe=this,B=fe.constructor;return se(Me)?fe.then(function(te){return B.resolve(Me()).then(function(){return te})},function(te){return B.resolve(Me()).then(function(){throw te})}):fe.then(Me,Me)},Re}();return $e.prototype.then=V,$e.all=function(Re){return new Fe(this,Re).promise},$e.race=function(Re){var Me=this;return S(Re)?new Me(function(fe,B){for(var te=Re.length,n=0;n<te;n++)Me.resolve(Re[n]).then(fe,B)}):new Me(function(fe,B){return B(new TypeError("You must pass an array to race."))})},$e.resolve=he,$e.reject=function(Re){var Me=new this(Ke);return ye(Me,Re),Me},$e._setScheduler=function(Re){v=Re},$e._setAsap=function(Re){g=Re},$e._asap=g,$e.polyfill=function(){var Re=void 0;if(L.g!==void 0)Re=L.g;else if(typeof self<"u")Re=self;else try{Re=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Me=Re.Promise;if(Me){var fe=null;try{fe=Object.prototype.toString.call(Me.resolve())}catch{}if(fe==="[object Promise]"&&!Me.cast)return}Re.Promise=$e},$e.Promise=$e,$e}()},1159:We=>{var Se,L=typeof Reflect=="object"?Reflect:null,se=L&&typeof L.apply=="function"?L.apply:function(y,M,x){return Function.prototype.apply.call(y,M,x)};Se=L&&typeof L.ownKeys=="function"?L.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:function(y){return Object.getOwnPropertyNames(y)};var S=Number.isNaN||function(y){return y!=y};function t(){t.init.call(this)}We.exports=t,We.exports.once=function(y,M){return new Promise(function(x,G){function P(V){y.removeListener(M,z),G(V)}function z(){typeof y.removeListener=="function"&&y.removeListener("error",P),x([].slice.call(arguments))}b(y,M,z,{once:!0}),M!=="error"&&function(V,he,pe){typeof V.on=="function"&&b(V,"error",he,{once:!0})}(y,P)})},t.EventEmitter=t,t.prototype._events=void 0,t.prototype._eventsCount=0,t.prototype._maxListeners=void 0;var r=10;function v(y){if(typeof y!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof y)}function g(y){return y._maxListeners===void 0?t.defaultMaxListeners:y._maxListeners}function u(y,M,x,G){var P,z,V,he;if(v(x),(z=y._events)===void 0?(z=y._events=Object.create(null),y._eventsCount=0):(z.newListener!==void 0&&(y.emit("newListener",M,x.listener?x.listener:x),z=y._events),V=z[M]),V===void 0)V=z[M]=x,++y._eventsCount;else if(typeof V=="function"?V=z[M]=G?[x,V]:[V,x]:G?V.unshift(x):V.push(x),(P=g(y))>0&&V.length>P&&!V.warned){V.warned=!0;var pe=new Error("Possible EventEmitter memory leak detected. "+V.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");pe.name="MaxListenersExceededWarning",pe.emitter=y,pe.type=M,pe.count=V.length,he=pe,console&&console.warn&&console.warn(he)}return y}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(y,M,x){var G={fired:!1,wrapFn:void 0,target:y,type:M,listener:x},P=h.bind(G);return P.listener=x,G.wrapFn=P,P}function e(y,M,x){var G=y._events;if(G===void 0)return[];var P=G[M];return P===void 0?[]:typeof P=="function"?x?[P.listener||P]:[P]:x?function(z){for(var V=new Array(z.length),he=0;he<V.length;++he)V[he]=z[he].listener||z[he];return V}(P):f(P,P.length)}function d(y){var M=this._events;if(M!==void 0){var x=M[y];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function f(y,M){for(var x=new Array(M),G=0;G<M;++G)x[G]=y[G];return x}function b(y,M,x,G){if(typeof y.on=="function")G.once?y.once(M,x):y.on(M,x);else{if(typeof y.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof y);y.addEventListener(M,function P(z){G.once&&y.removeEventListener(M,P),x(z)})}}Object.defineProperty(t,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(y){if(typeof y!="number"||y<0||S(y))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+y+".");r=y}}),t.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},t.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||S(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this},t.prototype.getMaxListeners=function(){return g(this)},t.prototype.emit=function(y){for(var M=[],x=1;x<arguments.length;x++)M.push(arguments[x]);var G=y==="error",P=this._events;if(P!==void 0)G=G&&P.error===void 0;else if(!G)return!1;if(G){var z;if(M.length>0&&(z=M[0]),z instanceof Error)throw z;var V=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw V.context=z,V}var he=P[y];if(he===void 0)return!1;if(typeof he=="function")se(he,this,M);else{var pe=he.length,Ke=f(he,pe);for(x=0;x<pe;++x)se(Ke[x],this,M)}return!0},t.prototype.addListener=function(y,M){return u(this,y,M,!1)},t.prototype.on=t.prototype.addListener,t.prototype.prependListener=function(y,M){return u(this,y,M,!0)},t.prototype.once=function(y,M){return v(M),this.on(y,w(this,y,M)),this},t.prototype.prependOnceListener=function(y,M){return v(M),this.prependListener(y,w(this,y,M)),this},t.prototype.removeListener=function(y,M){var x,G,P,z,V;if(v(M),(G=this._events)===void 0)return this;if((x=G[y])===void 0)return this;if(x===M||x.listener===M)--this._eventsCount==0?this._events=Object.create(null):(delete G[y],G.removeListener&&this.emit("removeListener",y,x.listener||M));else if(typeof x!="function"){for(P=-1,z=x.length-1;z>=0;z--)if(x[z]===M||x[z].listener===M){V=x[z].listener,P=z;break}if(P<0)return this;P===0?x.shift():function(he,pe){for(;pe+1<he.length;pe++)he[pe]=he[pe+1];he.pop()}(x,P),x.length===1&&(G[y]=x[0]),G.removeListener!==void 0&&this.emit("removeListener",y,V||M)}return this},t.prototype.off=t.prototype.removeListener,t.prototype.removeAllListeners=function(y){var M,x,G;if((x=this._events)===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[y]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[y]),this;if(arguments.length===0){var P,z=Object.keys(x);for(G=0;G<z.length;++G)(P=z[G])!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(M=x[y])=="function")this.removeListener(y,M);else if(M!==void 0)for(G=M.length-1;G>=0;G--)this.removeListener(y,M[G]);return this},t.prototype.listeners=function(y){return e(this,y,!0)},t.prototype.rawListeners=function(y){return e(this,y,!1)},t.listenerCount=function(y,M){return typeof y.listenerCount=="function"?y.listenerCount(M):d.call(y,M)},t.prototype.listenerCount=d,t.prototype.eventNames=function(){return this._eventsCount>0?Se(this._events):[]}},3101:We=>{var Se=Array.isArray,L=Object.keys,se=Object.prototype.hasOwnProperty;We.exports=function S(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){var v,g,u,h=Se(t),w=Se(r);if(h&&w){if((g=t.length)!=r.length)return!1;for(v=g;v--!=0;)if(!S(t[v],r[v]))return!1;return!0}if(h!=w)return!1;var e=t instanceof Date,d=r instanceof Date;if(e!=d)return!1;if(e&&d)return t.getTime()==r.getTime();var f=t instanceof RegExp,b=r instanceof RegExp;if(f!=b)return!1;if(f&&b)return t.toString()==r.toString();var y=L(t);if((g=y.length)!==L(r).length)return!1;for(v=g;v--!=0;)if(!se.call(r,y[v]))return!1;for(v=g;v--!=0;)if(!S(t[u=y[v]],r[u]))return!1;return!0}return t!=t&&r!=r}},3362:(We,Se,L)=>{(function(se,S,t,r,v){function g(B,te,n,l){var A=l&&l.timeContainer==="seq",N=0;l&&(N=A&&n?n.end:l.begin),te.begin=te.explicit_begin?te.explicit_begin+N:N;var ie=te.begin,ue=null;for(var me in te.sets)g(B,te.sets[me],ue,te),ie=te.timeContainer==="seq"?te.sets[me].end:Math.max(ie,te.sets[me].end),ue=te.sets[me];if("contents"in te)for(var Pe in te.contents)g(B,te.contents[Pe],ue,te),ie=te.timeContainer==="seq"?te.contents[Pe].end:Math.max(ie,te.contents[Pe].end),ue=te.contents[Pe];else ie=A?te.begin:Number.POSITIVE_INFINITY;te.explicit_end!==null&&te.explicit_dur!==null?te.end=Math.min(te.begin+te.explicit_dur,N+te.explicit_end):te.explicit_end===null&&te.explicit_dur!==null?te.end=te.begin+te.explicit_dur:te.explicit_end!==null&&te.explicit_dur===null?te.end=N+te.explicit_end:te.end=ie,delete te.explicit_begin,delete te.explicit_dur,delete te.explicit_end,B._registerEvent(te)}function u(B){this.node=B}function h(){this.events=[],this.head=null,this.body=null}function w(){this.styling=null,this.layout=null}function e(){this.styles={}}function d(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function f(){this.regions={}}function b(B){this.kind=B}function y(B){this.id=B}function M(B){this.regionID=B}function x(B){this.styleAttrs=B}function G(B){this.sets=B}function P(B){this.contents=B}function z(B,te,n){this.explicit_begin=B,this.explicit_end=te,this.explicit_dur=n}function V(){b.call(this,"body")}function he(){b.call(this,"div")}function pe(){b.call(this,"p")}function Ke(){b.call(this,"span")}function xe(){b.call(this,"span")}function ae(){b.call(this,"br")}function pt(){}function Te(){}function qe(B){return B&&"xml:id"in B.attributes&&B.attributes["xml:id"].value||null}function ye(B){return B&&"style"in B.attributes?B.attributes.style.value.split(" "):[]}function be(B,te){var n={};if(B!==null)for(var l in B.attributes){var A=B.attributes[l].uri+" "+B.attributes[l].local,N=r.byQName[A];if(N!==void 0){var ie=N.parse(B.attributes[l].value);ie!==null?(n[A]=ie,N===r.byName.zIndex&&$e(te,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):Re(te,"Cannot parse styling attribute "+A+" --> "+B.attributes[l].value)}}return n}function Ve(B,te,n){for(var l in B.attributes)if(B.attributes[l].uri===te&&B.attributes[l].local===n)return B.attributes[l].value;return null}function tt(B,te,n){var l,A=null;return(l=/^(\d+(?:\.\d+)?)f$/.exec(n))!==null?te!==null&&(A=parseFloat(l[1])/te):(l=/^(\d+(?:\.\d+)?)t$/.exec(n))!==null?B!==null&&(A=parseFloat(l[1])/B):(l=/^(\d+(?:\.\d+)?)ms$/.exec(n))!==null?A=parseFloat(l[1])/1e3:(l=/^(\d+(?:\.\d+)?)s$/.exec(n))!==null?A=parseFloat(l[1]):(l=/^(\d+(?:\.\d+)?)h$/.exec(n))!==null?A=3600*parseFloat(l[1]):(l=/^(\d+(?:\.\d+)?)m$/.exec(n))!==null?A=60*parseFloat(l[1]):(l=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(n))!==null?A=3600*parseInt(l[1])+60*parseInt(l[2])+parseFloat(l[3]):(l=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(n))!==null&&te!==null&&(A=3600*parseInt(l[1])+60*parseInt(l[2])+parseInt(l[3])+(l[4]===null?0:parseInt(l[4])/te)),A}function rt(B,te,n){for(;te.styleRefs.length>0;){var l=te.styleRefs.pop();l in B.styles?(rt(B,B.styles[l],n),Fe(B.styles[l].styleAttrs,te.styleAttrs)):Re(n,"Non-existant style id referenced")}}function _e(B,te,n,l){for(var A=te.length-1;A>=0;A--){var N=te[A];N in B.styles?Fe(B.styles[N].styleAttrs,n):Re(l,"Non-existant style id referenced")}}function Fe(B,te){for(var n in B)n in te||(te[n]=B[n])}function $e(B,te){if(B&&B.warn&&B.warn(te))throw te}function Re(B,te){if(B&&B.error&&B.error(te))throw te}function Me(B,te){throw B&&B.fatal&&B.fatal(te),te}function fe(B,te){for(var n,l=0,A=B.length-1;l<=A;){var N=B[n=Math.floor((l+A)/2)];if(N<te)l=n+1;else{if(!(N>te))return{found:!0,index:n};A=n-1}}return{found:!1,index:l}}se.fromXML=function(B,te,n){var l=S.parser(!0,{xmlns:!0}),A=[],N=[],ie=[],ue=0,me=null;l.onclosetag=function(we){if(A[0]instanceof e)for(var ut in A[0].styles)rt(A[0],A[0].styles[ut],te);else if(A[0]instanceof pe||A[0]instanceof Ke){if(A[0].contents.length>1){var wt,Dt=[A[0].contents[0]];for(wt=1;wt<A[0].contents.length;wt++)A[0].contents[wt]instanceof xe&&Dt[Dt.length-1]instanceof xe?Dt[Dt.length-1].text+=A[0].contents[wt].text:Dt.push(A[0].contents[wt]);A[0].contents=Dt}A[0]instanceof Ke&&A[0].contents.length===1&&A[0].contents[0]instanceof xe&&(A[0].text=A[0].contents[0].text,delete A[0].contents)}else A[0]instanceof u&&(A[0].node.uri===t.ns_tt&&A[0].node.local==="metadata"?ue--:ue>0&&n&&"onCloseTag"in n&&n.onCloseTag());ie.shift(),N.shift(),A.shift()},l.ontext=function(we){if(A[0]!==void 0)if(A[0]instanceof Ke||A[0]instanceof pe){var ut=new xe;ut.initFromText(me,A[0],we,ie[0],te),A[0].contents.push(ut)}else A[0]instanceof u&&ue>0&&n&&"onText"in n&&n.onText(we)},l.onopentag=function(we){var ut=we.attributes["xml:space"];ut?ie.unshift(ut.value):ie.length===0?ie.unshift("default"):ie.unshift(ie[0]);var wt=we.attributes["xml:lang"];if(wt?N.unshift(wt.value):N.length===0?N.unshift(""):N.unshift(N[0]),we.uri===t.ns_tt)if(we.local==="tt")me!==null&&Me(te,"Two <tt> elements at ("+this.line+","+this.column+")"),(me=new h).initFromNode(we,te),A.unshift(me);else if(we.local==="head")A[0]instanceof h||Me(te,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),me.head!==null&&Me("Second <head> element at ("+this.line+","+this.column+")"),me.head=new w,A.unshift(me.head);else if(we.local==="styling")A[0]instanceof w||Me(te,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),me.head.styling!==null&&Me("Second <styling> element at ("+this.line+","+this.column+")"),me.head.styling=new e,A.unshift(me.head.styling);else if(we.local==="style"){var Dt;A[0]instanceof e?((Dt=new d).initFromNode(we,te),Dt.id?me.head.styling.styles[Dt.id]=Dt:Re(te,"<style> element missing @id attribute"),A.unshift(Dt)):A[0]instanceof pt?((Dt=new d).initFromNode(we,te),Fe(Dt.styleAttrs,A[0].styleAttrs),A.unshift(Dt)):Me(te,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")")}else if(we.local==="layout")A[0]instanceof w||Me(te,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),me.head.layout!==null&&Me(te,"Second <layout> element at "+this.line+","+this.column+")"),me.head.layout=new f,A.unshift(me.head.layout);else if(we.local==="region"){A[0]instanceof f||Me(te,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")");var Ut=new pt;Ut.initFromNode(me,we,te),!Ut.id||Ut.id in me.head.layout.regions?Re(te,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):me.head.layout.regions[Ut.id]=Ut,A.unshift(Ut)}else if(we.local==="body"){A[0]instanceof h||Me(te,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),me.body!==null&&Me(te,"Second <body> element at "+this.line+","+this.column+")");var qt=new V;qt.initFromNode(me,we,te),me.body=qt,A.unshift(qt)}else if(we.local==="div"){A[0]instanceof he||A[0]instanceof V||Me(te,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");var Ht=new he;Ht.initFromNode(me,A[0],we,te),A[0].contents.push(Ht),A.unshift(Ht)}else if(we.local==="p"){A[0]instanceof he||Me(te,"Parent of <p> element is not <div> at "+this.line+","+this.column+")");var sn=new pe;sn.initFromNode(me,A[0],we,te),A[0].contents.push(sn),A.unshift(sn)}else if(we.local==="span"){A[0]instanceof Ke||A[0]instanceof pe||Me(te,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")");var gn=new Ke;gn.initFromNode(me,A[0],we,ie[0],te),A[0].contents.push(gn),A.unshift(gn)}else if(we.local==="br"){A[0]instanceof Ke||A[0]instanceof pe||Me(te,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")");var bn=new ae;bn.initFromNode(me,A[0],we,te),A[0].contents.push(bn),A.unshift(bn)}else if(we.local==="set"){A[0]instanceof Ke||A[0]instanceof pe||A[0]instanceof he||A[0]instanceof V||A[0]instanceof pt||A[0]instanceof ae||Me(te,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")");var On=new Te;On.initFromNode(me,A[0],we,te),A[0].sets.push(On),A.unshift(On)}else A.unshift(new u(we));else A.unshift(new u(we));if(A[0]instanceof u){if(we.uri===t.ns_tt&&we.local==="metadata")ue++;else if(ue>0&&n&&"onOpenTag"in n){var An=[];for(var _n in we.attributes)An[we.attributes[_n].uri+" "+we.attributes[_n].local]={uri:we.attributes[_n].uri,local:we.attributes[_n].local,value:we.attributes[_n].value};n.onOpenTag(we.uri,we.local,An)}}},l.write(B).close(),me.head!==null?delete me.head.styling:me.head=new w,me.head.layout===null&&(me.head.layout=new f);var Pe=!1;for(var He in me.head.layout.regions){Pe=!0;break}if(!Pe){var ze=pt.prototype.createDefaultRegion();me.head.layout.regions[ze.id]=ze}for(var Qe in me.head.layout.regions)g(me,me.head.layout.regions[Qe],null,null);return me.body&&g(me,me.body,null,null),me},h.prototype.initFromNode=function(B,te){this.cellResolution=function(N,ie){var ue=Ve(N,t.ns_ttp,"cellResolution"),me=15,Pe=32;if(ue!==null){var He=/(\d+) (\d+)/.exec(ue);He!==null?(Pe=parseInt(He[1]),me=parseInt(He[2])):$e(ie,"Malformed cellResolution value (using initial value instead)")}return{w:Pe,h:me}}(B,te);var n=function(N,ie){var ue,me=Ve(N,t.ns_ttp,"frameRate"),Pe=30;me!==null&&((ue=/(\d+)/.exec(me))!==null?Pe=parseInt(ue[1]):$e(ie,"Malformed frame rate attribute (using initial value instead)"));var He=Ve(N,t.ns_ttp,"frameRateMultiplier"),ze=1;He!==null&&((ue=/(\d+) (\d+)/.exec(He))!==null?ze=parseInt(ue[1])/parseInt(ue[2]):$e(ie,"Malformed frame rate multiplier attribute (using initial value instead)"));var Qe=ze*Pe,we=1,ut=Ve(N,t.ns_ttp,"tickRate");return ut===null?me!==null&&(we=Qe):(ue=/(\d+)/.exec(ut))!==null?we=parseInt(ue[1]):$e(ie,"Malformed tick rate attribute (using initial value instead)"),{effectiveFrameRate:Qe,tickRate:we}}(B,te);this.effectiveFrameRate=n.effectiveFrameRate,this.tickRate=n.tickRate,this.aspectRatio=function(N,ie){var ue=Ve(N,t.ns_ittp,"aspectRatio"),me=null;if(ue!==null){var Pe=/(\d+) (\d+)/.exec(ue);if(Pe!==null){var He=parseInt(Pe[1]),ze=parseInt(Pe[2]);He!==0&&ze!==0?me=He/ze:Re(ie,"Illegal aspectRatio values (ignoring)")}else Re(ie,"Malformed aspectRatio attribute (ignoring)")}return me}(B,te);var l=Ve(B,t.ns_ttp,"timeBase");l!==null&&l!=="media"&&Me(te,"Unsupported time base");var A=function(N,ie){var ue=Ve(N,t.ns_tts,"extent");if(ue===null)return null;var me=ue.split(" ");if(me.length!==2)return $e(ie,"Malformed extent (ignoring)"),null;var Pe=v.parseLength(me[0]),He=v.parseLength(me[1]);return He&&Pe?{h:He,w:Pe}:($e(ie,"Malformed extent values (ignoring)"),null)}(B,te);A===null?this.pxDimensions={h:480,w:640}:(A.h.unit==="px"&&A.w.unit==="px"||Me(te,"Extent on TT must be in px or absent"),this.pxDimensions={h:A.h.value,w:A.w.value})},h.prototype._registerEvent=function(B){if(!(B.end<=B.begin)){var te=fe(this.events,B.begin);if(te.found||this.events.splice(te.index,0,B.begin),B.end!==Number.POSITIVE_INFINITY){var n=fe(this.events,B.end);n.found||this.events.splice(n.index,0,B.end)}}},h.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},h.prototype.getMediaTimeEvents=function(){return this.events},d.prototype.initFromNode=function(B,te){this.id=qe(B),this.styleAttrs=be(B,te),this.styleRefs=ye(B)},y.prototype.initFromNode=function(B,te,n,l){this.id=qe(n)},M.prototype.initFromNode=function(B,te,n,l){this.regionID=function(A){return A&&"region"in A.attributes?A.attributes.region.value:""}(n)},x.prototype.initFromNode=function(B,te,n,l){this.styleAttrs=be(n,l),B.head!==null&&B.head.styling!==null&&_e(B.head.styling,ye(n),this.styleAttrs,l)},G.prototype.initFromNode=function(B,te,n,l){this.sets=[]},P.prototype.initFromNode=function(B,te,n,l){this.contents=[]},z.prototype.initFromNode=function(B,te,n,l){var A=function(N,ie,ue,me){var Pe=null;ue&&"begin"in ue.attributes&&(Pe=tt(N.tickRate,N.effectiveFrameRate,ue.attributes.begin.value))===null&&$e(me,"Malformed begin value "+ue.attributes.begin.value+" (using 0)");var He=null;ue&&"dur"in ue.attributes&&(He=tt(N.tickRate,N.effectiveFrameRate,ue.attributes.dur.value))===null&&$e(me,"Malformed dur value "+ue.attributes.dur.value+" (ignoring)");var ze=null;return ue&&"end"in ue.attributes&&(ze=tt(N.tickRate,N.effectiveFrameRate,ue.attributes.end.value))===null&&$e(me,"Malformed end value (ignoring)"),{explicit_begin:Pe,explicit_end:ze,explicit_dur:He}}(B,0,n,l);this.explicit_begin=A.explicit_begin,this.explicit_end=A.explicit_end,this.explicit_dur=A.explicit_dur,this.timeContainer=function(N,ie){var ue=N&&"timeContainer"in N.attributes?N.attributes.timeContainer.value:null;return ue&&ue!=="par"?ue==="seq"?"seq":(Re(ie,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}(n,l)},V.prototype.initFromNode=function(B,te,n){x.prototype.initFromNode.call(this,B,null,te,n),z.prototype.initFromNode.call(this,B,null,te,n),G.prototype.initFromNode.call(this,B,null,te,n),M.prototype.initFromNode.call(this,B,null,te,n),P.prototype.initFromNode.call(this,B,null,te,n)},he.prototype.initFromNode=function(B,te,n,l){x.prototype.initFromNode.call(this,B,te,n,l),z.prototype.initFromNode.call(this,B,te,n,l),G.prototype.initFromNode.call(this,B,te,n,l),M.prototype.initFromNode.call(this,B,te,n,l),P.prototype.initFromNode.call(this,B,te,n,l)},pe.prototype.initFromNode=function(B,te,n,l){x.prototype.initFromNode.call(this,B,te,n,l),z.prototype.initFromNode.call(this,B,te,n,l),G.prototype.initFromNode.call(this,B,te,n,l),M.prototype.initFromNode.call(this,B,te,n,l),P.prototype.initFromNode.call(this,B,te,n,l)},Ke.prototype.initFromNode=function(B,te,n,l,A){x.prototype.initFromNode.call(this,B,te,n,A),z.prototype.initFromNode.call(this,B,te,n,A),G.prototype.initFromNode.call(this,B,te,n,A),M.prototype.initFromNode.call(this,B,te,n,A),P.prototype.initFromNode.call(this,B,te,n,A),this.space=l},xe.prototype.initFromText=function(B,te,n,l,A){z.prototype.initFromNode.call(this,B,te,null,A),this.text=n,this.space=l},ae.prototype.initFromNode=function(B,te,n,l){M.prototype.initFromNode.call(this,B,te,n,l),z.prototype.initFromNode.call(this,B,te,n,l)},pt.prototype.createDefaultRegion=function(){var B=new pt;return y.call(B,""),x.call(B,{}),G.call(B,[]),z.call(B,0,Number.POSITIVE_INFINITY,null),B},pt.prototype.initFromNode=function(B,te,n){y.prototype.initFromNode.call(this,B,null,te,n),x.prototype.initFromNode.call(this,B,null,te,n),z.prototype.initFromNode.call(this,B,null,te,n),G.prototype.initFromNode.call(this,B,null,te,n),B.head!==null&&B.head.styling!==null&&_e(B.head.styling,ye(te),this.styleAttrs,n)},Te.prototype.initFromNode=function(B,te,n,l){z.prototype.initFromNode.call(this,B,te,n,l);var A=be(n,l);for(var N in this.qname=null,this.value=null,A){if(this.qname){Re(l,"More than one style specified on set");break}this.qname=N,this.value=A[N]}}})(Se,typeof sax>"u"?L(5378):sax,typeof imscNames>"u"?L(210):imscNames,typeof imscStyles>"u"?L(6811):imscStyles,typeof imscUtils>"u"?L(5926):imscUtils)},506:(We,Se,L)=>{(function(se,S,t){function r(f,b,y){var M;if(y.kind==="region"?(M=document.createElement("div")).style.position="absolute":y.kind==="body"||y.kind==="div"?M=document.createElement("div"):y.kind==="p"?M=document.createElement("p"):y.kind==="span"?M=document.createElement("span"):y.kind==="br"&&(M=document.createElement("br")),M){for(var x in M.style.margin="0",w){var G=w[x],P=y.styleAttrs[G.qname];P!==void 0&&G.map!==null&&G.map(f,M,y,P)}var z=M;if(y.kind==="region"){var V=y.styleAttrs[t.byName.writingMode.qname];V==="lrtb"||V==="lr"?(f.ipd="lr",f.bpd="tb"):V==="rltb"||V==="rl"?(f.ipd="rl",f.bpd="tb"):V==="tblr"?(f.ipd="tb",f.bpd="lr"):V!=="tbrl"&&V!=="tb"||(f.ipd="tb",f.bpd="rl")}var he=y.styleAttrs[t.byName.linePadding.qname];if(he&&he>0){var pe=Math.ceil(he*f.h)+"px";f.bpd==="tb"?(z.style.paddingLeft=pe,z.style.paddingRight=pe):(z.style.paddingTop=pe,z.style.paddingBottom=pe),f.lp=he}var Ke=y.styleAttrs[t.byName.multiRowAlign.qname];if(Ke&&Ke!=="auto"){var xe=document.createElement("span");xe.style.display="inline-block",xe.style.textAlign=Ke,M.appendChild(xe),z=xe,f.mra=Ke}if(y.styleAttrs[t.byName.fillLineGap.qname]&&(f.flg=!0),y.kind==="span"&&y.text)if(f.lp||f.mra||f.flg)for(var ae="",pt=0;pt<y.text.length;pt++){ae+=y.text.charAt(pt);var Te=y.text.charCodeAt(pt);if(Te<55296||Te>56319||pt===y.text.length){var qe=document.createElement("span");qe.textContent=ae,M.appendChild(qe),ae=""}}else M.textContent=y.text;for(var ye in b.appendChild(M),y.contents)r(f,z,y.contents[ye]);var be=[];if((f.lp||f.mra||f.flg)&&y.kind==="p"&&(u(f,z,be,null),f.mra&&(function(Fe){for(var $e=0;$e<Fe.length-1;$e++){var Re=Fe[$e].elements.length;if(Re!==0&&Fe[$e].br===!1){var Me=document.createElement("br"),fe=Fe[$e].elements[Re-1].node;fe.parentElement.insertBefore(Me,fe.nextSibling)}}}(be),f.mra=null),f.lp&&(function(Fe,$e,Re){for(var Me in Fe){var fe=Fe[Me].elements.length,B=Fe[Me].elements[Fe[Me].start_elem],te=Fe[Me].elements[Fe[Me].end_elem],n=Math.ceil($e)+"px",l="-"+Math.ceil($e)+"px";fe!==0&&(Re.ipd==="lr"?(B.node.style.borderLeftColor=B.bgcolor||"#00000000",B.node.style.borderLeftStyle="solid",B.node.style.borderLeftWidth=n,B.node.style.marginLeft=l):Re.ipd==="rl"?(B.node.style.borderRightColor=B.bgcolor||"#00000000",B.node.style.borderRightStyle="solid",B.node.style.borderRightWidth=n,B.node.style.marginRight=l):Re.ipd==="tb"&&(B.node.style.borderTopColor=B.bgcolor||"#00000000",B.node.style.borderTopStyle="solid",B.node.style.borderTopWidth=n,B.node.style.marginTop=l),Re.ipd==="lr"?(te.node.style.borderRightColor=te.bgcolor||"#00000000",te.node.style.borderRightStyle="solid",te.node.style.borderRightWidth=n,te.node.style.marginRight=l):Re.ipd==="rl"?(te.node.style.borderLeftColor=te.bgcolor||"#00000000",te.node.style.borderLeftStyle="solid",te.node.style.borderLeftWidth=n,te.node.style.marginLeft=l):Re.ipd==="tb"&&(te.node.style.borderBottomColor=te.bgcolor||"#00000000",te.node.style.borderBottomStyle="solid",te.node.style.borderBottomWidth=n,te.node.style.marginBottom=l))}}(be,f.lp*f.h,f),f.lp=null),f.flg)){var Ve=g(z.getBoundingClientRect(),f);(function(Fe,$e,Re,Me){for(var fe=Math.sign(Re-$e),B=0;B<=Fe.length;B++){var te,n,l;if(te=B===0?$e:B===Fe.length?Re:(Fe[B].before+Fe[B-1].after)/2,B>0)for(var A=0;A<Fe[B-1].elements.length;A++)Fe[B-1].elements[A].bgcolor!==null&&fe*((l=Fe[B-1].elements[A]).after-te)<0&&(n=Math.ceil(Math.abs(te-l.after))+"px",l.node.style.backgroundColor=l.bgcolor,Me.bpd==="lr"?l.node.style.paddingRight=n:Me.bpd==="rl"?l.node.style.paddingLeft=n:Me.bpd==="tb"&&(l.node.style.paddingBottom=n));if(B<Fe.length)for(var N=0;N<Fe[B].elements.length;N++)(l=Fe[B].elements[N]).bgcolor!==null&&fe*(l.before-te)>0&&(n=Math.ceil(Math.abs(l.before-te))+"px",l.node.style.backgroundColor=l.bgcolor,Me.bpd==="lr"?l.node.style.paddingLeft=n:Me.bpd==="rl"?l.node.style.paddingRight=n:Me.bpd==="tb"&&(l.node.style.paddingTop=n))}})(be,Ve.before,Ve.after,f),f.flg=null}if(y.kind==="region"&&(u(f,z,be),f.bpd==="tb"&&f.enableRollUp&&y.contents.length>0&&y.styleAttrs[t.byName.displayAlign.qname]==="after")){var tt=new v(y.id===""?"_":y.id,be);if(f.currentISDState[tt.id]=tt,f.previousISDState&&tt.id in f.previousISDState&&f.previousISDState[tt.id].plist.length>0&&tt.plist.length>1&&tt.plist[tt.plist.length-2].text===f.previousISDState[tt.id].plist[f.previousISDState[tt.id].plist.length-1].text){var rt=M.firstElementChild,_e=tt.plist[tt.plist.length-1].after-tt.plist[tt.plist.length-1].before;rt.style.bottom="-"+_e+"px",rt.style.transition="transform 0.4s",rt.style.position="relative",rt.style.transform="translateY(-"+_e+"px)"}}}else(function(Fe,$e){if(Fe&&Fe.error&&Fe.error($e))throw $e})(f.errorHandler,"Error processing ISD element kind: "+y.kind)}function v(f,b){this.id=f,this.plist=b}function g(f,b){var y={before:null,after:null,start:null,end:null};return b.bpd==="tb"?(y.before=f.top,y.after=f.bottom,b.ipd==="lr"?(y.start=f.left,y.end=f.right):(y.start=f.right,y.end=f.left)):b.bpd==="lr"?(y.before=f.left,y.after=f.right,y.start=f.top,y.end=f.bottom):b.bpd==="rl"&&(y.before=f.right,y.after=f.left,y.start=f.top,y.end=f.bottom),y}function u(f,b,y,M){var x,G,P,z,V=b.style.backgroundColor||M;if(b.childElementCount===0)if(b.localName==="span"){var he=b.getBoundingClientRect();if(he.height===0||he.width===0)return;var pe=g(he,f);if(y.length!==0&&(x=pe.before,G=pe.after,P=y[y.length-1].before,G<(z=y[y.length-1].after)&&x>P||z<=G&&P>=x)){var Ke=Math.sign(pe.after-pe.before),xe=Math.sign(pe.end-pe.start);Ke*(pe.before-y[y.length-1].before)<0&&(y[y.length-1].before=pe.before),Ke*(pe.after-y[y.length-1].after)>0&&(y[y.length-1].after=pe.after),xe*(pe.start-y[y.length-1].start)<0&&(y[y.length-1].start=pe.start,y[y.length-1].start_elem=y[y.length-1].elements.length),xe*(pe.end-y[y.length-1].end)>0&&(y[y.length-1].end=pe.end,y[y.length-1].end_elem=y[y.length-1].elements.length)}else y.push({before:pe.before,after:pe.after,start:pe.start,end:pe.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1});y[y.length-1].text+=b.textContent,y[y.length-1].elements.push({node:b,bgcolor:V,before:pe.before,after:pe.after})}else b.localName==="br"&&y.length!==0&&(y[y.length-1].br=!0);else for(var ae=b.firstChild;ae;)ae.nodeType===Node.ELEMENT_NODE&&u(f,ae,y,V),ae=ae.nextSibling}function h(f,b){this.qname=f,this.map=b}se.render=function(f,b,y,M,x,G,P,z,V){var he=M||b.clientHeight,pe=x||b.clientWidth;if(f.aspectRatio!==null){var Ke=he*f.aspectRatio;Ke>pe?he=Math.round(pe/f.aspectRatio):pe=Ke}var xe=document.createElement("div");xe.style.position="relative",xe.style.width=pe+"px",xe.style.height=he+"px",xe.style.margin="auto",xe.style.top=0,xe.style.bottom=0,xe.style.left=0,xe.style.right=0,xe.style.zIndex=0;var ae={h:he,w:pe,regionH:null,regionW:null,imgResolver:y,displayForcedOnlyMode:G||!1,isd:f,errorHandler:P,previousISDState:z,enableRollUp:V||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null};for(var pt in b.appendChild(xe),f.contents)r(ae,xe,f.contents[pt]);return ae.currentISDState};var w=[new h("http://www.w3.org/ns/ttml#styling backgroundColor",function(f,b,y,M){M[3]!==0&&(b.style.backgroundColor="rgba("+M[0].toString()+","+M[1].toString()+","+M[2].toString()+","+(M[3]/255).toString()+")")}),new h("http://www.w3.org/ns/ttml#styling color",function(f,b,y,M){b.style.color="rgba("+M[0].toString()+","+M[1].toString()+","+M[2].toString()+","+(M[3]/255).toString()+")"}),new h("http://www.w3.org/ns/ttml#styling direction",function(f,b,y,M){b.style.direction=M}),new h("http://www.w3.org/ns/ttml#styling display",function(f,b,y,M){}),new h("http://www.w3.org/ns/ttml#styling displayAlign",function(f,b,y,M){b.style.display="flex",b.style.flexDirection="column",M==="before"?b.style.justifyContent="flex-start":M==="center"?b.style.justifyContent="center":M==="after"&&(b.style.justifyContent="flex-end")}),new h("http://www.w3.org/ns/ttml#styling extent",function(f,b,y,M){f.regionH=M.h*f.h,f.regionW=M.w*f.w;var x=0,G=0,P=y.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];P&&(x=(P[0]+P[2])*f.h,G=(P[1]+P[3])*f.w),b.style.height=f.regionH-x+"px",b.style.width=f.regionW-G+"px"}),new h("http://www.w3.org/ns/ttml#styling fontFamily",function(f,b,y,M){var x=[];for(var G in M)M[G]==="monospaceSerif"?(x.push("Courier New"),x.push('"Liberation Mono"'),x.push("Courier"),x.push("monospace")):M[G]==="proportionalSansSerif"?(x.push("Arial"),x.push("Helvetica"),x.push('"Liberation Sans"'),x.push("sans-serif")):M[G]==="monospace"?x.push("monospace"):M[G]==="sansSerif"?x.push("sans-serif"):M[G]==="serif"?x.push("serif"):M[G]==="monospaceSansSerif"?(x.push("Consolas"),x.push("monospace")):M[G]==="proportionalSerif"?x.push("serif"):x.push(M[G]);b.style.fontFamily=x.join(",")}),new h("http://www.w3.org/ns/ttml#styling fontSize",function(f,b,y,M){b.style.fontSize=M*f.h+"px"}),new h("http://www.w3.org/ns/ttml#styling fontStyle",function(f,b,y,M){b.style.fontStyle=M}),new h("http://www.w3.org/ns/ttml#styling fontWeight",function(f,b,y,M){b.style.fontWeight=M}),new h("http://www.w3.org/ns/ttml#styling lineHeight",function(f,b,y,M){b.style.lineHeight=M==="normal"?"normal":M*f.h+"px"}),new h("http://www.w3.org/ns/ttml#styling opacity",function(f,b,y,M){b.style.opacity=M}),new h("http://www.w3.org/ns/ttml#styling origin",function(f,b,y,M){b.style.top=M.h*f.h+"px",b.style.left=M.w*f.w+"px"}),new h("http://www.w3.org/ns/ttml#styling overflow",function(f,b,y,M){b.style.overflow=M}),new h("http://www.w3.org/ns/ttml#styling padding",function(f,b,y,M){var x=[];x[0]=M[0]*f.h+"px",x[1]=M[3]*f.w+"px",x[2]=M[2]*f.h+"px",x[3]=M[1]*f.w+"px",b.style.padding=x.join(" ")}),new h("http://www.w3.org/ns/ttml#styling showBackground",null),new h("http://www.w3.org/ns/ttml#styling textAlign",function(f,b,y,M){var x,G=y.styleAttrs[t.byName.direction.qname];x=M==="start"?G==="rtl"?"right":"left":M==="end"?G==="rtl"?"left":"right":M,b.style.textAlign=x}),new h("http://www.w3.org/ns/ttml#styling textDecoration",function(f,b,y,M){b.style.textDecoration=M.join(" ").replace("lineThrough","line-through")}),new h("http://www.w3.org/ns/ttml#styling textOutline",function(f,b,y,M){b.style.textShadow=M==="none"?"":"rgba("+M.color[0].toString()+","+M.color[1].toString()+","+M.color[2].toString()+","+(M.color[3]/255).toString()+") 0px 0px "+M.thickness*f.h+"px"}),new h("http://www.w3.org/ns/ttml#styling unicodeBidi",function(f,b,y,M){var x;x=M==="bidiOverride"?"bidi-override":M,b.style.unicodeBidi=x}),new h("http://www.w3.org/ns/ttml#styling visibility",function(f,b,y,M){b.style.visibility=M}),new h("http://www.w3.org/ns/ttml#styling wrapOption",function(f,b,y,M){M==="wrap"?y.space==="preserve"?b.style.whiteSpace="pre-wrap":b.style.whiteSpace="normal":y.space==="preserve"?b.style.whiteSpace="pre":b.style.whiteSpace="noWrap"}),new h("http://www.w3.org/ns/ttml#styling writingMode",function(f,b,y,M){M==="lrtb"||M==="lr"||M==="rltb"||M==="rl"?b.style.writingMode="horizontal-tb":M==="tblr"?b.style.writingMode="vertical-lr":M!=="tbrl"&&M!=="tb"||(b.style.writingMode="vertical-rl")}),new h("http://www.w3.org/ns/ttml#styling zIndex",function(f,b,y,M){b.style.zIndex=M}),new h("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(f,b,y,M){if(f.imgResolver!==null&&M!==null){var x=document.createElement("img"),G=f.imgResolver(M,x);G&&(x.src=G),x.height=f.regionH,x.width=f.regionW,b.appendChild(x)}}),new h("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(f,b,y,M){f.displayForcedOnlyMode&&M===!1&&(b.style.visibility="hidden")})],e={};for(var d in w)e[w[d].qname]=w[d]})(Se,typeof imscNames>"u"?L(210):imscNames,typeof imscStyles>"u"?L(6811):imscStyles)},4080:(We,Se,L)=>{(function(se,S,t){function r(e,d,f,b,y,M,x,G,P){if(d<x.begin||d>=x.end)return null;var z="regionID"in x&&x.regionID!==""?x.regionID:M;if(y!==null&&z!==f.id&&(!("contents"in x)||"contents"in x&&x.contents.length===0||z!==""))return null;var V=new h(x);for(var he in x.sets)d<x.sets[he].begin||d>=x.sets[he].end||(V.styleAttrs[x.sets[he].qname]=x.sets[he].value);var pe,Ke={};for(var xe in V.styleAttrs)if(Ke[xe]=!0,xe===t.byName.writingMode.qname&&!(t.byName.direction.qname in V.styleAttrs)){var ae=V.styleAttrs[xe];ae==="lrtb"||ae==="lr"?V.styleAttrs[t.byName.direction.qname]="ltr":ae!=="rltb"&&ae!=="rl"||(V.styleAttrs[t.byName.direction.qname]="rtl")}if(y!==null)for(var pt in t.all){var Te=t.all[pt];if(Te.qname===t.byName.textDecoration.qname){var qe=y.styleAttrs[Te.qname],ye=V.styleAttrs[Te.qname],be=[];ye===void 0?be=qe:ye.indexOf("none")===-1?((ye.indexOf("noUnderline")===-1&&qe.indexOf("underline")!==-1||ye.indexOf("underline")!==-1)&&be.push("underline"),(ye.indexOf("noLineThrough")===-1&&qe.indexOf("lineThrough")!==-1||ye.indexOf("lineThrough")!==-1)&&be.push("lineThrough"),(ye.indexOf("noOverline")===-1&&qe.indexOf("overline")!==-1||ye.indexOf("overline")!==-1)&&be.push("overline")):be.push("none"),V.styleAttrs[Te.qname]=be}else Te.inherit&&Te.qname in y.styleAttrs&&!(Te.qname in V.styleAttrs)&&(V.styleAttrs[Te.qname]=y.styleAttrs[Te.qname])}for(var Ve in t.all){var tt=t.all[Ve];tt.qname in V.styleAttrs||(V.kind==="region"||tt.inherit===!1&&tt.initial!==null)&&(V.styleAttrs[tt.qname]=tt.parse(tt.initial),Ke[tt.qname]=!0)}for(var rt in t.all){var _e=t.all[rt];if(_e.qname in Ke&&_e.compute!==null){var Fe=_e.compute(e,y,V,V.styleAttrs[_e.qname],P);Fe!==null?V.styleAttrs[_e.qname]=Fe:w(G,"Style '"+_e.qname+"' on element '"+V.kind+"' cannot be computed")}}if(V.styleAttrs[t.byName.display.qname]==="none")return null;for(var $e in y===null?pe=b===null?[]:[b]:"contents"in x&&(pe=x.contents),pe){var Re=r(e,d,f,b,V,z,pe[$e],G,P);Re!==null&&V.contents.push(Re.element)}for(var Me in V.styleAttrs)t.byQName[Me].applies.indexOf(V.kind)===-1&&delete V.styleAttrs[Me];if(V.kind==="span"&&V.text&&V.space==="default"){var fe=V.text.replace(/\s+/g," ");V.text=fe}if(V.kind==="p"){var B=[];v(V,B);for(var te=0,n="after_br",l=0;;)if(n==="after_br")te>=B.length||B[te].kind==="br"?(n="before_br",l=te,te--):(B[te].space!=="preserve"&&(B[te].text=B[te].text.replace(/^\s+/g,"")),B[te].text.length>0?(n="looking_br",te++):B.splice(te,1));else if(n==="before_br")if(te<0||B[te].kind==="br"){if(n="after_br",(te=l+1)>=B.length)break}else if(B[te].space!=="preserve"&&(B[te].text=B[te].text.replace(/\s+$/g,"")),B[te].text.length>0){if(n="after_br",(te=l+1)>=B.length)break}else B.splice(te,1),te--;else te>=B.length||B[te].kind==="br"?(n="before_br",l=te,te--):te++;g(V)}return V.kind==="div"&&t.byName.backgroundImage.qname in V.styleAttrs||V.kind==="br"||"contents"in V&&V.contents.length>0||V.kind==="span"&&V.text!==null||V.kind==="region"&&V.styleAttrs[t.byName.showBackground.qname]==="always"?{region_id:z,element:V}:null}function v(e,d){if("contents"in e)for(var f in e.contents)v(e.contents[f],d);else d.push(e)}function g(e){if(e.kind==="br")return!1;if("text"in e)return e.text.length===0;if("contents"in e){for(var d=e.contents.length;d--;)g(e.contents[d])&&e.contents.splice(d,1);return e.contents.length===0}}function u(e){this.contents=[],this.aspectRatio=e.aspectRatio}function h(e){for(var d in this.kind=e.kind||"region",e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)this.styleAttrs[d]=e.styleAttrs[d];"text"in e?this.text=e.text:e.kind!=="br"&&(this.contents=[]),"space"in e&&(this.space=e.space)}function w(e,d){if(e&&e.error&&e.error(d))throw d}se.generateISD=function(e,d,f){var b=new u(e),y={};for(var M in e.head.layout.regions){var x=r(e,d,e.head.layout.regions[M],e.body,null,"",e.head.layout.regions[M],f,y);x!==null&&b.contents.push(x.element)}return b}})(Se,typeof imscNames>"u"?L(210):imscNames,typeof imscStyles>"u"?L(6811):imscStyles)},4403:(We,Se,L)=>{Se.generateISD=L(4080).generateISD,Se.fromXML=L(3362).fromXML,Se.renderHTML=L(506).render},210:(We,Se)=>{(function(L){L.ns_tt="http://www.w3.org/ns/ttml",L.ns_tts="http://www.w3.org/ns/ttml#styling",L.ns_ttp="http://www.w3.org/ns/ttml#parameter",L.ns_xml="http://www.w3.org/XML/1998/namespace",L.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",L.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",L.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",L.ns_ebutts="urn:ebu:tt:style"})(Se)},6811:(We,Se,L)=>{(function(se,S,t){function r(u,h,w,e,d,f,b,y){this.name=h,this.ns=u,this.qname=u+" "+h,this.inherit=d,this.animatable=f,this.initial=w,this.applies=e,this.parse=b,this.compute=y}for(var v in se.all=[new r(S.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,t.parseColor,null),new r(S.ns_tts,"color","white",["span"],!0,!0,t.parseColor,null),new r(S.ns_tts,"direction","ltr",["p","span"],!0,!0,function(u){return u},null),new r(S.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(u){return u},null),new r(S.ns_tts,"displayAlign","before",["region"],!1,!0,function(u){return u},null),new r(S.ns_tts,"extent","auto",["tt","region"],!1,!0,function(u){if(u==="auto")return u;var h=u.split(" ");if(h.length!==2)return null;var w=t.parseLength(h[0]),e=t.parseLength(h[1]);return e&&w?{h:e,w}:null},function(u,h,w,e,d){var f,b;if(e==="auto")f=1;else if(e.h.unit==="%")f=e.h.value/100;else{if(e.h.unit!=="px")return null;f=e.h.value/u.pxDimensions.h}if(e==="auto")b=1;else if(e.w.unit==="%")b=e.w.value/100;else{if(e.w.unit!=="px")return null;b=e.w.value/u.pxDimensions.w}return{h:f,w:b}}),new r(S.ns_tts,"fontFamily","default",["span"],!0,!0,function(u){var h=u.split(","),w=[];for(var e in h)h[e].charAt(0)!=="'"&&h[e].charAt(0)!=='"'&&h[e]==="default"?w.push("monospaceSerif"):w.push(h[e]);return w},null),new r(S.ns_tts,"fontSize","1c",["span"],!0,!0,t.parseLength,function(u,h,w,e,d){var f;if(e.unit==="%")f=h!==null?h.styleAttrs[se.byName.fontSize.qname]*e.value/100:e.value/100/u.cellResolution.h;else if(e.unit==="em")f=h!==null?h.styleAttrs[se.byName.fontSize.qname]*e.value:e.value/u.cellResolution.h;else if(e.unit==="c")f=e.value/u.cellResolution.h;else{if(e.unit!=="px")return null;f=e.value/u.pxDimensions.h}return f}),new r(S.ns_tts,"fontStyle","normal",["span"],!0,!0,function(u){return u},null),new r(S.ns_tts,"fontWeight","normal",["span"],!0,!0,function(u){return u},null),new r(S.ns_tts,"lineHeight","normal",["p"],!0,!0,function(u){return u==="normal"?u:t.parseLength(u)},function(u,h,w,e,d){var f;if(e==="normal")f=e;else if(e.unit==="%")f=w.styleAttrs[se.byName.fontSize.qname]*e.value/100;else if(e.unit==="em")f=w.styleAttrs[se.byName.fontSize.qname]*e.value;else if(e.unit==="c")f=e.value/u.cellResolution.h;else{if(e.unit!=="px")return null;f=e.value/u.pxDimensions.h}return f}),new r(S.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new r(S.ns_tts,"origin","auto",["region"],!1,!0,function(u){if(u==="auto")return u;var h=u.split(" ");if(h.length!==2)return null;var w=t.parseLength(h[0]),e=t.parseLength(h[1]);return e&&w?{h:e,w}:null},function(u,h,w,e,d){var f,b;if(e==="auto")f=0;else if(e.h.unit==="%")f=e.h.value/100;else{if(e.h.unit!=="px")return null;f=e.h.value/u.pxDimensions.h}if(e==="auto")b=0;else if(e.w.unit==="%")b=e.w.value/100;else{if(e.w.unit!=="px")return null;b=e.w.value/u.pxDimensions.w}return{h:f,w:b}}),new r(S.ns_tts,"overflow","hidden",["region"],!1,!0,function(u){return u},null),new r(S.ns_tts,"padding","0px",["region"],!1,!0,function(u){var h=u.split(" ");if(h.length>4)return null;var w=[];for(var e in h){var d=t.parseLength(h[e]);if(!d)return null;w.push(d)}return w},function(u,h,w,e,d){var f;if(e.length===1)f=[e[0],e[0],e[0],e[0]];else if(e.length===2)f=[e[0],e[1],e[0],e[1]];else if(e.length===3)f=[e[0],e[1],e[2],e[1]];else{if(e.length!==4)return null;f=[e[0],e[1],e[2],e[3]]}var b=w.styleAttrs[se.byName.writingMode.qname];if(b==="lrtb"||b==="lr")f=[f[0],f[3],f[2],f[1]];else if(b==="rltb"||b==="rl")f=[f[0],f[1],f[2],f[3]];else if(b==="tblr")f=[f[3],f[0],f[1],f[2]];else{if(b!=="tbrl"&&b!=="tb")return null;f=[f[3],f[2],f[1],f[0]]}var y=[];for(var M in f)if(f[M].value===0)y[M]=0;else if(f[M].unit==="%")y[M]=M==="0"||M==="2"?w.styleAttrs[se.byName.extent.qname].h*f[M].value/100:w.styleAttrs[se.byName.extent.qname].w*f[M].value/100;else if(f[M].unit==="em")y[M]=w.styleAttrs[se.byName.fontSize.qname]*f[M].value;else if(f[M].unit==="c")y[M]=f[M].value/u.cellResolution.h;else{if(f[M].unit!=="px")return null;y[M]=M==="0"||M==="2"?f[M].value/u.pxDimensions.h:f[M].value/u.pxDimensions.w}return y}),new r(S.ns_tts,"showBackground","always",["region"],!1,!0,function(u){return u},null),new r(S.ns_tts,"textAlign","start",["p"],!0,!0,function(u){return u},function(u,h,w,e,d){return e==="left"?"start":e==="right"?"end":e}),new r(S.ns_tts,"textDecoration","none",["span"],!0,!0,function(u){return u.split(" ")},null),new r(S.ns_tts,"textOutline","none",["span"],!0,!0,function(u){if(u==="none")return u;var h={},w=u.split(" ");if(w.length===0||w.length>2)return null;var e=t.parseColor(w[0]);if(h.color=e,e!==null&&w.shift(),w.length!==1)return null;var d=t.parseLength(w[0]);return d?(h.thickness=d,h):null},function(u,h,w,e,d){if(e==="none")return e;var f={};if(e.color===null?f.color=w.styleAttrs[se.byName.color.qname]:f.color=e.color,e.thickness.unit==="%")f.thickness=w.styleAttrs[se.byName.fontSize.qname]*e.thickness.value/100;else if(e.thickness.unit==="em")f.thickness=w.styleAttrs[se.byName.fontSize.qname]*e.thickness.value;else if(e.thickness.unit==="c")f.thickness=e.thickness.value/u.cellResolution.h;else{if(e.thickness.unit!=="px")return null;f.thickness=e.thickness.value/u.pxDimensions.h}return f}),new r(S.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(u){return u},null),new r(S.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(u){return u},null),new r(S.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(u){return u},null),new r(S.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(u){return u},null),new r(S.ns_tts,"zIndex","auto",["region"],!1,!0,function(u){var h;return u==="auto"?h=u:(h=parseInt(u),isNaN(h)&&(h=null)),h},null),new r(S.ns_ebutts,"linePadding","0c",["p"],!0,!1,t.parseLength,function(u,h,w,e,d){return e.unit==="c"?e.value/u.cellResolution.h:null}),new r(S.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(u){return u},null),new r(S.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(u){return u},null),new r(S.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(u){return u==="true"},null),new r(S.ns_itts,"fillLineGap","false",["p"],!0,!0,function(u){return u==="true"},null)],se.byQName={},se.all)se.byQName[se.all[v].qname]=se.all[v];for(var g in se.byName={},se.all)se.byName[se.all[g].name]=se.all[g]})(Se,typeof imscNames>"u"?L(210):imscNames,typeof imscUtils>"u"?L(5926):imscUtils)},5926:(We,Se)=>{(function(L){var se=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,S=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,t=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,r={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};L.parseColor=function(g){var u,h=null,w=r[g.toLowerCase()];return w!==void 0?h=w:(u=se.exec(g))!==null?h=[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16),u[4]!==void 0?parseInt(u[4],16):255]:(u=S.exec(g))!==null?h=[parseInt(u[1]),parseInt(u[2]),parseInt(u[3]),255]:(u=t.exec(g))!==null&&(h=[parseInt(u[1]),parseInt(u[2]),parseInt(u[3]),parseInt(u[4])]),h};var v=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;L.parseLength=function(g){var u,h=null;return(u=v.exec(g))!==null&&(h={value:parseFloat(u[1]),unit:u[2]}),h}})(Se)},3516:We=>{We.exports=function(Se){var L=typeof Se=="string"?Se.charCodeAt(0):Se;return L>=97&&L<=122||L>=65&&L<=90}},2219:(We,Se,L)=>{var se=L(3516),S=L(395);We.exports=function(t){return se(t)||S(t)}},395:We=>{We.exports=function(Se){var L=typeof Se=="string"?Se.charCodeAt(0):Se;return L>=48&&L<=57}},3875:We=>{function Se(S){if(typeof S!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(S))}function L(S,t){for(var r,v="",g=0,u=-1,h=0,w=0;w<=S.length;++w){if(w<S.length)r=S.charCodeAt(w);else{if(r===47)break;r=47}if(r===47){if(!(u===w-1||h===1))if(u!==w-1&&h===2){if(v.length<2||g!==2||v.charCodeAt(v.length-1)!==46||v.charCodeAt(v.length-2)!==46){if(v.length>2){var e=v.lastIndexOf("/");if(e!==v.length-1){e===-1?(v="",g=0):g=(v=v.slice(0,e)).length-1-v.lastIndexOf("/"),u=w,h=0;continue}}else if(v.length===2||v.length===1){v="",g=0,u=w,h=0;continue}}t&&(v.length>0?v+="/..":v="..",g=2)}else v.length>0?v+="/"+S.slice(u+1,w):v=S.slice(u+1,w),g=w-u-1;u=w,h=0}else r===46&&h!==-1?++h:h=-1}return v}var se={resolve:function(){for(var S,t="",r=!1,v=arguments.length-1;v>=-1&&!r;v--){var g;v>=0?g=arguments[v]:(S===void 0&&(S=process.cwd()),g=S),Se(g),g.length!==0&&(t=g+"/"+t,r=g.charCodeAt(0)===47)}return t=L(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(S){if(Se(S),S.length===0)return".";var t=S.charCodeAt(0)===47,r=S.charCodeAt(S.length-1)===47;return(S=L(S,!t)).length!==0||t||(S="."),S.length>0&&r&&(S+="/"),t?"/"+S:S},isAbsolute:function(S){return Se(S),S.length>0&&S.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var S,t=0;t<arguments.length;++t){var r=arguments[t];Se(r),r.length>0&&(S===void 0?S=r:S+="/"+r)}return S===void 0?".":se.normalize(S)},relative:function(S,t){if(Se(S),Se(t),S===t||(S=se.resolve(S))===(t=se.resolve(t)))return"";for(var r=1;r<S.length&&S.charCodeAt(r)===47;++r);for(var v=S.length,g=v-r,u=1;u<t.length&&t.charCodeAt(u)===47;++u);for(var h=t.length-u,w=g<h?g:h,e=-1,d=0;d<=w;++d){if(d===w){if(h>w){if(t.charCodeAt(u+d)===47)return t.slice(u+d+1);if(d===0)return t.slice(u+d)}else g>w&&(S.charCodeAt(r+d)===47?e=d:d===0&&(e=0));break}var f=S.charCodeAt(r+d);if(f!==t.charCodeAt(u+d))break;f===47&&(e=d)}var b="";for(d=r+e+1;d<=v;++d)d!==v&&S.charCodeAt(d)!==47||(b.length===0?b+="..":b+="/..");return b.length>0?b+t.slice(u+e):(u+=e,t.charCodeAt(u)===47&&++u,t.slice(u))},_makeLong:function(S){return S},dirname:function(S){if(Se(S),S.length===0)return".";for(var t=S.charCodeAt(0),r=t===47,v=-1,g=!0,u=S.length-1;u>=1;--u)if((t=S.charCodeAt(u))===47){if(!g){v=u;break}}else g=!1;return v===-1?r?"/":".":r&&v===1?"//":S.slice(0,v)},basename:function(S,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Se(S);var r,v=0,g=-1,u=!0;if(t!==void 0&&t.length>0&&t.length<=S.length){if(t.length===S.length&&t===S)return"";var h=t.length-1,w=-1;for(r=S.length-1;r>=0;--r){var e=S.charCodeAt(r);if(e===47){if(!u){v=r+1;break}}else w===-1&&(u=!1,w=r+1),h>=0&&(e===t.charCodeAt(h)?--h==-1&&(g=r):(h=-1,g=w))}return v===g?g=w:g===-1&&(g=S.length),S.slice(v,g)}for(r=S.length-1;r>=0;--r)if(S.charCodeAt(r)===47){if(!u){v=r+1;break}}else g===-1&&(u=!1,g=r+1);return g===-1?"":S.slice(v,g)},extname:function(S){Se(S);for(var t=-1,r=0,v=-1,g=!0,u=0,h=S.length-1;h>=0;--h){var w=S.charCodeAt(h);if(w!==47)v===-1&&(g=!1,v=h+1),w===46?t===-1?t=h:u!==1&&(u=1):t!==-1&&(u=-1);else if(!g){r=h+1;break}}return t===-1||v===-1||u===0||u===1&&t===v-1&&t===r+1?"":S.slice(t,v)},format:function(S){if(S===null||typeof S!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof S);return function(t,r){var v=r.dir||r.root,g=r.base||(r.name||"")+(r.ext||"");return v?v===r.root?v+g:v+"/"+g:g}(0,S)},parse:function(S){Se(S);var t={root:"",dir:"",base:"",ext:"",name:""};if(S.length===0)return t;var r,v=S.charCodeAt(0),g=v===47;g?(t.root="/",r=1):r=0;for(var u=-1,h=0,w=-1,e=!0,d=S.length-1,f=0;d>=r;--d)if((v=S.charCodeAt(d))!==47)w===-1&&(e=!1,w=d+1),v===46?u===-1?u=d:f!==1&&(f=1):u!==-1&&(f=-1);else if(!e){h=d+1;break}return u===-1||w===-1||f===0||f===1&&u===w-1&&u===h+1?w!==-1&&(t.base=t.name=h===0&&g?S.slice(1,w):S.slice(h,w)):(h===0&&g?(t.name=S.slice(1,u),t.base=S.slice(1,w)):(t.name=S.slice(h,u),t.base=S.slice(h,w)),t.ext=S.slice(u,w)),h>0?t.dir=S.slice(0,h-1):g&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};se.posix=se,We.exports=se},8387:(We,Se,L)=>{var se=L(1549),S=se.Buffer;function t(v,g){for(var u in v)g[u]=v[u]}function r(v,g,u){return S(v,g,u)}S.from&&S.alloc&&S.allocUnsafe&&S.allocUnsafeSlow?We.exports=se:(t(se,Se),Se.Buffer=r),t(S,r),r.from=function(v,g,u){if(typeof v=="number")throw new TypeError("Argument must not be a number");return S(v,g,u)},r.alloc=function(v,g,u){if(typeof v!="number")throw new TypeError("Argument must be a number");var h=S(v);return g!==void 0?typeof u=="string"?h.fill(g,u):h.fill(g):h.fill(0),h},r.allocUnsafe=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return S(v)},r.allocUnsafeSlow=function(v){if(typeof v!="number")throw new TypeError("Argument must be a number");return se.SlowBuffer(v)}},5378:(We,Se,L)=>{(function(se){se.parser=function(n,l){return new r(n,l)},se.SAXParser=r,se.SAXStream=g,se.createStream=function(n,l){return new g(n,l)},se.MAX_BUFFER_LENGTH=65536;var S,t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(n,l){if(!(this instanceof r))return new r(n,l);var A=this;(function(N){for(var ie=0,ue=t.length;ie<ue;ie++)N[t[ie]]=""})(A),A.q=A.c="",A.bufferCheckPosition=se.MAX_BUFFER_LENGTH,A.opt=l||{},A.opt.lowercase=A.opt.lowercase||A.opt.lowercasetags,A.looseCase=A.opt.lowercase?"toLowerCase":"toUpperCase",A.tags=[],A.closed=A.closedRoot=A.sawRoot=!1,A.tag=A.error=null,A.strict=!!n,A.noscript=!(!n&&!A.opt.noscript),A.state=ae.BEGIN,A.strictEntities=A.opt.strictEntities,A.ENTITIES=A.strictEntities?Object.create(se.XML_ENTITIES):Object.create(se.ENTITIES),A.attribList=[],A.opt.xmlns&&(A.ns=Object.create(y)),A.trackPosition=A.opt.position!==!1,A.trackPosition&&(A.position=A.line=A.column=0),Te(A,"onready")}se.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(n){function l(){}return l.prototype=n,new l}),Object.keys||(Object.keys=function(n){var l=[];for(var A in n)n.hasOwnProperty(A)&&l.push(A);return l}),r.prototype={end:function(){tt(this)},write:function(n){var l=this;if(this.error)throw this.error;if(l.closed)return Ve(l,"Cannot write after close. Assign an onready handler.");if(n===null)return tt(l);typeof n=="object"&&(n=n.toString());for(var A=0,N="";N=te(n,A++),l.c=N,N;)switch(l.trackPosition&&(l.position++,N===`
`?(l.line++,l.column=0):l.column++),l.state){case ae.BEGIN:if(l.state=ae.BEGIN_WHITESPACE,N==="\uFEFF")continue;B(l,N);continue;case ae.BEGIN_WHITESPACE:B(l,N);continue;case ae.TEXT:if(l.sawRoot&&!l.closedRoot){for(var ie=A-1;N&&N!=="<"&&N!=="&";)(N=te(n,A++))&&l.trackPosition&&(l.position++,N===`
`?(l.line++,l.column=0):l.column++);l.textNode+=n.substring(ie,A-1)}N!=="<"||l.sawRoot&&l.closedRoot&&!l.strict?(!he(u,N)||l.sawRoot&&!l.closedRoot||rt(l,"Text data outside of root node."),N==="&"?l.state=ae.TEXT_ENTITY:l.textNode+=N):(l.state=ae.OPEN_WAKA,l.startTagPosition=l.position);continue;case ae.SCRIPT:N==="<"?l.state=ae.SCRIPT_ENDING:l.script+=N;continue;case ae.SCRIPT_ENDING:N==="/"?l.state=ae.CLOSE_TAG:(l.script+="<"+N,l.state=ae.SCRIPT);continue;case ae.OPEN_WAKA:if(N==="!")l.state=ae.SGML_DECL,l.sgmlDecl="";else if(!V(u,N))if(V(M,N))l.state=ae.OPEN_TAG,l.tagName=N;else if(N==="/")l.state=ae.CLOSE_TAG,l.tagName="";else if(N==="?")l.state=ae.PROC_INST,l.procInstName=l.procInstBody="";else{if(rt(l,"Unencoded <"),l.startTagPosition+1<l.position){var ue=l.position-l.startTagPosition;N=new Array(ue).join(" ")+N}l.textNode+="<"+N,l.state=ae.TEXT}continue;case ae.SGML_DECL:(l.sgmlDecl+N).toUpperCase()==="[CDATA["?(qe(l,"onopencdata"),l.state=ae.CDATA,l.sgmlDecl="",l.cdata=""):l.sgmlDecl+N==="--"?(l.state=ae.COMMENT,l.comment="",l.sgmlDecl=""):(l.sgmlDecl+N).toUpperCase()==="DOCTYPE"?(l.state=ae.DOCTYPE,(l.doctype||l.sawRoot)&&rt(l,"Inappropriately located doctype declaration"),l.doctype="",l.sgmlDecl=""):N===">"?(qe(l,"onsgmldeclaration",l.sgmlDecl),l.sgmlDecl="",l.state=ae.TEXT):(V(e,N)&&(l.state=ae.SGML_DECL_QUOTED),l.sgmlDecl+=N);continue;case ae.SGML_DECL_QUOTED:N===l.q&&(l.state=ae.SGML_DECL,l.q=""),l.sgmlDecl+=N;continue;case ae.DOCTYPE:N===">"?(l.state=ae.TEXT,qe(l,"ondoctype",l.doctype),l.doctype=!0):(l.doctype+=N,N==="["?l.state=ae.DOCTYPE_DTD:V(e,N)&&(l.state=ae.DOCTYPE_QUOTED,l.q=N));continue;case ae.DOCTYPE_QUOTED:l.doctype+=N,N===l.q&&(l.q="",l.state=ae.DOCTYPE);continue;case ae.DOCTYPE_DTD:l.doctype+=N,N==="]"?l.state=ae.DOCTYPE:V(e,N)&&(l.state=ae.DOCTYPE_DTD_QUOTED,l.q=N);continue;case ae.DOCTYPE_DTD_QUOTED:l.doctype+=N,N===l.q&&(l.state=ae.DOCTYPE_DTD,l.q="");continue;case ae.COMMENT:N==="-"?l.state=ae.COMMENT_ENDING:l.comment+=N;continue;case ae.COMMENT_ENDING:N==="-"?(l.state=ae.COMMENT_ENDED,l.comment=be(l.opt,l.comment),l.comment&&qe(l,"oncomment",l.comment),l.comment=""):(l.comment+="-"+N,l.state=ae.COMMENT);continue;case ae.COMMENT_ENDED:N!==">"?(rt(l,"Malformed comment"),l.comment+="--"+N,l.state=ae.COMMENT):l.state=ae.TEXT;continue;case ae.CDATA:N==="]"?l.state=ae.CDATA_ENDING:l.cdata+=N;continue;case ae.CDATA_ENDING:N==="]"?l.state=ae.CDATA_ENDING_2:(l.cdata+="]"+N,l.state=ae.CDATA);continue;case ae.CDATA_ENDING_2:N===">"?(l.cdata&&qe(l,"oncdata",l.cdata),qe(l,"onclosecdata"),l.cdata="",l.state=ae.TEXT):N==="]"?l.cdata+="]":(l.cdata+="]]"+N,l.state=ae.CDATA);continue;case ae.PROC_INST:N==="?"?l.state=ae.PROC_INST_ENDING:V(u,N)?l.state=ae.PROC_INST_BODY:l.procInstName+=N;continue;case ae.PROC_INST_BODY:if(!l.procInstBody&&V(u,N))continue;N==="?"?l.state=ae.PROC_INST_ENDING:l.procInstBody+=N;continue;case ae.PROC_INST_ENDING:N===">"?(qe(l,"onprocessinginstruction",{name:l.procInstName,body:l.procInstBody}),l.procInstName=l.procInstBody="",l.state=ae.TEXT):(l.procInstBody+="?"+N,l.state=ae.PROC_INST_BODY);continue;case ae.OPEN_TAG:V(x,N)?l.tagName+=N:(_e(l),N===">"?Re(l):N==="/"?l.state=ae.OPEN_TAG_SLASH:(he(u,N)&&rt(l,"Invalid character in tag name"),l.state=ae.ATTRIB));continue;case ae.OPEN_TAG_SLASH:N===">"?(Re(l,!0),Me(l)):(rt(l,"Forward-slash in opening tag not followed by >"),l.state=ae.ATTRIB);continue;case ae.ATTRIB:if(V(u,N))continue;N===">"?Re(l):N==="/"?l.state=ae.OPEN_TAG_SLASH:V(M,N)?(l.attribName=N,l.attribValue="",l.state=ae.ATTRIB_NAME):rt(l,"Invalid attribute name");continue;case ae.ATTRIB_NAME:N==="="?l.state=ae.ATTRIB_VALUE:N===">"?(rt(l,"Attribute without value"),l.attribValue=l.attribName,$e(l),Re(l)):V(u,N)?l.state=ae.ATTRIB_NAME_SAW_WHITE:V(x,N)?l.attribName+=N:rt(l,"Invalid attribute name");continue;case ae.ATTRIB_NAME_SAW_WHITE:if(N==="=")l.state=ae.ATTRIB_VALUE;else{if(V(u,N))continue;rt(l,"Attribute without value"),l.tag.attributes[l.attribName]="",l.attribValue="",qe(l,"onattribute",{name:l.attribName,value:""}),l.attribName="",N===">"?Re(l):V(M,N)?(l.attribName=N,l.state=ae.ATTRIB_NAME):(rt(l,"Invalid attribute name"),l.state=ae.ATTRIB)}continue;case ae.ATTRIB_VALUE:if(V(u,N))continue;V(e,N)?(l.q=N,l.state=ae.ATTRIB_VALUE_QUOTED):(rt(l,"Unquoted attribute value"),l.state=ae.ATTRIB_VALUE_UNQUOTED,l.attribValue=N);continue;case ae.ATTRIB_VALUE_QUOTED:if(N!==l.q){N==="&"?l.state=ae.ATTRIB_VALUE_ENTITY_Q:l.attribValue+=N;continue}$e(l),l.q="",l.state=ae.ATTRIB_VALUE_CLOSED;continue;case ae.ATTRIB_VALUE_CLOSED:V(u,N)?l.state=ae.ATTRIB:N===">"?Re(l):N==="/"?l.state=ae.OPEN_TAG_SLASH:V(M,N)?(rt(l,"No whitespace between attributes"),l.attribName=N,l.attribValue="",l.state=ae.ATTRIB_NAME):rt(l,"Invalid attribute name");continue;case ae.ATTRIB_VALUE_UNQUOTED:if(he(d,N)){N==="&"?l.state=ae.ATTRIB_VALUE_ENTITY_U:l.attribValue+=N;continue}$e(l),N===">"?Re(l):l.state=ae.ATTRIB;continue;case ae.CLOSE_TAG:if(l.tagName)N===">"?Me(l):V(x,N)?l.tagName+=N:l.script?(l.script+="</"+l.tagName,l.tagName="",l.state=ae.SCRIPT):(he(u,N)&&rt(l,"Invalid tagname in closing tag"),l.state=ae.CLOSE_TAG_SAW_WHITE);else{if(V(u,N))continue;he(M,N)?l.script?(l.script+="</"+N,l.state=ae.SCRIPT):rt(l,"Invalid tagname in closing tag."):l.tagName=N}continue;case ae.CLOSE_TAG_SAW_WHITE:if(V(u,N))continue;N===">"?Me(l):rt(l,"Invalid characters in closing tag");continue;case ae.TEXT_ENTITY:case ae.ATTRIB_VALUE_ENTITY_Q:case ae.ATTRIB_VALUE_ENTITY_U:var me,Pe;switch(l.state){case ae.TEXT_ENTITY:me=ae.TEXT,Pe="textNode";break;case ae.ATTRIB_VALUE_ENTITY_Q:me=ae.ATTRIB_VALUE_QUOTED,Pe="attribValue";break;case ae.ATTRIB_VALUE_ENTITY_U:me=ae.ATTRIB_VALUE_UNQUOTED,Pe="attribValue"}N===";"?(l[Pe]+=fe(l),l.entity="",l.state=me):V(l.entity.length?P:G,N)?l.entity+=N:(rt(l,"Invalid character in entity name"),l[Pe]+="&"+l.entity+N,l.entity="",l.state=me);continue;default:throw new Error(l,"Unknown state: "+l.state)}return l.position>=l.bufferCheckPosition&&function(He){for(var ze=Math.max(se.MAX_BUFFER_LENGTH,10),Qe=0,we=0,ut=t.length;we<ut;we++){var wt=He[t[we]].length;if(wt>ze)switch(t[we]){case"textNode":ye(He);break;case"cdata":qe(He,"oncdata",He.cdata),He.cdata="";break;case"script":qe(He,"onscript",He.script),He.script="";break;default:Ve(He,"Max buffer length exceeded: "+t[we])}Qe=Math.max(Qe,wt)}var Dt=se.MAX_BUFFER_LENGTH-Qe;He.bufferCheckPosition=Dt+He.position}(l),l},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var n;ye(n=this),n.cdata!==""&&(qe(n,"oncdata",n.cdata),n.cdata=""),n.script!==""&&(qe(n,"onscript",n.script),n.script="")}};try{S=L(182).Stream}catch{S=function(){}}var v=se.EVENTS.filter(function(n){return n!=="error"&&n!=="end"});function g(n,l){if(!(this instanceof g))return new g(n,l);S.apply(this),this._parser=new r(n,l),this.writable=!0,this.readable=!0;var A=this;this._parser.onend=function(){A.emit("end")},this._parser.onerror=function(N){A.emit("error",N),A._parser.error=null},this._decoder=null,v.forEach(function(N){Object.defineProperty(A,"on"+N,{get:function(){return A._parser["on"+N]},set:function(ie){if(!ie)return A.removeAllListeners(N),A._parser["on"+N]=ie,ie;A.on(N,ie)},enumerable:!0,configurable:!1})})}g.prototype=Object.create(S.prototype,{constructor:{value:g}}),g.prototype.write=function(n){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(n)){if(!this._decoder){var l=L(7503).s;this._decoder=new l("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},g.prototype.end=function(n){return n&&n.length&&this.write(n),this._parser.end(),!0},g.prototype.on=function(n,l){var A=this;return A._parser["on"+n]||v.indexOf(n)===-1||(A._parser["on"+n]=function(){var N=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);N.splice(0,0,n),A.emit.apply(A,N)}),S.prototype.on.call(A,n,l)};var u=`\r
	 `,h="0124356789",w="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e=`'"`,d=u+">",f="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",y={xml:f,xmlns:b};u=z(u),h=z(h),w=z(w);var M=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,G=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function z(n){return n.split("").reduce(function(l,A){return l[A]=!0,l},{})}function V(n,l){return function(A){return Object.prototype.toString.call(A)==="[object RegExp]"}(n)?!!l.match(n):n[l]}function he(n,l){return!V(n,l)}e=z(e),d=z(d);var pe,Ke,xe,ae=0;for(var pt in se.STATE={BEGIN:ae++,BEGIN_WHITESPACE:ae++,TEXT:ae++,TEXT_ENTITY:ae++,OPEN_WAKA:ae++,SGML_DECL:ae++,SGML_DECL_QUOTED:ae++,DOCTYPE:ae++,DOCTYPE_QUOTED:ae++,DOCTYPE_DTD:ae++,DOCTYPE_DTD_QUOTED:ae++,COMMENT_STARTING:ae++,COMMENT:ae++,COMMENT_ENDING:ae++,COMMENT_ENDED:ae++,CDATA:ae++,CDATA_ENDING:ae++,CDATA_ENDING_2:ae++,PROC_INST:ae++,PROC_INST_BODY:ae++,PROC_INST_ENDING:ae++,OPEN_TAG:ae++,OPEN_TAG_SLASH:ae++,ATTRIB:ae++,ATTRIB_NAME:ae++,ATTRIB_NAME_SAW_WHITE:ae++,ATTRIB_VALUE:ae++,ATTRIB_VALUE_QUOTED:ae++,ATTRIB_VALUE_CLOSED:ae++,ATTRIB_VALUE_UNQUOTED:ae++,ATTRIB_VALUE_ENTITY_Q:ae++,ATTRIB_VALUE_ENTITY_U:ae++,CLOSE_TAG:ae++,CLOSE_TAG_SAW_WHITE:ae++,SCRIPT:ae++,SCRIPT_ENDING:ae++},se.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},se.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(se.ENTITIES).forEach(function(n){var l=se.ENTITIES[n],A=typeof l=="number"?String.fromCharCode(l):l;se.ENTITIES[n]=A}),se.STATE)se.STATE[se.STATE[pt]]=pt;function Te(n,l,A){n[l]&&n[l](A)}function qe(n,l,A){n.textNode&&ye(n),Te(n,l,A)}function ye(n){n.textNode=be(n.opt,n.textNode),n.textNode&&Te(n,"ontext",n.textNode),n.textNode=""}function be(n,l){return n.trim&&(l=l.trim()),n.normalize&&(l=l.replace(/\s+/g," ")),l}function Ve(n,l){return ye(n),n.trackPosition&&(l+=`
Line: `+n.line+`
Column: `+n.column+`
Char: `+n.c),l=new Error(l),n.error=l,Te(n,"onerror",l),n}function tt(n){return n.sawRoot&&!n.closedRoot&&rt(n,"Unclosed root tag"),n.state!==ae.BEGIN&&n.state!==ae.BEGIN_WHITESPACE&&n.state!==ae.TEXT&&Ve(n,"Unexpected end"),ye(n),n.c="",n.closed=!0,Te(n,"onend"),r.call(n,n.strict,n.opt),n}function rt(n,l){if(typeof n!="object"||!(n instanceof r))throw new Error("bad call to strictFail");n.strict&&Ve(n,l)}function _e(n){n.strict||(n.tagName=n.tagName[n.looseCase]());var l=n.tags[n.tags.length-1]||n,A=n.tag={name:n.tagName,attributes:{}};n.opt.xmlns&&(A.ns=l.ns),n.attribList.length=0,qe(n,"onopentagstart",A)}function Fe(n,l){var A=n.indexOf(":")<0?["",n]:n.split(":"),N=A[0],ie=A[1];return l&&n==="xmlns"&&(N="xmlns",ie=""),{prefix:N,local:ie}}function $e(n){if(n.strict||(n.attribName=n.attribName[n.looseCase]()),n.attribList.indexOf(n.attribName)!==-1||n.tag.attributes.hasOwnProperty(n.attribName))n.attribName=n.attribValue="";else{if(n.opt.xmlns){var l=Fe(n.attribName,!0),A=l.prefix,N=l.local;if(A==="xmlns")if(N==="xml"&&n.attribValue!==f)rt(n,"xml: prefix must be bound to "+f+`
Actual: `+n.attribValue);else if(N==="xmlns"&&n.attribValue!==b)rt(n,"xmlns: prefix must be bound to "+b+`
Actual: `+n.attribValue);else{var ie=n.tag,ue=n.tags[n.tags.length-1]||n;ie.ns===ue.ns&&(ie.ns=Object.create(ue.ns)),ie.ns[N]=n.attribValue}n.attribList.push([n.attribName,n.attribValue])}else n.tag.attributes[n.attribName]=n.attribValue,qe(n,"onattribute",{name:n.attribName,value:n.attribValue});n.attribName=n.attribValue=""}}function Re(n,l){if(n.opt.xmlns){var A=n.tag,N=Fe(n.tagName);A.prefix=N.prefix,A.local=N.local,A.uri=A.ns[N.prefix]||"",A.prefix&&!A.uri&&(rt(n,"Unbound namespace prefix: "+JSON.stringify(n.tagName)),A.uri=N.prefix);var ie=n.tags[n.tags.length-1]||n;A.ns&&ie.ns!==A.ns&&Object.keys(A.ns).forEach(function(Ut){qe(n,"onopennamespace",{prefix:Ut,uri:A.ns[Ut]})});for(var ue=0,me=n.attribList.length;ue<me;ue++){var Pe=n.attribList[ue],He=Pe[0],ze=Pe[1],Qe=Fe(He,!0),we=Qe.prefix,ut=Qe.local,wt=we===""?"":A.ns[we]||"",Dt={name:He,value:ze,prefix:we,local:ut,uri:wt};we&&we!=="xmlns"&&!wt&&(rt(n,"Unbound namespace prefix: "+JSON.stringify(we)),Dt.uri=we),n.tag.attributes[He]=Dt,qe(n,"onattribute",Dt)}n.attribList.length=0}n.tag.isSelfClosing=!!l,n.sawRoot=!0,n.tags.push(n.tag),qe(n,"onopentag",n.tag),l||(n.noscript||n.tagName.toLowerCase()!=="script"?n.state=ae.TEXT:n.state=ae.SCRIPT,n.tag=null,n.tagName=""),n.attribName=n.attribValue="",n.attribList.length=0}function Me(n){if(!n.tagName)return rt(n,"Weird empty close tag."),n.textNode+="</>",void(n.state=ae.TEXT);if(n.script){if(n.tagName!=="script")return n.script+="</"+n.tagName+">",n.tagName="",void(n.state=ae.SCRIPT);qe(n,"onscript",n.script),n.script=""}var l=n.tags.length,A=n.tagName;n.strict||(A=A[n.looseCase]());for(var N=A;l--&&n.tags[l].name!==N;)rt(n,"Unexpected close tag");if(l<0)return rt(n,"Unmatched closing tag: "+n.tagName),n.textNode+="</"+n.tagName+">",void(n.state=ae.TEXT);n.tagName=A;for(var ie=n.tags.length;ie-- >l;){var ue=n.tag=n.tags.pop();n.tagName=n.tag.name,qe(n,"onclosetag",n.tagName);var me={};for(var Pe in ue.ns)me[Pe]=ue.ns[Pe];var He=n.tags[n.tags.length-1]||n;n.opt.xmlns&&ue.ns!==He.ns&&Object.keys(ue.ns).forEach(function(ze){var Qe=ue.ns[ze];qe(n,"onclosenamespace",{prefix:ze,uri:Qe})})}l===0&&(n.closedRoot=!0),n.tagName=n.attribValue=n.attribName="",n.attribList.length=0,n.state=ae.TEXT}function fe(n){var l,A=n.entity,N=A.toLowerCase(),ie="";return n.ENTITIES[A]?n.ENTITIES[A]:n.ENTITIES[N]?n.ENTITIES[N]:((A=N).charAt(0)==="#"&&(A.charAt(1)==="x"?(A=A.slice(2),ie=(l=parseInt(A,16)).toString(16)):(A=A.slice(1),ie=(l=parseInt(A,10)).toString(10))),A=A.replace(/^0+/,""),ie.toLowerCase()!==A?(rt(n,"Invalid character entity"),"&"+n.entity+";"):String.fromCodePoint(l))}function B(n,l){l==="<"?(n.state=ae.OPEN_WAKA,n.startTagPosition=n.position):he(u,l)&&(rt(n,"Non-whitespace before first tag."),n.textNode=l,n.state=ae.TEXT)}function te(n,l){var A="";return l<n.length&&(A=n.charAt(l)),A}ae=se.STATE,String.fromCodePoint||(pe=String.fromCharCode,Ke=Math.floor,xe=function(){var n,l,A=16384,N=[],ie=-1,ue=arguments.length;if(!ue)return"";for(var me="";++ie<ue;){var Pe=Number(arguments[ie]);if(!isFinite(Pe)||Pe<0||Pe>1114111||Ke(Pe)!==Pe)throw RangeError("Invalid code point: "+Pe);Pe<=65535?N.push(Pe):(n=55296+((Pe-=65536)>>10),l=Pe%1024+56320,N.push(n,l)),(ie+1===ue||N.length>A)&&(me+=pe.apply(null,N),N.length=0)}return me},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:xe,configurable:!0,writable:!0}):String.fromCodePoint=xe)})(Se)},182:(We,Se,L)=>{We.exports=S;var se=L(1159).EventEmitter;function S(){se.call(this)}L(1765)(S,se),S.Readable=L(2846),S.Writable=L(8318),S.Duplex=L(6138),S.Transform=L(9798),S.PassThrough=L(5472),S.finished=L(8800),S.pipeline=L(7295),S.Stream=S,S.prototype.pipe=function(t,r){var v=this;function g(b){t.writable&&t.write(b)===!1&&v.pause&&v.pause()}function u(){v.readable&&v.resume&&v.resume()}v.on("data",g),t.on("drain",u),t._isStdio||r&&r.end===!1||(v.on("end",w),v.on("close",e));var h=!1;function w(){h||(h=!0,t.end())}function e(){h||(h=!0,typeof t.destroy=="function"&&t.destroy())}function d(b){if(f(),se.listenerCount(this,"error")===0)throw b}function f(){v.removeListener("data",g),t.removeListener("drain",u),v.removeListener("end",w),v.removeListener("close",e),v.removeListener("error",d),t.removeListener("error",d),v.removeListener("end",f),v.removeListener("close",f),t.removeListener("close",f)}return v.on("error",d),t.on("error",d),v.on("end",f),v.on("close",f),t.on("close",f),t.emit("pipe",v),t}},1765:We=>{typeof Object.create=="function"?We.exports=function(Se,L){L&&(Se.super_=L,Se.prototype=Object.create(L.prototype,{constructor:{value:Se,enumerable:!1,writable:!0,configurable:!0}}))}:We.exports=function(Se,L){if(L){Se.super_=L;var se=function(){};se.prototype=L.prototype,Se.prototype=new se,Se.prototype.constructor=Se}}},3690:We=>{var Se={};function L(S,t,r){r||(r=Error);var v=function(g){var u,h;function w(e,d,f){return g.call(this,function(b,y,M){return typeof t=="string"?t:t(b,y,M)}(e,d,f))||this}return h=g,(u=w).prototype=Object.create(h.prototype),u.prototype.constructor=u,u.__proto__=h,w}(r);v.prototype.name=r.name,v.prototype.code=S,Se[S]=v}function se(S,t){if(Array.isArray(S)){var r=S.length;return S=S.map(function(v){return String(v)}),r>2?"one of ".concat(t," ").concat(S.slice(0,r-1).join(", "),", or ")+S[r-1]:r===2?"one of ".concat(t," ").concat(S[0]," or ").concat(S[1]):"of ".concat(t," ").concat(S[0])}return"of ".concat(t," ").concat(String(S))}L("ERR_INVALID_OPT_VALUE",function(S,t){return'The value "'+t+'" is invalid for option "'+S+'"'},TypeError),L("ERR_INVALID_ARG_TYPE",function(S,t,r){var v,g,u,h,w;if(typeof t=="string"&&(g="not ",t.substr(0,g.length)===g)?(v="must not be",t=t.replace(/^not /,"")):v="must be",function(d,f,b){return(b===void 0||b>d.length)&&(b=d.length),d.substring(b-f.length,b)===f}(S," argument"))u="The ".concat(S," ").concat(v," ").concat(se(t,"type"));else{var e=(typeof w!="number"&&(w=0),w+1>(h=S).length||h.indexOf(".",w)===-1?"argument":"property");u='The "'.concat(S,'" ').concat(e," ").concat(v," ").concat(se(t,"type"))}return u+". Received type ".concat(typeof r)},TypeError),L("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),L("ERR_METHOD_NOT_IMPLEMENTED",function(S){return"The "+S+" method is not implemented"}),L("ERR_STREAM_PREMATURE_CLOSE","Premature close"),L("ERR_STREAM_DESTROYED",function(S){return"Cannot call "+S+" after a stream was destroyed"}),L("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),L("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),L("ERR_STREAM_WRITE_AFTER_END","write after end"),L("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),L("ERR_UNKNOWN_ENCODING",function(S){return"Unknown encoding: "+S},TypeError),L("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),We.exports.q=Se},6138:(We,Se,L)=>{var se=Object.keys||function(e){var d=[];for(var f in e)d.push(f);return d};We.exports=u;var S=L(2846),t=L(8318);L(1765)(u,S);for(var r=se(t.prototype),v=0;v<r.length;v++){var g=r[v];u.prototype[g]||(u.prototype[g]=t.prototype[g])}function u(e){if(!(this instanceof u))return new u(e);S.call(this,e),t.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||process.nextTick(w,this)}function w(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},5472:(We,Se,L)=>{We.exports=S;var se=L(9798);function S(t){if(!(this instanceof S))return new S(t);se.call(this,t)}L(1765)(S,se),S.prototype._transform=function(t,r,v){v(null,t)}},2846:(We,Se,L)=>{var se;We.exports=pe,pe.ReadableState=he,L(1159).EventEmitter;var S,t=function(fe,B){return fe.listeners(B).length},r=L(9299),v=L(1549).Buffer,g=L.g.Uint8Array||function(){},u=L(964);S=u&&u.debuglog?u.debuglog("stream"):function(){};var h,w,e,d=L(8393),f=L(6163),b=L(7269).getHighWaterMark,y=L(3690).q,M=y.ERR_INVALID_ARG_TYPE,x=y.ERR_STREAM_PUSH_AFTER_EOF,G=y.ERR_METHOD_NOT_IMPLEMENTED,P=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;L(1765)(pe,r);var z=f.errorOrDestroy,V=["error","close","destroy","pause","resume"];function he(fe,B,te){se=se||L(6138),fe=fe||{},typeof te!="boolean"&&(te=B instanceof se),this.objectMode=!!fe.objectMode,te&&(this.objectMode=this.objectMode||!!fe.readableObjectMode),this.highWaterMark=b(this,fe,"readableHighWaterMark",te),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=fe.emitClose!==!1,this.autoDestroy=!!fe.autoDestroy,this.destroyed=!1,this.defaultEncoding=fe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,fe.encoding&&(h||(h=L(7503).s),this.decoder=new h(fe.encoding),this.encoding=fe.encoding)}function pe(fe){if(se=se||L(6138),!(this instanceof pe))return new pe(fe);var B=this instanceof se;this._readableState=new he(fe,this,B),this.readable=!0,fe&&(typeof fe.read=="function"&&(this._read=fe.read),typeof fe.destroy=="function"&&(this._destroy=fe.destroy)),r.call(this)}function Ke(fe,B,te,n,l){S("readableAddChunk",B);var A,N=fe._readableState;if(B===null)N.reading=!1,function(ie,ue){if(S("onEofChunk"),!ue.ended){if(ue.decoder){var me=ue.decoder.end();me&&me.length&&(ue.buffer.push(me),ue.length+=ue.objectMode?1:me.length)}ue.ended=!0,ue.sync?Te(ie):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,qe(ie)))}}(fe,N);else if(l||(A=function(ie,ue){var me,Pe;return Pe=ue,v.isBuffer(Pe)||Pe instanceof g||typeof ue=="string"||ue===void 0||ie.objectMode||(me=new M("chunk",["string","Buffer","Uint8Array"],ue)),me}(N,B)),A)z(fe,A);else if(N.objectMode||B&&B.length>0)if(typeof B=="string"||N.objectMode||Object.getPrototypeOf(B)===v.prototype||(B=function(ie){return v.from(ie)}(B)),n)N.endEmitted?z(fe,new P):xe(fe,N,B,!0);else if(N.ended)z(fe,new x);else{if(N.destroyed)return!1;N.reading=!1,N.decoder&&!te?(B=N.decoder.write(B),N.objectMode||B.length!==0?xe(fe,N,B,!1):ye(fe,N)):xe(fe,N,B,!1)}else n||(N.reading=!1,ye(fe,N));return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function xe(fe,B,te,n){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,fe.emit("data",te)):(B.length+=B.objectMode?1:te.length,n?B.buffer.unshift(te):B.buffer.push(te),B.needReadable&&Te(fe)),ye(fe,B)}Object.defineProperty(pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(fe){this._readableState&&(this._readableState.destroyed=fe)}}),pe.prototype.destroy=f.destroy,pe.prototype._undestroy=f.undestroy,pe.prototype._destroy=function(fe,B){B(fe)},pe.prototype.push=function(fe,B){var te,n=this._readableState;return n.objectMode?te=!0:typeof fe=="string"&&((B=B||n.defaultEncoding)!==n.encoding&&(fe=v.from(fe,B),B=""),te=!0),Ke(this,fe,B,!1,te)},pe.prototype.unshift=function(fe){return Ke(this,fe,null,!0,!1)},pe.prototype.isPaused=function(){return this._readableState.flowing===!1},pe.prototype.setEncoding=function(fe){h||(h=L(7503).s);var B=new h(fe);this._readableState.decoder=B,this._readableState.encoding=this._readableState.decoder.encoding;for(var te=this._readableState.buffer.head,n="";te!==null;)n+=B.write(te.data),te=te.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var ae=1073741824;function pt(fe,B){return fe<=0||B.length===0&&B.ended?0:B.objectMode?1:fe!=fe?B.flowing&&B.length?B.buffer.head.data.length:B.length:(fe>B.highWaterMark&&(B.highWaterMark=function(te){return te>=ae?te=ae:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}(fe)),fe<=B.length?fe:B.ended?B.length:(B.needReadable=!0,0))}function Te(fe){var B=fe._readableState;S("emitReadable",B.needReadable,B.emittedReadable),B.needReadable=!1,B.emittedReadable||(S("emitReadable",B.flowing),B.emittedReadable=!0,process.nextTick(qe,fe))}function qe(fe){var B=fe._readableState;S("emitReadable_",B.destroyed,B.length,B.ended),B.destroyed||!B.length&&!B.ended||(fe.emit("readable"),B.emittedReadable=!1),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,_e(fe)}function ye(fe,B){B.readingMore||(B.readingMore=!0,process.nextTick(be,fe,B))}function be(fe,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var te=B.length;if(S("maybeReadMore read 0"),fe.read(0),te===B.length)break}B.readingMore=!1}function Ve(fe){var B=fe._readableState;B.readableListening=fe.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:fe.listenerCount("data")>0&&fe.resume()}function tt(fe){S("readable nexttick read 0"),fe.read(0)}function rt(fe,B){S("resume",B.reading),B.reading||fe.read(0),B.resumeScheduled=!1,fe.emit("resume"),_e(fe),B.flowing&&!B.reading&&fe.read(0)}function _e(fe){var B=fe._readableState;for(S("flow",B.flowing);B.flowing&&fe.read()!==null;);}function Fe(fe,B){return B.length===0?null:(B.objectMode?te=B.buffer.shift():!fe||fe>=B.length?(te=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.first():B.buffer.concat(B.length),B.buffer.clear()):te=B.buffer.consume(fe,B.decoder),te);var te}function $e(fe){var B=fe._readableState;S("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,process.nextTick(Re,B,fe))}function Re(fe,B){if(S("endReadableNT",fe.endEmitted,fe.length),!fe.endEmitted&&fe.length===0&&(fe.endEmitted=!0,B.readable=!1,B.emit("end"),fe.autoDestroy)){var te=B._writableState;(!te||te.autoDestroy&&te.finished)&&B.destroy()}}function Me(fe,B){for(var te=0,n=fe.length;te<n;te++)if(fe[te]===B)return te;return-1}pe.prototype.read=function(fe){S("read",fe),fe=parseInt(fe,10);var B=this._readableState,te=fe;if(fe!==0&&(B.emittedReadable=!1),fe===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return S("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?$e(this):Te(this),null;if((fe=pt(fe,B))===0&&B.ended)return B.length===0&&$e(this),null;var n,l=B.needReadable;return S("need readable",l),(B.length===0||B.length-fe<B.highWaterMark)&&S("length less than watermark",l=!0),B.ended||B.reading?S("reading or ended",l=!1):l&&(S("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(fe=pt(te,B))),(n=fe>0?Fe(fe,B):null)===null?(B.needReadable=B.length<=B.highWaterMark,fe=0):(B.length-=fe,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),te!==fe&&B.ended&&$e(this)),n!==null&&this.emit("data",n),n},pe.prototype._read=function(fe){z(this,new G("_read()"))},pe.prototype.pipe=function(fe,B){var te=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=fe;break;case 1:n.pipes=[n.pipes,fe];break;default:n.pipes.push(fe)}n.pipesCount+=1,S("pipe count=%d opts=%j",n.pipesCount,B);var l=B&&B.end===!1||fe===process.stdout||fe===process.stderr?ze:A;function A(){S("onend"),fe.end()}n.endEmitted?process.nextTick(l):te.once("end",l),fe.on("unpipe",function Qe(we,ut){S("onunpipe"),we===te&&ut&&ut.hasUnpiped===!1&&(ut.hasUnpiped=!0,S("cleanup"),fe.removeListener("close",Pe),fe.removeListener("finish",He),fe.removeListener("drain",N),fe.removeListener("error",me),fe.removeListener("unpipe",Qe),te.removeListener("end",A),te.removeListener("end",ze),te.removeListener("data",ue),ie=!0,!n.awaitDrain||fe._writableState&&!fe._writableState.needDrain||N())});var N=function(Qe){return function(){var we=Qe._readableState;S("pipeOnDrain",we.awaitDrain),we.awaitDrain&&we.awaitDrain--,we.awaitDrain===0&&t(Qe,"data")&&(we.flowing=!0,_e(Qe))}}(te);fe.on("drain",N);var ie=!1;function ue(Qe){S("ondata");var we=fe.write(Qe);S("dest.write",we),we===!1&&((n.pipesCount===1&&n.pipes===fe||n.pipesCount>1&&Me(n.pipes,fe)!==-1)&&!ie&&(S("false write response, pause",n.awaitDrain),n.awaitDrain++),te.pause())}function me(Qe){S("onerror",Qe),ze(),fe.removeListener("error",me),t(fe,"error")===0&&z(fe,Qe)}function Pe(){fe.removeListener("finish",He),ze()}function He(){S("onfinish"),fe.removeListener("close",Pe),ze()}function ze(){S("unpipe"),te.unpipe(fe)}return te.on("data",ue),function(Qe,we,ut){if(typeof Qe.prependListener=="function")return Qe.prependListener(we,ut);Qe._events&&Qe._events[we]?Array.isArray(Qe._events[we])?Qe._events[we].unshift(ut):Qe._events[we]=[ut,Qe._events[we]]:Qe.on(we,ut)}(fe,"error",me),fe.once("close",Pe),fe.once("finish",He),fe.emit("pipe",te),n.flowing||(S("pipe resume"),te.resume()),fe},pe.prototype.unpipe=function(fe){var B=this._readableState,te={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return fe&&fe!==B.pipes||(fe||(fe=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,fe&&fe.emit("unpipe",this,te)),this;if(!fe){var n=B.pipes,l=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var A=0;A<l;A++)n[A].emit("unpipe",this,{hasUnpiped:!1});return this}var N=Me(B.pipes,fe);return N===-1||(B.pipes.splice(N,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),fe.emit("unpipe",this,te)),this},pe.prototype.on=function(fe,B){var te=r.prototype.on.call(this,fe,B),n=this._readableState;return fe==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):fe==="readable"&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,S("on readable",n.length,n.reading),n.length?Te(this):n.reading||process.nextTick(tt,this))),te},pe.prototype.addListener=pe.prototype.on,pe.prototype.removeListener=function(fe,B){var te=r.prototype.removeListener.call(this,fe,B);return fe==="readable"&&process.nextTick(Ve,this),te},pe.prototype.removeAllListeners=function(fe){var B=r.prototype.removeAllListeners.apply(this,arguments);return fe!=="readable"&&fe!==void 0||process.nextTick(Ve,this),B},pe.prototype.resume=function(){var fe=this._readableState;return fe.flowing||(S("resume"),fe.flowing=!fe.readableListening,function(B,te){te.resumeScheduled||(te.resumeScheduled=!0,process.nextTick(rt,B,te))}(this,fe)),fe.paused=!1,this},pe.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},pe.prototype.wrap=function(fe){var B=this,te=this._readableState,n=!1;for(var l in fe.on("end",function(){if(S("wrapped end"),te.decoder&&!te.ended){var N=te.decoder.end();N&&N.length&&B.push(N)}B.push(null)}),fe.on("data",function(N){S("wrapped data"),te.decoder&&(N=te.decoder.write(N)),te.objectMode&&N==null||(te.objectMode||N&&N.length)&&(B.push(N)||(n=!0,fe.pause()))}),fe)this[l]===void 0&&typeof fe[l]=="function"&&(this[l]=function(N){return function(){return fe[N].apply(fe,arguments)}}(l));for(var A=0;A<V.length;A++)fe.on(V[A],this.emit.bind(this,V[A]));return this._read=function(N){S("wrapped _read",N),n&&(n=!1,fe.resume())},this},typeof Symbol=="function"&&(pe.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=L(7299)),w(this)}),Object.defineProperty(pe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(pe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(pe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(fe){this._readableState&&(this._readableState.flowing=fe)}}),pe._fromList=Fe,Object.defineProperty(pe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(pe.from=function(fe,B){return e===void 0&&(e=L(6233)),e(pe,fe,B)})},9798:(We,Se,L)=>{We.exports=h;var se=L(3690).q,S=se.ERR_METHOD_NOT_IMPLEMENTED,t=se.ERR_MULTIPLE_CALLBACK,r=se.ERR_TRANSFORM_ALREADY_TRANSFORMING,v=se.ERR_TRANSFORM_WITH_LENGTH_0,g=L(6138);function u(d,f){var b=this._transformState;b.transforming=!1;var y=b.writecb;if(y===null)return this.emit("error",new t);b.writechunk=null,b.writecb=null,f!=null&&this.push(f),y(d);var M=this._readableState;M.reading=!1,(M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}function h(d){if(!(this instanceof h))return new h(d);g.call(this,d),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",w)}function w(){var d=this;typeof this._flush!="function"||this._readableState.destroyed?e(this,null,null):this._flush(function(f,b){e(d,f,b)})}function e(d,f,b){if(f)return d.emit("error",f);if(b!=null&&d.push(b),d._writableState.length)throw new v;if(d._transformState.transforming)throw new r;return d.push(null)}L(1765)(h,g),h.prototype.push=function(d,f){return this._transformState.needTransform=!1,g.prototype.push.call(this,d,f)},h.prototype._transform=function(d,f,b){b(new S("_transform()"))},h.prototype._write=function(d,f,b){var y=this._transformState;if(y.writecb=b,y.writechunk=d,y.writeencoding=f,!y.transforming){var M=this._readableState;(y.needTransform||M.needReadable||M.length<M.highWaterMark)&&this._read(M.highWaterMark)}},h.prototype._read=function(d){var f=this._transformState;f.writechunk===null||f.transforming?f.needTransform=!0:(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform))},h.prototype._destroy=function(d,f){g.prototype._destroy.call(this,d,function(b){f(b)})}},8318:(We,Se,L)=>{function se(ye){var be=this;this.next=null,this.entry=null,this.finish=function(){(function(Ve,tt,rt){var _e=Ve.entry;for(Ve.entry=null;_e;){var Fe=_e.callback;tt.pendingcb--,Fe(void 0),_e=_e.next}tt.corkedRequestsFree.next=Ve})(be,ye)}}var S;We.exports=pe,pe.WritableState=he;var t,r={deprecate:L(7839)},v=L(9299),g=L(1549).Buffer,u=L.g.Uint8Array||function(){},h=L(6163),w=L(7269).getHighWaterMark,e=L(3690).q,d=e.ERR_INVALID_ARG_TYPE,f=e.ERR_METHOD_NOT_IMPLEMENTED,b=e.ERR_MULTIPLE_CALLBACK,y=e.ERR_STREAM_CANNOT_PIPE,M=e.ERR_STREAM_DESTROYED,x=e.ERR_STREAM_NULL_VALUES,G=e.ERR_STREAM_WRITE_AFTER_END,P=e.ERR_UNKNOWN_ENCODING,z=h.errorOrDestroy;function V(){}function he(ye,be,Ve){S=S||L(6138),ye=ye||{},typeof Ve!="boolean"&&(Ve=be instanceof S),this.objectMode=!!ye.objectMode,Ve&&(this.objectMode=this.objectMode||!!ye.writableObjectMode),this.highWaterMark=w(this,ye,"writableHighWaterMark",Ve),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var tt=ye.decodeStrings===!1;this.decodeStrings=!tt,this.defaultEncoding=ye.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(rt){(function(_e,Fe){var $e=_e._writableState,Re=$e.sync,Me=$e.writecb;if(typeof Me!="function")throw new b;if(function(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}($e),Fe)(function(B,te,n,l,A){--te.pendingcb,n?(process.nextTick(A,l),process.nextTick(qe,B,te),B._writableState.errorEmitted=!0,z(B,l)):(A(l),B._writableState.errorEmitted=!0,z(B,l),qe(B,te))})(_e,$e,Re,Fe,Me);else{var fe=pt($e)||_e.destroyed;fe||$e.corked||$e.bufferProcessing||!$e.bufferedRequest||ae(_e,$e),Re?process.nextTick(xe,_e,$e,fe,Me):xe(_e,$e,fe,Me)}})(be,rt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ye.emitClose!==!1,this.autoDestroy=!!ye.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new se(this)}function pe(ye){var be=this instanceof(S=S||L(6138));if(!be&&!t.call(pe,this))return new pe(ye);this._writableState=new he(ye,this,be),this.writable=!0,ye&&(typeof ye.write=="function"&&(this._write=ye.write),typeof ye.writev=="function"&&(this._writev=ye.writev),typeof ye.destroy=="function"&&(this._destroy=ye.destroy),typeof ye.final=="function"&&(this._final=ye.final)),v.call(this)}function Ke(ye,be,Ve,tt,rt,_e,Fe){be.writelen=tt,be.writecb=Fe,be.writing=!0,be.sync=!0,be.destroyed?be.onwrite(new M("write")):Ve?ye._writev(rt,be.onwrite):ye._write(rt,_e,be.onwrite),be.sync=!1}function xe(ye,be,Ve,tt){Ve||function(rt,_e){_e.length===0&&_e.needDrain&&(_e.needDrain=!1,rt.emit("drain"))}(ye,be),be.pendingcb--,tt(),qe(ye,be)}function ae(ye,be){be.bufferProcessing=!0;var Ve=be.bufferedRequest;if(ye._writev&&Ve&&Ve.next){var tt=be.bufferedRequestCount,rt=new Array(tt),_e=be.corkedRequestsFree;_e.entry=Ve;for(var Fe=0,$e=!0;Ve;)rt[Fe]=Ve,Ve.isBuf||($e=!1),Ve=Ve.next,Fe+=1;rt.allBuffers=$e,Ke(ye,be,!0,be.length,rt,"",_e.finish),be.pendingcb++,be.lastBufferedRequest=null,_e.next?(be.corkedRequestsFree=_e.next,_e.next=null):be.corkedRequestsFree=new se(be),be.bufferedRequestCount=0}else{for(;Ve;){var Re=Ve.chunk,Me=Ve.encoding,fe=Ve.callback;if(Ke(ye,be,!1,be.objectMode?1:Re.length,Re,Me,fe),Ve=Ve.next,be.bufferedRequestCount--,be.writing)break}Ve===null&&(be.lastBufferedRequest=null)}be.bufferedRequest=Ve,be.bufferProcessing=!1}function pt(ye){return ye.ending&&ye.length===0&&ye.bufferedRequest===null&&!ye.finished&&!ye.writing}function Te(ye,be){ye._final(function(Ve){be.pendingcb--,Ve&&z(ye,Ve),be.prefinished=!0,ye.emit("prefinish"),qe(ye,be)})}function qe(ye,be){var Ve=pt(be);if(Ve&&(function(rt,_e){_e.prefinished||_e.finalCalled||(typeof rt._final!="function"||_e.destroyed?(_e.prefinished=!0,rt.emit("prefinish")):(_e.pendingcb++,_e.finalCalled=!0,process.nextTick(Te,rt,_e)))}(ye,be),be.pendingcb===0&&(be.finished=!0,ye.emit("finish"),be.autoDestroy))){var tt=ye._readableState;(!tt||tt.autoDestroy&&tt.endEmitted)&&ye.destroy()}return Ve}L(1765)(pe,v),he.prototype.getBuffer=function(){for(var ye=this.bufferedRequest,be=[];ye;)be.push(ye),ye=ye.next;return be},function(){try{Object.defineProperty(he.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(t=Function.prototype[Symbol.hasInstance],Object.defineProperty(pe,Symbol.hasInstance,{value:function(ye){return!!t.call(this,ye)||this===pe&&ye&&ye._writableState instanceof he}})):t=function(ye){return ye instanceof this},pe.prototype.pipe=function(){z(this,new y)},pe.prototype.write=function(ye,be,Ve){var tt,rt=this._writableState,_e=!1,Fe=!rt.objectMode&&(tt=ye,g.isBuffer(tt)||tt instanceof u);return Fe&&!g.isBuffer(ye)&&(ye=function($e){return g.from($e)}(ye)),typeof be=="function"&&(Ve=be,be=null),Fe?be="buffer":be||(be=rt.defaultEncoding),typeof Ve!="function"&&(Ve=V),rt.ending?function($e,Re){var Me=new G;z($e,Me),process.nextTick(Re,Me)}(this,Ve):(Fe||function($e,Re,Me,fe){var B;return Me===null?B=new x:typeof Me=="string"||Re.objectMode||(B=new d("chunk",["string","Buffer"],Me)),!B||(z($e,B),process.nextTick(fe,B),!1)}(this,rt,ye,Ve))&&(rt.pendingcb++,_e=function($e,Re,Me,fe,B,te){if(!Me){var n=function(ie,ue,me){return ie.objectMode||ie.decodeStrings===!1||typeof ue!="string"||(ue=g.from(ue,me)),ue}(Re,fe,B);fe!==n&&(Me=!0,B="buffer",fe=n)}var l=Re.objectMode?1:fe.length;Re.length+=l;var A=Re.length<Re.highWaterMark;if(A||(Re.needDrain=!0),Re.writing||Re.corked){var N=Re.lastBufferedRequest;Re.lastBufferedRequest={chunk:fe,encoding:B,isBuf:Me,callback:te,next:null},N?N.next=Re.lastBufferedRequest:Re.bufferedRequest=Re.lastBufferedRequest,Re.bufferedRequestCount+=1}else Ke($e,Re,!1,l,fe,B,te);return A}(this,rt,Fe,ye,be,Ve)),_e},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){var ye=this._writableState;ye.corked&&(ye.corked--,ye.writing||ye.corked||ye.bufferProcessing||!ye.bufferedRequest||ae(this,ye))},pe.prototype.setDefaultEncoding=function(ye){if(typeof ye=="string"&&(ye=ye.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ye+"").toLowerCase())>-1))throw new P(ye);return this._writableState.defaultEncoding=ye,this},Object.defineProperty(pe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(pe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),pe.prototype._write=function(ye,be,Ve){Ve(new f("_write()"))},pe.prototype._writev=null,pe.prototype.end=function(ye,be,Ve){var tt=this._writableState;return typeof ye=="function"?(Ve=ye,ye=null,be=null):typeof be=="function"&&(Ve=be,be=null),ye!=null&&this.write(ye,be),tt.corked&&(tt.corked=1,this.uncork()),tt.ending||function(rt,_e,Fe){_e.ending=!0,qe(rt,_e),Fe&&(_e.finished?process.nextTick(Fe):rt.once("finish",Fe)),_e.ended=!0,rt.writable=!1}(this,tt,Ve),this},Object.defineProperty(pe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(ye){this._writableState&&(this._writableState.destroyed=ye)}}),pe.prototype.destroy=h.destroy,pe.prototype._undestroy=h.undestroy,pe.prototype._destroy=function(ye,be){be(ye)}},7299:(We,Se,L)=>{var se;function S(x,G,P){return G in x?Object.defineProperty(x,G,{value:P,enumerable:!0,configurable:!0,writable:!0}):x[G]=P,x}var t=L(8800),r=Symbol("lastResolve"),v=Symbol("lastReject"),g=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),w=Symbol("handlePromise"),e=Symbol("stream");function d(x,G){return{value:x,done:G}}function f(x){var G=x[r];if(G!==null){var P=x[e].read();P!==null&&(x[h]=null,x[r]=null,x[v]=null,G(d(P,!1)))}}function b(x){process.nextTick(f,x)}var y=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((S(se={get stream(){return this[e]},next:function(){var x=this,G=this[g];if(G!==null)return Promise.reject(G);if(this[u])return Promise.resolve(d(void 0,!0));if(this[e].destroyed)return new Promise(function(he,pe){process.nextTick(function(){x[g]?pe(x[g]):he(d(void 0,!0))})});var P,z=this[h];if(z)P=new Promise(function(he,pe){return function(Ke,xe){he.then(function(){pe[u]?Ke(d(void 0,!0)):pe[w](Ke,xe)},xe)}}(z,this));else{var V=this[e].read();if(V!==null)return Promise.resolve(d(V,!1));P=new Promise(this[w])}return this[h]=P,P}},Symbol.asyncIterator,function(){return this}),S(se,"return",function(){var x=this;return new Promise(function(G,P){x[e].destroy(null,function(z){z?P(z):G(d(void 0,!0))})})}),se),y);We.exports=function(x){var G,P=Object.create(M,(S(G={},e,{value:x,writable:!0}),S(G,r,{value:null,writable:!0}),S(G,v,{value:null,writable:!0}),S(G,g,{value:null,writable:!0}),S(G,u,{value:x._readableState.endEmitted,writable:!0}),S(G,w,{value:function(z,V){var he=P[e].read();he?(P[h]=null,P[r]=null,P[v]=null,z(d(he,!1))):(P[r]=z,P[v]=V)},writable:!0}),G));return P[h]=null,t(x,function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var V=P[v];return V!==null&&(P[h]=null,P[r]=null,P[v]=null,V(z)),void(P[g]=z)}var he=P[r];he!==null&&(P[h]=null,P[r]=null,P[v]=null,he(d(void 0,!0))),P[u]=!0}),x.on("readable",b.bind(null,P)),P}},8393:(We,Se,L)=>{function se(u,h){var w=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);h&&(e=e.filter(function(d){return Object.getOwnPropertyDescriptor(u,d).enumerable})),w.push.apply(w,e)}return w}function S(u,h,w){return h in u?Object.defineProperty(u,h,{value:w,enumerable:!0,configurable:!0,writable:!0}):u[h]=w,u}function t(u,h){for(var w=0;w<h.length;w++){var e=h[w];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(u,e.key,e)}}var r=L(1549).Buffer,v=L(9862).inspect,g=v&&v.custom||"inspect";We.exports=function(){function u(){(function(e,d){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}var h,w;return h=u,w=[{key:"push",value:function(e){var d={data:e,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}},{key:"unshift",value:function(e){var d={data:e,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}},{key:"shift",value:function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(this.length===0)return"";for(var d=this.head,f=""+d.data;d=d.next;)f+=e+d.data;return f}},{key:"concat",value:function(e){if(this.length===0)return r.alloc(0);for(var d,f,b,y=r.allocUnsafe(e>>>0),M=this.head,x=0;M;)d=M.data,f=y,b=x,r.prototype.copy.call(d,f,b),x+=M.data.length,M=M.next;return y}},{key:"consume",value:function(e,d){var f;return e<this.head.data.length?(f=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):f=e===this.head.data.length?this.shift():d?this._getString(e):this._getBuffer(e),f}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var d=this.head,f=1,b=d.data;for(e-=b.length;d=d.next;){var y=d.data,M=e>y.length?y.length:e;if(M===y.length?b+=y:b+=y.slice(0,e),(e-=M)==0){M===y.length?(++f,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=y.slice(M));break}++f}return this.length-=f,b}},{key:"_getBuffer",value:function(e){var d=r.allocUnsafe(e),f=this.head,b=1;for(f.data.copy(d),e-=f.data.length;f=f.next;){var y=f.data,M=e>y.length?y.length:e;if(y.copy(d,d.length-e,0,M),(e-=M)==0){M===y.length?(++b,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=y.slice(M));break}++b}return this.length-=b,d}},{key:g,value:function(e,d){return v(this,function(f){for(var b=1;b<arguments.length;b++){var y=arguments[b]!=null?arguments[b]:{};b%2?se(Object(y),!0).forEach(function(M){S(f,M,y[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):se(Object(y)).forEach(function(M){Object.defineProperty(f,M,Object.getOwnPropertyDescriptor(y,M))})}return f}({},d,{depth:0,customInspect:!1}))}}],w&&t(h.prototype,w),u}()},6163:We=>{function Se(S,t){se(S,t),L(S)}function L(S){S._writableState&&!S._writableState.emitClose||S._readableState&&!S._readableState.emitClose||S.emit("close")}function se(S,t){S.emit("error",t)}We.exports={destroy:function(S,t){var r=this,v=this._readableState&&this._readableState.destroyed,g=this._writableState&&this._writableState.destroyed;return v||g?(t?t(S):S&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(se,this,S)):process.nextTick(se,this,S)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(S||null,function(u){!t&&u?r._writableState?r._writableState.errorEmitted?process.nextTick(L,r):(r._writableState.errorEmitted=!0,process.nextTick(Se,r,u)):process.nextTick(Se,r,u):t?(process.nextTick(L,r),t(u)):process.nextTick(L,r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(S,t){var r=S._readableState,v=S._writableState;r&&r.autoDestroy||v&&v.autoDestroy?S.destroy(t):S.emit("error",t)}}},8800:(We,Se,L)=>{var se=L(3690).q.ERR_STREAM_PREMATURE_CLOSE;function S(){}We.exports=function t(r,v,g){if(typeof v=="function")return t(r,null,v);v||(v={}),g=function(G){var P=!1;return function(){if(!P){P=!0;for(var z=arguments.length,V=new Array(z),he=0;he<z;he++)V[he]=arguments[he];G.apply(this,V)}}}(g||S);var u=v.readable||v.readable!==!1&&r.readable,h=v.writable||v.writable!==!1&&r.writable,w=function(){r.writable||d()},e=r._writableState&&r._writableState.finished,d=function(){h=!1,e=!0,u||g.call(r)},f=r._readableState&&r._readableState.endEmitted,b=function(){u=!1,f=!0,h||g.call(r)},y=function(G){g.call(r,G)},M=function(){var G;return u&&!f?(r._readableState&&r._readableState.ended||(G=new se),g.call(r,G)):h&&!e?(r._writableState&&r._writableState.ended||(G=new se),g.call(r,G)):void 0},x=function(){r.req.on("finish",d)};return function(G){return G.setHeader&&typeof G.abort=="function"}(r)?(r.on("complete",d),r.on("abort",M),r.req?x():r.on("request",x)):h&&!r._writableState&&(r.on("end",w),r.on("close",w)),r.on("end",b),r.on("finish",d),v.error!==!1&&r.on("error",y),r.on("close",M),function(){r.removeListener("complete",d),r.removeListener("abort",M),r.removeListener("request",x),r.req&&r.req.removeListener("finish",d),r.removeListener("end",w),r.removeListener("close",w),r.removeListener("finish",d),r.removeListener("end",b),r.removeListener("error",y),r.removeListener("close",M)}}},6233:We=>{We.exports=function(){throw new Error("Readable.from is not available in the browser")}},7295:(We,Se,L)=>{var se,S=L(3690).q,t=S.ERR_MISSING_ARGS,r=S.ERR_STREAM_DESTROYED;function v(e){if(e)throw e}function g(e,d,f,b){b=function(x){var G=!1;return function(){G||(G=!0,x.apply(void 0,arguments))}}(b);var y=!1;e.on("close",function(){y=!0}),se===void 0&&(se=L(8800)),se(e,{readable:d,writable:f},function(x){if(x)return b(x);y=!0,b()});var M=!1;return function(x){if(!y&&!M)return M=!0,function(G){return G.setHeader&&typeof G.abort=="function"}(e)?e.abort():typeof e.destroy=="function"?e.destroy():void b(x||new r("pipe"))}}function u(e){e()}function h(e,d){return e.pipe(d)}function w(e){return e.length?typeof e[e.length-1]!="function"?v:e.pop():v}We.exports=function(){for(var e=arguments.length,d=new Array(e),f=0;f<e;f++)d[f]=arguments[f];var b,y=w(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new t("streams");var M=d.map(function(x,G){var P=G<d.length-1;return g(x,P,G>0,function(z){b||(b=z),z&&M.forEach(u),P||(M.forEach(u),y(b))})});return d.reduce(h)}},7269:(We,Se,L)=>{var se=L(3690).q.ERR_INVALID_OPT_VALUE;We.exports={getHighWaterMark:function(S,t,r,v){var g=function(u,h,w){return u.highWaterMark!=null?u.highWaterMark:h?u[w]:null}(t,v,r);if(g!=null){if(!isFinite(g)||Math.floor(g)!==g||g<0)throw new se(v?r:"highWaterMark",g);return Math.floor(g)}return S.objectMode?16:16384}}},9299:(We,Se,L)=>{We.exports=L(1159).EventEmitter},7503:(We,Se,L)=>{var se=L(8387).Buffer,S=se.isEncoding||function(f){switch((f=""+f)&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(f){var b;switch(this.encoding=function(y){var M=function(x){if(!x)return"utf8";for(var G;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(G)return;x=(""+x).toLowerCase(),G=!0}}(y);if(typeof M!="string"&&(se.isEncoding===S||!S(y)))throw new Error("Unknown encoding: "+y);return M||y}(f),this.encoding){case"utf16le":this.text=g,this.end=u,b=4;break;case"utf8":this.fillLast=v,b=4;break;case"base64":this.text=h,this.end=w,b=3;break;default:return this.write=e,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=se.allocUnsafe(b)}function r(f){return f<=127?0:f>>5==6?2:f>>4==14?3:f>>3==30?4:f>>6==2?-1:-2}function v(f){var b=this.lastTotal-this.lastNeed,y=function(M,x,G){if((192&x[0])!=128)return M.lastNeed=0,"�";if(M.lastNeed>1&&x.length>1){if((192&x[1])!=128)return M.lastNeed=1,"�";if(M.lastNeed>2&&x.length>2&&(192&x[2])!=128)return M.lastNeed=2,"�"}}(this,f);return y!==void 0?y:this.lastNeed<=f.length?(f.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,b,0,f.length),void(this.lastNeed-=f.length))}function g(f,b){if((f.length-b)%2==0){var y=f.toString("utf16le",b);if(y){var M=y.charCodeAt(y.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",b,f.length-1)}function u(f){var b=f&&f.length?this.write(f):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,y)}return b}function h(f,b){var y=(f.length-b)%3;return y===0?f.toString("base64",b):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",b,f.length-y))}function w(f){var b=f&&f.length?this.write(f):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function e(f){return f.toString(this.encoding)}function d(f){return f&&f.length?this.write(f):""}Se.s=t,t.prototype.write=function(f){if(f.length===0)return"";var b,y;if(this.lastNeed){if((b=this.fillLast(f))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<f.length?b?b+this.text(f,y):this.text(f,y):b||""},t.prototype.end=function(f){var b=f&&f.length?this.write(f):"";return this.lastNeed?b+"�":b},t.prototype.text=function(f,b){var y=function(x,G,P){var z=G.length-1;if(z<P)return 0;var V=r(G[z]);return V>=0?(V>0&&(x.lastNeed=V-1),V):--z<P||V===-2?0:(V=r(G[z]))>=0?(V>0&&(x.lastNeed=V-2),V):--z<P||V===-2?0:(V=r(G[z]))>=0?(V>0&&(V===2?V=0:x.lastNeed=V-3),V):0}(this,f,b);if(!this.lastNeed)return f.toString("utf8",b);this.lastTotal=y;var M=f.length-(y-this.lastNeed);return f.copy(this.lastChar,0,M),f.toString("utf8",b,M)},t.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length}},1067:function(We,Se,L){var se;(function(S,t){var r="function",v="undefined",g="object",u="string",h="model",w="name",e="type",d="vendor",f="version",b="architecture",y="console",M="mobile",x="tablet",G="smarttv",P="wearable",z="embedded",V="Amazon",he="Apple",pe="ASUS",Ke="BlackBerry",xe="Browser",ae="Chrome",pt="Firefox",Te="Google",qe="Huawei",ye="LG",be="Microsoft",Ve="Motorola",tt="Opera",rt="Samsung",_e="Sony",Fe="Xiaomi",$e="Zebra",Re="Facebook",Me=function(Pe){for(var He={},ze=0;ze<Pe.length;ze++)He[Pe[ze].toUpperCase()]=Pe[ze];return He},fe=function(Pe,He){return typeof Pe===u&&B(He).indexOf(B(Pe))!==-1},B=function(Pe){return Pe.toLowerCase()},te=function(Pe,He){if(typeof Pe===u)return Pe=Pe.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof He===v?Pe:Pe.substring(0,255)},n=function(Pe,He){for(var ze,Qe,we,ut,wt,Dt,Ut=0;Ut<He.length&&!wt;){var qt=He[Ut],Ht=He[Ut+1];for(ze=Qe=0;ze<qt.length&&!wt;)if(wt=qt[ze++].exec(Pe))for(we=0;we<Ht.length;we++)Dt=wt[++Qe],typeof(ut=Ht[we])===g&&ut.length>0?ut.length===2?typeof ut[1]==r?this[ut[0]]=ut[1].call(this,Dt):this[ut[0]]=ut[1]:ut.length===3?typeof ut[1]!==r||ut[1].exec&&ut[1].test?this[ut[0]]=Dt?Dt.replace(ut[1],ut[2]):t:this[ut[0]]=Dt?ut[1].call(this,Dt,ut[2]):t:ut.length===4&&(this[ut[0]]=Dt?ut[3].call(this,Dt.replace(ut[1],ut[2])):t):this[ut]=Dt||t;Ut+=2}},l=function(Pe,He){for(var ze in He)if(typeof He[ze]===g&&He[ze].length>0){for(var Qe=0;Qe<He[ze].length;Qe++)if(fe(He[ze][Qe],Pe))return ze==="?"?t:ze}else if(fe(He[ze],Pe))return ze==="?"?t:ze;return Pe},A={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},N={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[w,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[w,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[w,f],[/opios[\/ ]+([\w\.]+)/i],[f,[w,tt+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[w,tt]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[w,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[w,"UC"+xe]],[/\bqbcore\/([\w\.]+)/i],[f,[w,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[w,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[w,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[w,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[w,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[w,/(.+)/,"$1 Secure "+xe],f],[/\bfocus\/([\w\.]+)/i],[f,[w,pt+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[w,tt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[w,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[w,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[w,tt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[w,"MIUI "+xe]],[/fxios\/([-\w\.]+)/i],[f,[w,pt]],[/\bqihu|(qi?ho?o?|360)browser/i],[[w,"360 "+xe]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[w,/(.+)/,"$1 "+xe],f],[/(comodo_dragon)\/([\w\.]+)/i],[[w,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[w,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[w],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[w,Re],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[w,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[w,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[w,ae+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[w,ae+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[w,"Android "+xe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[w,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[w,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,w],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[w,[f,l,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[w,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[w,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[w,pt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[w,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,B]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",B]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,B]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[d,rt],[e,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[d,rt],[e,M]],[/\((ip(?:hone|od)[\w ]*);/i],[h,[d,he],[e,M]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[d,he],[e,x]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[d,qe],[e,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[h,[d,qe],[e,M]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[d,Fe],[e,M]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[d,Fe],[e,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[d,"OPPO"],[e,M]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[d,"Vivo"],[e,M]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[d,"Realme"],[e,M]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[d,Ve],[e,M]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[d,Ve],[e,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[d,ye],[e,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[d,ye],[e,M]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[d,"Lenovo"],[e,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[d,"Nokia"],[e,M]],[/(pixel c)\b/i],[h,[d,Te],[e,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[d,Te],[e,M]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[d,_e],[e,M]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[d,_e],[e,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[d,"OnePlus"],[e,M]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[d,V],[e,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[d,V],[e,M]],[/(playbook);[-\w\),; ]+(rim)/i],[h,d,[e,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[d,Ke],[e,M]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[d,pe],[e,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[d,pe],[e,M]],[/(nexus 9)/i],[h,[d,"HTC"],[e,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[h,/_/g," "],[e,M]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[d,"Acer"],[e,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[d,"Meizu"],[e,M]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[d,"Sharp"],[e,M]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,h,[e,M]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,h,[e,x]],[/(surface duo)/i],[h,[d,be],[e,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[d,"Fairphone"],[e,M]],[/(u304aa)/i],[h,[d,"AT&T"],[e,M]],[/\bsie-(\w*)/i],[h,[d,"Siemens"],[e,M]],[/\b(rct\w+) b/i],[h,[d,"RCA"],[e,x]],[/\b(venue[\d ]{2,7}) b/i],[h,[d,"Dell"],[e,x]],[/\b(q(?:mv|ta)\w+) b/i],[h,[d,"Verizon"],[e,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[d,"Barnes & Noble"],[e,x]],[/\b(tm\d{3}\w+) b/i],[h,[d,"NuVision"],[e,x]],[/\b(k88) b/i],[h,[d,"ZTE"],[e,x]],[/\b(nx\d{3}j) b/i],[h,[d,"ZTE"],[e,M]],[/\b(gen\d{3}) b.+49h/i],[h,[d,"Swiss"],[e,M]],[/\b(zur\d{3}) b/i],[h,[d,"Swiss"],[e,x]],[/\b((zeki)?tb.*\b) b/i],[h,[d,"Zeki"],[e,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],h,[e,x]],[/\b(ns-?\w{0,9}) b/i],[h,[d,"Insignia"],[e,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[d,"NextBook"],[e,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],h,[e,M]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],h,[e,M]],[/\b(ph-1) /i],[h,[d,"Essential"],[e,M]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[d,"Envizen"],[e,x]],[/\b(trio[-\w\. ]+) b/i],[h,[d,"MachSpeed"],[e,x]],[/\btu_(1491) b/i],[h,[d,"Rotor"],[e,x]],[/(shield[\w ]+) b/i],[h,[d,"Nvidia"],[e,x]],[/(sprint) (\w+)/i],[d,h,[e,M]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[d,be],[e,M]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[d,$e],[e,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[d,$e],[e,M]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,h,[e,y]],[/droid.+; (shield) bui/i],[h,[d,"Nvidia"],[e,y]],[/(playstation [345portablevi]+)/i],[h,[d,_e],[e,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[d,be],[e,y]],[/smart-tv.+(samsung)/i],[d,[e,G]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[d,rt],[e,G]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,ye],[e,G]],[/(apple) ?tv/i],[d,[h,he+" TV"],[e,G]],[/crkey/i],[[h,ae+"cast"],[d,Te],[e,G]],[/droid.+aft(\w)( bui|\))/i],[h,[d,V],[e,G]],[/\(dtv[\);].+(aquos)/i],[h,[d,"Sharp"],[e,G]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,te],[h,te],[e,G]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[e,G]],[/((pebble))app/i],[d,h,[e,P]],[/droid.+; (glass) \d/i],[h,[d,Te],[e,P]],[/droid.+; (wt63?0{2,3})\)/i],[h,[d,$e],[e,P]],[/(quest( 2)?)/i],[h,[d,Re],[e,P]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[e,z]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[e,M]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[e,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[e,x]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[e,M]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[w,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[w,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[w,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,w]],os:[[/microsoft (windows) (vista|xp)/i],[w,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[w,[f,l,A]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,"Windows"],[f,l,A]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[w,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[w,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,w],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[w,f],[/\(bb(10);/i],[f,[w,Ke]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[w,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[w,pt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[w,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[w,ae+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[w,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[w,f],[/(sunos) ?([\w\.\d]*)/i],[[w,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[w,f]]},ie=function(Pe,He){if(typeof Pe===g&&(He=Pe,Pe=t),!(this instanceof ie))return new ie(Pe,He).getResult();var ze=Pe||(typeof S!==v&&S.navigator&&S.navigator.userAgent?S.navigator.userAgent:""),Qe=He?function(we,ut){var wt={};for(var Dt in we)ut[Dt]&&ut[Dt].length%2==0?wt[Dt]=ut[Dt].concat(we[Dt]):wt[Dt]=we[Dt];return wt}(N,He):N;return this.getBrowser=function(){var we,ut={};return ut[w]=t,ut[f]=t,n.call(ut,ze,Qe.browser),ut.major=typeof(we=ut.version)===u?we.replace(/[^\d\.]/g,"").split(".")[0]:t,ut},this.getCPU=function(){var we={};return we[b]=t,n.call(we,ze,Qe.cpu),we},this.getDevice=function(){var we={};return we[d]=t,we[h]=t,we[e]=t,n.call(we,ze,Qe.device),we},this.getEngine=function(){var we={};return we[w]=t,we[f]=t,n.call(we,ze,Qe.engine),we},this.getOS=function(){var we={};return we[w]=t,we[f]=t,n.call(we,ze,Qe.os),we},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ze},this.setUA=function(we){return ze=typeof we===u&&we.length>255?te(we,255):we,this},this.setUA(ze),this};ie.VERSION="1.0.2",ie.BROWSER=Me([w,f,"major"]),ie.CPU=Me([b]),ie.DEVICE=Me([h,d,e,y,M,G,x,P,z]),ie.ENGINE=ie.OS=Me([w,f]),typeof Se!==v?(We.exports&&(Se=We.exports=ie),Se.UAParser=ie):L.amdO?(se=function(){return ie}.call(Se,L,Se,We))===t||(We.exports=se):typeof S!==v&&(S.UAParser=ie);var ue=typeof S!==v&&(S.jQuery||S.Zepto);if(ue&&!ue.ua){var me=new ie;ue.ua=me.getResult(),ue.ua.get=function(){return me.getUA()},ue.ua.set=function(Pe){me.setUA(Pe);var He=me.getResult();for(var ze in He)ue.ua[ze]=He[ze]}}})(typeof window=="object"?window:this)},7839:(We,Se,L)=>{function se(S){try{if(!L.g.localStorage)return!1}catch{return!1}var t=L.g.localStorage[S];return t!=null&&String(t).toLowerCase()==="true"}We.exports=function(S,t){if(se("noDeprecation"))return S;var r=!1;return function(){if(!r){if(se("throwDeprecation"))throw new Error(t);se("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return S.apply(this,arguments)}}},9862:()=>{},964:()=>{},3165:We=>{We.exports=JSON.parse('["mni-beng-in","mni-mtei-in","sat-deva-in","sat-olck-in","shi-latn-ma","shi-tfng-ma","vai-latn-lr","vai-vaii-lr","yue-hans-cn","yue-hant-hk","az-arab-ir","az-cyrl-az","az-latn-az","bm-nkoo-ml","bs-cyrl-ba","bs-latn-ba","en-dsrt-us","ff-adlm-gn","ff-latn-sn","ha-arab-ng","hi-latn-in","iu-latn-ca","ks-arab-in","ks-deva-in","mn-mong-cn","ms-arab-my","pa-arab-pk","pa-guru-in","sd-arab-pk","sd-deva-in","sr-cyrl-rs","sr-latn-rs","su-latn-id","uz-arab-af","uz-cyrl-uz","uz-latn-uz","zh-hans-cn","zh-hant-tw","mni-beng","sat-olck","shi-tfng","vai-vaii","yue-hant","az-latn","bs-latn","ff-latn","jbo-001","ks-arab","pa-guru","prg-001","sd-arab","sr-cyrl","su-latn","uz-latn","zh-hans","agq-cm","ar-001","arn-cl","asa-tz","ast-es","bas-cm","bem-zm","bez-tz","bgn-pk","blt-vn","brx-in","bss-cm","byn-er","cad-us","cch-ng","ccp-bd","ceb-ph","cgg-ug","chr-us","cic-us","ckb-iq","dav-ke","dje-ne","doi-in","dsb-de","dua-cm","dyo-sn","ebu-ke","eo-001","ewo-cm","fil-ph","fur-it","gaa-gh","gez-et","gsw-ch","guz-ke","haw-us","hsb-de","ia-001","ife-tg","io-001","jgo-cm","jmc-tz","kab-dz","kaj-ng","kam-ke","kcg-ng","kde-tz","kea-cv","ken-cm","khq-ml","kkj-cm","kln-ke","kok-in","kpe-lr","ksb-tz","ksf-cm","ksh-de","lag-tz","lkt-us","lrc-ir","luo-ke","luy-ke","mai-in","mas-ke","mer-ke","mfe-mu","mgh-mz","mgo-cm","moh-ca","mua-cm","mus-us","myv-ru","mzn-ir","naq-na","nds-de","nmg-cm","nnh-cm","nqo-gn","nso-za","nus-ss","nyn-ug","osa-us","pcm-ng","quc-gt","rof-tz","rwk-tz","sah-ru","saq-ke","sbp-tz","scn-it","sdh-ir","seh-mz","ses-ml","sid-et","sma-se","smj-se","smn-fi","sms-fi","ssy-er","syr-iq","szl-pl","teo-ug","tig-er","trv-tw","trw-pk","twq-ne","tzm-ma","vo-001","vun-tz","wae-ch","wal-et","wbp-au","xog-ug","yav-cm","yi-001","zgh-ma","aa-et","af-za","ak-gh","am-et","an-es","as-in","ba-ru","be-by","bg-bg","bm-ml","bn-bd","bo-cn","br-fr","ca-es","ce-ru","co-fr","cs-cz","cu-ru","cv-ru","cy-gb","da-dk","de-de","dv-mv","dz-bt","ee-gh","el-gr","en-us","es-es","et-ee","eu-es","fa-ir","fi-fi","fo-fo","fr-fr","fy-nl","ga-ie","gd-gb","gl-es","gn-py","gu-in","gv-im","ha-ng","he-il","hi-in","hr-hr","hu-hu","hy-am","id-id","ig-ng","ii-cn","is-is","it-it","iu-ca","ja-jp","jv-id","ka-ge","ki-ke","kk-kz","kl-gl","km-kh","kn-in","ko-kr","ku-tr","kw-gb","ky-kg","lb-lu","lg-ug","ln-cd","lo-la","lt-lt","lu-cd","lv-lv","mg-mg","mi-nz","mk-mk","ml-in","mn-mn","mr-in","ms-my","mt-mt","my-mm","nb-no","nd-zw","ne-np","nl-nl","nn-no","nr-za","nv-us","ny-mw","oc-fr","om-et","or-in","os-ge","pl-pl","ps-af","pt-br","qu-pe","rm-ch","rn-bi","ro-ro","ru-ru","rw-rw","sa-in","sc-it","se-no","sg-cf","si-lk","sk-sk","sl-si","sn-zw","so-so","sq-al","ss-za","st-za","sv-se","sw-tz","ta-in","te-in","tg-tj","th-th","ti-et","tk-tm","tn-za","to-to","tr-tr","ts-za","tt-ru","ug-cn","uk-ua","ur-pk","ve-za","vi-vn","wa-be","wo-sn","xh-za","yo-ng","zu-za"]')},5813:We=>{We.exports=JSON.parse('[{"from":{"field":"script","value":"qaai"},"to":{"field":"script","value":"zinh"}},{"from":{"field":"region","value":"bu"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"ct"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"dd"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"dy"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"fx"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"hv"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"jt"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"mi"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"nh"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"nq"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"pu"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"pz"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"qu"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"rh"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"tp"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"uk"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"vd"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"wk"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"yd"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"zr"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"230"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"280"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"736"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"886"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"958"},"to":{"field":"region","value":"aa"}},{"from":{"field":"region","value":"020"},"to":{"field":"region","value":"ad"}},{"from":{"field":"region","value":"784"},"to":{"field":"region","value":"ae"}},{"from":{"field":"region","value":"004"},"to":{"field":"region","value":"af"}},{"from":{"field":"region","value":"028"},"to":{"field":"region","value":"ag"}},{"from":{"field":"region","value":"660"},"to":{"field":"region","value":"ai"}},{"from":{"field":"region","value":"008"},"to":{"field":"region","value":"al"}},{"from":{"field":"region","value":"051"},"to":{"field":"region","value":"am"}},{"from":{"field":"region","value":"024"},"to":{"field":"region","value":"ao"}},{"from":{"field":"region","value":"010"},"to":{"field":"region","value":"aq"}},{"from":{"field":"region","value":"032"},"to":{"field":"region","value":"ar"}},{"from":{"field":"region","value":"016"},"to":{"field":"region","value":"as"}},{"from":{"field":"region","value":"040"},"to":{"field":"region","value":"at"}},{"from":{"field":"region","value":"036"},"to":{"field":"region","value":"au"}},{"from":{"field":"region","value":"533"},"to":{"field":"region","value":"aw"}},{"from":{"field":"region","value":"248"},"to":{"field":"region","value":"ax"}},{"from":{"field":"region","value":"031"},"to":{"field":"region","value":"az"}},{"from":{"field":"region","value":"070"},"to":{"field":"region","value":"ba"}},{"from":{"field":"region","value":"052"},"to":{"field":"region","value":"bb"}},{"from":{"field":"region","value":"050"},"to":{"field":"region","value":"bd"}},{"from":{"field":"region","value":"056"},"to":{"field":"region","value":"be"}},{"from":{"field":"region","value":"854"},"to":{"field":"region","value":"bf"}},{"from":{"field":"region","value":"100"},"to":{"field":"region","value":"bg"}},{"from":{"field":"region","value":"048"},"to":{"field":"region","value":"bh"}},{"from":{"field":"region","value":"108"},"to":{"field":"region","value":"bi"}},{"from":{"field":"region","value":"204"},"to":{"field":"region","value":"bj"}},{"from":{"field":"region","value":"652"},"to":{"field":"region","value":"bl"}},{"from":{"field":"region","value":"060"},"to":{"field":"region","value":"bm"}},{"from":{"field":"region","value":"096"},"to":{"field":"region","value":"bn"}},{"from":{"field":"region","value":"068"},"to":{"field":"region","value":"bo"}},{"from":{"field":"region","value":"535"},"to":{"field":"region","value":"bq"}},{"from":{"field":"region","value":"076"},"to":{"field":"region","value":"br"}},{"from":{"field":"region","value":"044"},"to":{"field":"region","value":"bs"}},{"from":{"field":"region","value":"064"},"to":{"field":"region","value":"bt"}},{"from":{"field":"region","value":"104"},"to":{"field":"region","value":"mm"}},{"from":{"field":"region","value":"074"},"to":{"field":"region","value":"bv"}},{"from":{"field":"region","value":"072"},"to":{"field":"region","value":"bw"}},{"from":{"field":"region","value":"112"},"to":{"field":"region","value":"by"}},{"from":{"field":"region","value":"084"},"to":{"field":"region","value":"bz"}},{"from":{"field":"region","value":"124"},"to":{"field":"region","value":"ca"}},{"from":{"field":"region","value":"166"},"to":{"field":"region","value":"cc"}},{"from":{"field":"region","value":"180"},"to":{"field":"region","value":"cd"}},{"from":{"field":"region","value":"140"},"to":{"field":"region","value":"cf"}},{"from":{"field":"region","value":"178"},"to":{"field":"region","value":"cg"}},{"from":{"field":"region","value":"756"},"to":{"field":"region","value":"ch"}},{"from":{"field":"region","value":"384"},"to":{"field":"region","value":"ci"}},{"from":{"field":"region","value":"184"},"to":{"field":"region","value":"ck"}},{"from":{"field":"region","value":"152"},"to":{"field":"region","value":"cl"}},{"from":{"field":"region","value":"120"},"to":{"field":"region","value":"cm"}},{"from":{"field":"region","value":"156"},"to":{"field":"region","value":"cn"}},{"from":{"field":"region","value":"170"},"to":{"field":"region","value":"co"}},{"from":{"field":"region","value":"188"},"to":{"field":"region","value":"cr"}},{"from":{"field":"region","value":"192"},"to":{"field":"region","value":"cu"}},{"from":{"field":"region","value":"132"},"to":{"field":"region","value":"cv"}},{"from":{"field":"region","value":"531"},"to":{"field":"region","value":"cw"}},{"from":{"field":"region","value":"162"},"to":{"field":"region","value":"cx"}},{"from":{"field":"region","value":"196"},"to":{"field":"region","value":"cy"}},{"from":{"field":"region","value":"203"},"to":{"field":"region","value":"cz"}},{"from":{"field":"region","value":"278"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"276"},"to":{"field":"region","value":"de"}},{"from":{"field":"region","value":"262"},"to":{"field":"region","value":"dj"}},{"from":{"field":"region","value":"208"},"to":{"field":"region","value":"dk"}},{"from":{"field":"region","value":"212"},"to":{"field":"region","value":"dm"}},{"from":{"field":"region","value":"214"},"to":{"field":"region","value":"do"}},{"from":{"field":"region","value":"012"},"to":{"field":"region","value":"dz"}},{"from":{"field":"region","value":"218"},"to":{"field":"region","value":"ec"}},{"from":{"field":"region","value":"233"},"to":{"field":"region","value":"ee"}},{"from":{"field":"region","value":"818"},"to":{"field":"region","value":"eg"}},{"from":{"field":"region","value":"732"},"to":{"field":"region","value":"eh"}},{"from":{"field":"region","value":"232"},"to":{"field":"region","value":"er"}},{"from":{"field":"region","value":"724"},"to":{"field":"region","value":"es"}},{"from":{"field":"region","value":"231"},"to":{"field":"region","value":"et"}},{"from":{"field":"region","value":"246"},"to":{"field":"region","value":"fi"}},{"from":{"field":"region","value":"242"},"to":{"field":"region","value":"fj"}},{"from":{"field":"region","value":"238"},"to":{"field":"region","value":"fk"}},{"from":{"field":"region","value":"583"},"to":{"field":"region","value":"fm"}},{"from":{"field":"region","value":"234"},"to":{"field":"region","value":"fo"}},{"from":{"field":"region","value":"250"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"249"},"to":{"field":"region","value":"fr"}},{"from":{"field":"region","value":"266"},"to":{"field":"region","value":"ga"}},{"from":{"field":"region","value":"826"},"to":{"field":"region","value":"gb"}},{"from":{"field":"region","value":"308"},"to":{"field":"region","value":"gd"}},{"from":{"field":"region","value":"268"},"to":{"field":"region","value":"ge"}},{"from":{"field":"region","value":"254"},"to":{"field":"region","value":"gf"}},{"from":{"field":"region","value":"831"},"to":{"field":"region","value":"gg"}},{"from":{"field":"region","value":"288"},"to":{"field":"region","value":"gh"}},{"from":{"field":"region","value":"292"},"to":{"field":"region","value":"gi"}},{"from":{"field":"region","value":"304"},"to":{"field":"region","value":"gl"}},{"from":{"field":"region","value":"270"},"to":{"field":"region","value":"gm"}},{"from":{"field":"region","value":"324"},"to":{"field":"region","value":"gn"}},{"from":{"field":"region","value":"312"},"to":{"field":"region","value":"gp"}},{"from":{"field":"region","value":"226"},"to":{"field":"region","value":"gq"}},{"from":{"field":"region","value":"300"},"to":{"field":"region","value":"gr"}},{"from":{"field":"region","value":"239"},"to":{"field":"region","value":"gs"}},{"from":{"field":"region","value":"320"},"to":{"field":"region","value":"gt"}},{"from":{"field":"region","value":"316"},"to":{"field":"region","value":"gu"}},{"from":{"field":"region","value":"624"},"to":{"field":"region","value":"gw"}},{"from":{"field":"region","value":"328"},"to":{"field":"region","value":"gy"}},{"from":{"field":"region","value":"344"},"to":{"field":"region","value":"hk"}},{"from":{"field":"region","value":"334"},"to":{"field":"region","value":"hm"}},{"from":{"field":"region","value":"340"},"to":{"field":"region","value":"hn"}},{"from":{"field":"region","value":"191"},"to":{"field":"region","value":"hr"}},{"from":{"field":"region","value":"332"},"to":{"field":"region","value":"ht"}},{"from":{"field":"region","value":"348"},"to":{"field":"region","value":"hu"}},{"from":{"field":"region","value":"360"},"to":{"field":"region","value":"id"}},{"from":{"field":"region","value":"372"},"to":{"field":"region","value":"ie"}},{"from":{"field":"region","value":"376"},"to":{"field":"region","value":"il"}},{"from":{"field":"region","value":"833"},"to":{"field":"region","value":"im"}},{"from":{"field":"region","value":"356"},"to":{"field":"region","value":"in"}},{"from":{"field":"region","value":"086"},"to":{"field":"region","value":"io"}},{"from":{"field":"region","value":"368"},"to":{"field":"region","value":"iq"}},{"from":{"field":"region","value":"364"},"to":{"field":"region","value":"ir"}},{"from":{"field":"region","value":"352"},"to":{"field":"region","value":"is"}},{"from":{"field":"region","value":"380"},"to":{"field":"region","value":"it"}},{"from":{"field":"region","value":"832"},"to":{"field":"region","value":"je"}},{"from":{"field":"region","value":"388"},"to":{"field":"region","value":"jm"}},{"from":{"field":"region","value":"400"},"to":{"field":"region","value":"jo"}},{"from":{"field":"region","value":"392"},"to":{"field":"region","value":"jp"}},{"from":{"field":"region","value":"404"},"to":{"field":"region","value":"ke"}},{"from":{"field":"region","value":"417"},"to":{"field":"region","value":"kg"}},{"from":{"field":"region","value":"116"},"to":{"field":"region","value":"kh"}},{"from":{"field":"region","value":"296"},"to":{"field":"region","value":"ki"}},{"from":{"field":"region","value":"174"},"to":{"field":"region","value":"km"}},{"from":{"field":"region","value":"659"},"to":{"field":"region","value":"kn"}},{"from":{"field":"region","value":"408"},"to":{"field":"region","value":"kp"}},{"from":{"field":"region","value":"410"},"to":{"field":"region","value":"kr"}},{"from":{"field":"region","value":"414"},"to":{"field":"region","value":"kw"}},{"from":{"field":"region","value":"136"},"to":{"field":"region","value":"ky"}},{"from":{"field":"region","value":"398"},"to":{"field":"region","value":"kz"}},{"from":{"field":"region","value":"418"},"to":{"field":"region","value":"la"}},{"from":{"field":"region","value":"422"},"to":{"field":"region","value":"lb"}},{"from":{"field":"region","value":"662"},"to":{"field":"region","value":"lc"}},{"from":{"field":"region","value":"438"},"to":{"field":"region","value":"li"}},{"from":{"field":"region","value":"144"},"to":{"field":"region","value":"lk"}},{"from":{"field":"region","value":"430"},"to":{"field":"region","value":"lr"}},{"from":{"field":"region","value":"426"},"to":{"field":"region","value":"ls"}},{"from":{"field":"region","value":"440"},"to":{"field":"region","value":"lt"}},{"from":{"field":"region","value":"442"},"to":{"field":"region","value":"lu"}},{"from":{"field":"region","value":"428"},"to":{"field":"region","value":"lv"}},{"from":{"field":"region","value":"434"},"to":{"field":"region","value":"ly"}},{"from":{"field":"region","value":"504"},"to":{"field":"region","value":"ma"}},{"from":{"field":"region","value":"492"},"to":{"field":"region","value":"mc"}},{"from":{"field":"region","value":"498"},"to":{"field":"region","value":"md"}},{"from":{"field":"region","value":"499"},"to":{"field":"region","value":"me"}},{"from":{"field":"region","value":"663"},"to":{"field":"region","value":"mf"}},{"from":{"field":"region","value":"450"},"to":{"field":"region","value":"mg"}},{"from":{"field":"region","value":"584"},"to":{"field":"region","value":"mh"}},{"from":{"field":"region","value":"807"},"to":{"field":"region","value":"mk"}},{"from":{"field":"region","value":"466"},"to":{"field":"region","value":"ml"}},{"from":{"field":"region","value":"496"},"to":{"field":"region","value":"mn"}},{"from":{"field":"region","value":"446"},"to":{"field":"region","value":"mo"}},{"from":{"field":"region","value":"580"},"to":{"field":"region","value":"mp"}},{"from":{"field":"region","value":"474"},"to":{"field":"region","value":"mq"}},{"from":{"field":"region","value":"478"},"to":{"field":"region","value":"mr"}},{"from":{"field":"region","value":"500"},"to":{"field":"region","value":"ms"}},{"from":{"field":"region","value":"470"},"to":{"field":"region","value":"mt"}},{"from":{"field":"region","value":"480"},"to":{"field":"region","value":"mu"}},{"from":{"field":"region","value":"462"},"to":{"field":"region","value":"mv"}},{"from":{"field":"region","value":"454"},"to":{"field":"region","value":"mw"}},{"from":{"field":"region","value":"484"},"to":{"field":"region","value":"mx"}},{"from":{"field":"region","value":"458"},"to":{"field":"region","value":"my"}},{"from":{"field":"region","value":"508"},"to":{"field":"region","value":"mz"}},{"from":{"field":"region","value":"516"},"to":{"field":"region","value":"na"}},{"from":{"field":"region","value":"540"},"to":{"field":"region","value":"nc"}},{"from":{"field":"region","value":"562"},"to":{"field":"region","value":"ne"}},{"from":{"field":"region","value":"574"},"to":{"field":"region","value":"nf"}},{"from":{"field":"region","value":"566"},"to":{"field":"region","value":"ng"}},{"from":{"field":"region","value":"558"},"to":{"field":"region","value":"ni"}},{"from":{"field":"region","value":"528"},"to":{"field":"region","value":"nl"}},{"from":{"field":"region","value":"578"},"to":{"field":"region","value":"no"}},{"from":{"field":"region","value":"524"},"to":{"field":"region","value":"np"}},{"from":{"field":"region","value":"520"},"to":{"field":"region","value":"nr"}},{"from":{"field":"region","value":"570"},"to":{"field":"region","value":"nu"}},{"from":{"field":"region","value":"554"},"to":{"field":"region","value":"nz"}},{"from":{"field":"region","value":"512"},"to":{"field":"region","value":"om"}},{"from":{"field":"region","value":"591"},"to":{"field":"region","value":"pa"}},{"from":{"field":"region","value":"604"},"to":{"field":"region","value":"pe"}},{"from":{"field":"region","value":"258"},"to":{"field":"region","value":"pf"}},{"from":{"field":"region","value":"598"},"to":{"field":"region","value":"pg"}},{"from":{"field":"region","value":"608"},"to":{"field":"region","value":"ph"}},{"from":{"field":"region","value":"586"},"to":{"field":"region","value":"pk"}},{"from":{"field":"region","value":"616"},"to":{"field":"region","value":"pl"}},{"from":{"field":"region","value":"666"},"to":{"field":"region","value":"pm"}},{"from":{"field":"region","value":"612"},"to":{"field":"region","value":"pn"}},{"from":{"field":"region","value":"630"},"to":{"field":"region","value":"pr"}},{"from":{"field":"region","value":"275"},"to":{"field":"region","value":"ps"}},{"from":{"field":"region","value":"620"},"to":{"field":"region","value":"pt"}},{"from":{"field":"region","value":"585"},"to":{"field":"region","value":"pw"}},{"from":{"field":"region","value":"600"},"to":{"field":"region","value":"py"}},{"from":{"field":"region","value":"634"},"to":{"field":"region","value":"qa"}},{"from":{"field":"region","value":"959"},"to":{"field":"region","value":"qm"}},{"from":{"field":"region","value":"960"},"to":{"field":"region","value":"qn"}},{"from":{"field":"region","value":"962"},"to":{"field":"region","value":"qp"}},{"from":{"field":"region","value":"963"},"to":{"field":"region","value":"qq"}},{"from":{"field":"region","value":"964"},"to":{"field":"region","value":"qr"}},{"from":{"field":"region","value":"965"},"to":{"field":"region","value":"qs"}},{"from":{"field":"region","value":"966"},"to":{"field":"region","value":"qt"}},{"from":{"field":"region","value":"967"},"to":{"field":"region","value":"eu"}},{"from":{"field":"region","value":"968"},"to":{"field":"region","value":"qv"}},{"from":{"field":"region","value":"969"},"to":{"field":"region","value":"qw"}},{"from":{"field":"region","value":"970"},"to":{"field":"region","value":"qx"}},{"from":{"field":"region","value":"971"},"to":{"field":"region","value":"qy"}},{"from":{"field":"region","value":"972"},"to":{"field":"region","value":"qz"}},{"from":{"field":"region","value":"638"},"to":{"field":"region","value":"re"}},{"from":{"field":"region","value":"642"},"to":{"field":"region","value":"ro"}},{"from":{"field":"region","value":"688"},"to":{"field":"region","value":"rs"}},{"from":{"field":"region","value":"643"},"to":{"field":"region","value":"ru"}},{"from":{"field":"region","value":"646"},"to":{"field":"region","value":"rw"}},{"from":{"field":"region","value":"682"},"to":{"field":"region","value":"sa"}},{"from":{"field":"region","value":"090"},"to":{"field":"region","value":"sb"}},{"from":{"field":"region","value":"690"},"to":{"field":"region","value":"sc"}},{"from":{"field":"region","value":"729"},"to":{"field":"region","value":"sd"}},{"from":{"field":"region","value":"752"},"to":{"field":"region","value":"se"}},{"from":{"field":"region","value":"702"},"to":{"field":"region","value":"sg"}},{"from":{"field":"region","value":"654"},"to":{"field":"region","value":"sh"}},{"from":{"field":"region","value":"705"},"to":{"field":"region","value":"si"}},{"from":{"field":"region","value":"744"},"to":{"field":"region","value":"sj"}},{"from":{"field":"region","value":"703"},"to":{"field":"region","value":"sk"}},{"from":{"field":"region","value":"694"},"to":{"field":"region","value":"sl"}},{"from":{"field":"region","value":"674"},"to":{"field":"region","value":"sm"}},{"from":{"field":"region","value":"686"},"to":{"field":"region","value":"sn"}},{"from":{"field":"region","value":"706"},"to":{"field":"region","value":"so"}},{"from":{"field":"region","value":"740"},"to":{"field":"region","value":"sr"}},{"from":{"field":"region","value":"728"},"to":{"field":"region","value":"ss"}},{"from":{"field":"region","value":"678"},"to":{"field":"region","value":"st"}},{"from":{"field":"region","value":"222"},"to":{"field":"region","value":"sv"}},{"from":{"field":"region","value":"534"},"to":{"field":"region","value":"sx"}},{"from":{"field":"region","value":"760"},"to":{"field":"region","value":"sy"}},{"from":{"field":"region","value":"748"},"to":{"field":"region","value":"sz"}},{"from":{"field":"region","value":"796"},"to":{"field":"region","value":"tc"}},{"from":{"field":"region","value":"148"},"to":{"field":"region","value":"td"}},{"from":{"field":"region","value":"260"},"to":{"field":"region","value":"tf"}},{"from":{"field":"region","value":"768"},"to":{"field":"region","value":"tg"}},{"from":{"field":"region","value":"764"},"to":{"field":"region","value":"th"}},{"from":{"field":"region","value":"762"},"to":{"field":"region","value":"tj"}},{"from":{"field":"region","value":"772"},"to":{"field":"region","value":"tk"}},{"from":{"field":"region","value":"626"},"to":{"field":"region","value":"tl"}},{"from":{"field":"region","value":"795"},"to":{"field":"region","value":"tm"}},{"from":{"field":"region","value":"788"},"to":{"field":"region","value":"tn"}},{"from":{"field":"region","value":"776"},"to":{"field":"region","value":"to"}},{"from":{"field":"region","value":"792"},"to":{"field":"region","value":"tr"}},{"from":{"field":"region","value":"780"},"to":{"field":"region","value":"tt"}},{"from":{"field":"region","value":"798"},"to":{"field":"region","value":"tv"}},{"from":{"field":"region","value":"158"},"to":{"field":"region","value":"tw"}},{"from":{"field":"region","value":"834"},"to":{"field":"region","value":"tz"}},{"from":{"field":"region","value":"804"},"to":{"field":"region","value":"ua"}},{"from":{"field":"region","value":"800"},"to":{"field":"region","value":"ug"}},{"from":{"field":"region","value":"581"},"to":{"field":"region","value":"um"}},{"from":{"field":"region","value":"840"},"to":{"field":"region","value":"us"}},{"from":{"field":"region","value":"858"},"to":{"field":"region","value":"uy"}},{"from":{"field":"region","value":"860"},"to":{"field":"region","value":"uz"}},{"from":{"field":"region","value":"336"},"to":{"field":"region","value":"va"}},{"from":{"field":"region","value":"670"},"to":{"field":"region","value":"vc"}},{"from":{"field":"region","value":"862"},"to":{"field":"region","value":"ve"}},{"from":{"field":"region","value":"092"},"to":{"field":"region","value":"vg"}},{"from":{"field":"region","value":"850"},"to":{"field":"region","value":"vi"}},{"from":{"field":"region","value":"704"},"to":{"field":"region","value":"vn"}},{"from":{"field":"region","value":"548"},"to":{"field":"region","value":"vu"}},{"from":{"field":"region","value":"876"},"to":{"field":"region","value":"wf"}},{"from":{"field":"region","value":"882"},"to":{"field":"region","value":"ws"}},{"from":{"field":"region","value":"973"},"to":{"field":"region","value":"xa"}},{"from":{"field":"region","value":"974"},"to":{"field":"region","value":"xb"}},{"from":{"field":"region","value":"975"},"to":{"field":"region","value":"xc"}},{"from":{"field":"region","value":"976"},"to":{"field":"region","value":"xd"}},{"from":{"field":"region","value":"977"},"to":{"field":"region","value":"xe"}},{"from":{"field":"region","value":"978"},"to":{"field":"region","value":"xf"}},{"from":{"field":"region","value":"979"},"to":{"field":"region","value":"xg"}},{"from":{"field":"region","value":"980"},"to":{"field":"region","value":"xh"}},{"from":{"field":"region","value":"981"},"to":{"field":"region","value":"xi"}},{"from":{"field":"region","value":"982"},"to":{"field":"region","value":"xj"}},{"from":{"field":"region","value":"983"},"to":{"field":"region","value":"xk"}},{"from":{"field":"region","value":"984"},"to":{"field":"region","value":"xl"}},{"from":{"field":"region","value":"985"},"to":{"field":"region","value":"xm"}},{"from":{"field":"region","value":"986"},"to":{"field":"region","value":"xn"}},{"from":{"field":"region","value":"987"},"to":{"field":"region","value":"xo"}},{"from":{"field":"region","value":"988"},"to":{"field":"region","value":"xp"}},{"from":{"field":"region","value":"989"},"to":{"field":"region","value":"xq"}},{"from":{"field":"region","value":"990"},"to":{"field":"region","value":"xr"}},{"from":{"field":"region","value":"991"},"to":{"field":"region","value":"xs"}},{"from":{"field":"region","value":"992"},"to":{"field":"region","value":"xt"}},{"from":{"field":"region","value":"993"},"to":{"field":"region","value":"xu"}},{"from":{"field":"region","value":"994"},"to":{"field":"region","value":"xv"}},{"from":{"field":"region","value":"995"},"to":{"field":"region","value":"xw"}},{"from":{"field":"region","value":"996"},"to":{"field":"region","value":"xx"}},{"from":{"field":"region","value":"997"},"to":{"field":"region","value":"xy"}},{"from":{"field":"region","value":"998"},"to":{"field":"region","value":"xz"}},{"from":{"field":"region","value":"720"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"887"},"to":{"field":"region","value":"ye"}},{"from":{"field":"region","value":"175"},"to":{"field":"region","value":"yt"}},{"from":{"field":"region","value":"710"},"to":{"field":"region","value":"za"}},{"from":{"field":"region","value":"894"},"to":{"field":"region","value":"zm"}},{"from":{"field":"region","value":"716"},"to":{"field":"region","value":"zw"}},{"from":{"field":"region","value":"999"},"to":{"field":"region","value":"zz"}},{"from":{"field":"variants","value":"aaland"},"to":{"field":"region","value":"ax"}},{"from":{"field":"variants","value":"polytoni"},"to":{"field":"variants","value":"polyton"}},{"from":{"field":"variants","value":"heploc"},"to":{"field":"variants","value":"alalc97"}},{"from":{"field":"variants","value":"arevela"},"to":{"field":"language","value":"hy"}},{"from":{"field":"variants","value":"arevmda"},"to":{"field":"language","value":"hyw"}}]')},9460:We=>{We.exports=JSON.parse('{"region":{"172":["ru","am","az","by","ge","kg","kz","md","tj","tm","ua","uz"],"200":["cz","sk"],"530":["cw","sx","bq"],"532":["cw","sx","bq"],"536":["sa","iq"],"582":["fm","mh","mp","pw"],"810":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"830":["je","gg"],"890":["rs","me","si","hr","mk","ba"],"891":["rs","me"],"an":["cw","sx","bq"],"cs":["rs","me"],"fq":["aq","tf"],"nt":["sa","iq"],"pc":["fm","mh","mp","pw"],"su":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yu":["rs","me"],"062":["034","143"],"ant":["cw","sx","bq"],"scg":["rs","me"],"ntz":["sa","iq"],"sun":["ru","am","az","by","ee","ge","kz","kg","lv","lt","md","tj","tm","ua","uz"],"yug":["rs","me"]}}')},7778:We=>{We.exports=JSON.parse('[{"from":"in","to":"id"},{"from":"iw","to":"he"},{"from":"ji","to":"yi"},{"from":"jw","to":"jv"},{"from":"mo","to":"ro"},{"from":"scc","to":"sr"},{"from":"scr","to":"hr"},{"from":"aam","to":"aas"},{"from":"adp","to":"dz"},{"from":"aue","to":"ktz"},{"from":"ayx","to":"nun"},{"from":"bgm","to":"bcg"},{"from":"bjd","to":"drl"},{"from":"ccq","to":"rki"},{"from":"cjr","to":"mom"},{"from":"cka","to":"cmr"},{"from":"cmk","to":"xch"},{"from":"coy","to":"pij"},{"from":"cqu","to":"quh"},{"from":"drh","to":"mn"},{"from":"drw","to":"fa-af"},{"from":"gav","to":"dev"},{"from":"gfx","to":"vaj"},{"from":"ggn","to":"gvr"},{"from":"gti","to":"nyc"},{"from":"guv","to":"duz"},{"from":"hrr","to":"jal"},{"from":"ibi","to":"opa"},{"from":"ilw","to":"gal"},{"from":"jeg","to":"oyb"},{"from":"kgc","to":"tdf"},{"from":"kgh","to":"kml"},{"from":"koj","to":"kwv"},{"from":"krm","to":"bmf"},{"from":"ktr","to":"dtp"},{"from":"kvs","to":"gdj"},{"from":"kwq","to":"yam"},{"from":"kxe","to":"tvd"},{"from":"kzj","to":"dtp"},{"from":"kzt","to":"dtp"},{"from":"lii","to":"raq"},{"from":"lmm","to":"rmx"},{"from":"meg","to":"cir"},{"from":"mst","to":"mry"},{"from":"mwj","to":"vaj"},{"from":"myt","to":"mry"},{"from":"nad","to":"xny"},{"from":"ncp","to":"kdz"},{"from":"nnx","to":"ngv"},{"from":"nts","to":"pij"},{"from":"oun","to":"vaj"},{"from":"pcr","to":"adx"},{"from":"pmc","to":"huw"},{"from":"pmu","to":"phr"},{"from":"ppa","to":"bfy"},{"from":"ppr","to":"lcq"},{"from":"pry","to":"prt"},{"from":"puz","to":"pub"},{"from":"sca","to":"hle"},{"from":"skk","to":"oyb"},{"from":"tdu","to":"dtp"},{"from":"thc","to":"tpo"},{"from":"thx","to":"oyb"},{"from":"tie","to":"ras"},{"from":"tkk","to":"twm"},{"from":"tlw","to":"weo"},{"from":"tmp","to":"tyj"},{"from":"tne","to":"kak"},{"from":"tnf","to":"fa-af"},{"from":"tsf","to":"taj"},{"from":"uok","to":"ema"},{"from":"xba","to":"cax"},{"from":"xia","to":"acn"},{"from":"xkh","to":"waw"},{"from":"xsj","to":"suj"},{"from":"ybd","to":"rki"},{"from":"yma","to":"lrr"},{"from":"ymt","to":"mtm"},{"from":"yos","to":"zom"},{"from":"yuu","to":"yug"},{"from":"asd","to":"snz"},{"from":"dit","to":"dif"},{"from":"llo","to":"ngt"},{"from":"myd","to":"aog"},{"from":"nns","to":"nbr"},{"from":"sgn-br","to":"bzs"},{"from":"sgn-co","to":"csn"},{"from":"sgn-de","to":"gsg"},{"from":"sgn-dk","to":"dsl"},{"from":"sgn-fr","to":"fsl"},{"from":"sgn-gb","to":"bfi"},{"from":"sgn-gr","to":"gss"},{"from":"sgn-ie","to":"isg"},{"from":"sgn-it","to":"ise"},{"from":"sgn-jp","to":"jsl"},{"from":"sgn-mx","to":"mfs"},{"from":"sgn-ni","to":"ncs"},{"from":"sgn-nl","to":"dse"},{"from":"sgn-no","to":"nsi"},{"from":"sgn-pt","to":"psr"},{"from":"sgn-se","to":"swl"},{"from":"sgn-us","to":"ase"},{"from":"sgn-za","to":"sfs"},{"from":"no-bokmal","to":"nb"},{"from":"no-nynorsk","to":"nn"},{"from":"aa-saaho","to":"ssy"},{"from":"sh","to":"sr-latn"},{"from":"cnr","to":"sr-me"},{"from":"no","to":"nb"},{"from":"tl","to":"fil"},{"from":"az-az","to":"az-latn-az"},{"from":"bs-ba","to":"bs-latn-ba"},{"from":"ha-latn-gh","to":"ha-gh"},{"from":"ha-latn-ne","to":"ha-ne"},{"from":"ha-latn-ng","to":"ha-ng"},{"from":"kk-cyrl-kz","to":"kk-kz"},{"from":"ky-cyrl-kg","to":"ky-kg"},{"from":"ks-arab-in","to":"ks-in"},{"from":"mn-cyrl-mn","to":"mn-mn"},{"from":"ms-latn-bn","to":"ms-bn"},{"from":"ms-latn-my","to":"ms-my"},{"from":"ms-latn-sg","to":"ms-sg"},{"from":"pa-in","to":"pa-guru-in"},{"from":"pa-pk","to":"pa-arab-pk"},{"from":"shi-ma","to":"shi-tfng-ma"},{"from":"sr-ba","to":"sr-cyrl-ba"},{"from":"sr-me","to":"sr-latn-me"},{"from":"sr-rs","to":"sr-cyrl-rs"},{"from":"sr-xk","to":"sr-cyrl-xk"},{"from":"tzm-latn-ma","to":"tzm-ma"},{"from":"ug-arab-cn","to":"ug-cn"},{"from":"uz-af","to":"uz-arab-af"},{"from":"uz-uz","to":"uz-latn-uz"},{"from":"vai-lr","to":"vai-vaii-lr"},{"from":"yue-cn","to":"yue-hans-cn"},{"from":"yue-hk","to":"yue-hant-hk"},{"from":"zh-cn","to":"zh-hans-cn"},{"from":"zh-hk","to":"zh-hant-hk"},{"from":"zh-mo","to":"zh-hant-mo"},{"from":"zh-sg","to":"zh-hans-sg"},{"from":"zh-tw","to":"zh-hant-tw"},{"from":"aju","to":"jrb"},{"from":"als","to":"sq"},{"from":"arb","to":"ar"},{"from":"ayr","to":"ay"},{"from":"azj","to":"az"},{"from":"bcc","to":"bal"},{"from":"bcl","to":"bik"},{"from":"bxk","to":"luy"},{"from":"bxr","to":"bua"},{"from":"cld","to":"syr"},{"from":"cmn","to":"zh"},{"from":"cwd","to":"cr"},{"from":"dgo","to":"doi"},{"from":"dhd","to":"mwr"},{"from":"dik","to":"din"},{"from":"diq","to":"zza"},{"from":"lbk","to":"bnc"},{"from":"ekk","to":"et"},{"from":"emk","to":"man"},{"from":"esk","to":"ik"},{"from":"fat","to":"ak"},{"from":"fuc","to":"ff"},{"from":"gaz","to":"om"},{"from":"gbo","to":"grb"},{"from":"gno","to":"gon"},{"from":"gug","to":"gn"},{"from":"gya","to":"gba"},{"from":"hdn","to":"hai"},{"from":"hea","to":"hmn"},{"from":"ike","to":"iu"},{"from":"kmr","to":"ku"},{"from":"knc","to":"kr"},{"from":"kng","to":"kg"},{"from":"knn","to":"kok"},{"from":"kpv","to":"kv"},{"from":"lvs","to":"lv"},{"from":"mhr","to":"chm"},{"from":"mup","to":"raj"},{"from":"khk","to":"mn"},{"from":"npi","to":"ne"},{"from":"ojg","to":"oj"},{"from":"ory","to":"or"},{"from":"pbu","to":"ps"},{"from":"pes","to":"fa"},{"from":"plt","to":"mg"},{"from":"pnb","to":"lah"},{"from":"quz","to":"qu"},{"from":"rmy","to":"rom"},{"from":"spy","to":"kln"},{"from":"src","to":"sc"},{"from":"swh","to":"sw"},{"from":"ttq","to":"tmh"},{"from":"tw","to":"ak"},{"from":"umu","to":"del"},{"from":"uzn","to":"uz"},{"from":"xpe","to":"kpe"},{"from":"xsl","to":"den"},{"from":"ydd","to":"yi"},{"from":"zai","to":"zap"},{"from":"zsm","to":"ms"},{"from":"zyb","to":"za"},{"from":"him","to":"srx"},{"from":"mnk","to":"man"},{"from":"bh","to":"bho"},{"from":"prs","to":"fa-af"},{"from":"swc","to":"sw-cd"},{"from":"aar","to":"aa"},{"from":"abk","to":"ab"},{"from":"ave","to":"ae"},{"from":"afr","to":"af"},{"from":"aka","to":"ak"},{"from":"amh","to":"am"},{"from":"arg","to":"an"},{"from":"ara","to":"ar"},{"from":"asm","to":"as"},{"from":"ava","to":"av"},{"from":"aym","to":"ay"},{"from":"aze","to":"az"},{"from":"bak","to":"ba"},{"from":"bel","to":"be"},{"from":"bul","to":"bg"},{"from":"bih","to":"bho"},{"from":"bis","to":"bi"},{"from":"bam","to":"bm"},{"from":"ben","to":"bn"},{"from":"bod","to":"bo"},{"from":"bre","to":"br"},{"from":"bos","to":"bs"},{"from":"cat","to":"ca"},{"from":"che","to":"ce"},{"from":"cha","to":"ch"},{"from":"cos","to":"co"},{"from":"cre","to":"cr"},{"from":"ces","to":"cs"},{"from":"chu","to":"cu"},{"from":"chv","to":"cv"},{"from":"cym","to":"cy"},{"from":"dan","to":"da"},{"from":"deu","to":"de"},{"from":"div","to":"dv"},{"from":"dzo","to":"dz"},{"from":"ewe","to":"ee"},{"from":"ell","to":"el"},{"from":"eng","to":"en"},{"from":"epo","to":"eo"},{"from":"spa","to":"es"},{"from":"est","to":"et"},{"from":"eus","to":"eu"},{"from":"fas","to":"fa"},{"from":"ful","to":"ff"},{"from":"fin","to":"fi"},{"from":"fij","to":"fj"},{"from":"fao","to":"fo"},{"from":"fra","to":"fr"},{"from":"fry","to":"fy"},{"from":"gle","to":"ga"},{"from":"gla","to":"gd"},{"from":"glg","to":"gl"},{"from":"grn","to":"gn"},{"from":"guj","to":"gu"},{"from":"glv","to":"gv"},{"from":"hau","to":"ha"},{"from":"heb","to":"he"},{"from":"hin","to":"hi"},{"from":"hmo","to":"ho"},{"from":"hrv","to":"hr"},{"from":"hat","to":"ht"},{"from":"hun","to":"hu"},{"from":"hye","to":"hy"},{"from":"her","to":"hz"},{"from":"ina","to":"ia"},{"from":"ind","to":"id"},{"from":"ile","to":"ie"},{"from":"ibo","to":"ig"},{"from":"iii","to":"ii"},{"from":"ipk","to":"ik"},{"from":"ido","to":"io"},{"from":"isl","to":"is"},{"from":"ita","to":"it"},{"from":"iku","to":"iu"},{"from":"jpn","to":"ja"},{"from":"jav","to":"jv"},{"from":"kat","to":"ka"},{"from":"kon","to":"kg"},{"from":"kik","to":"ki"},{"from":"kua","to":"kj"},{"from":"kaz","to":"kk"},{"from":"kal","to":"kl"},{"from":"khm","to":"km"},{"from":"kan","to":"kn"},{"from":"kor","to":"ko"},{"from":"kau","to":"kr"},{"from":"kas","to":"ks"},{"from":"kur","to":"ku"},{"from":"kom","to":"kv"},{"from":"cor","to":"kw"},{"from":"kir","to":"ky"},{"from":"lat","to":"la"},{"from":"ltz","to":"lb"},{"from":"lug","to":"lg"},{"from":"lim","to":"li"},{"from":"lin","to":"ln"},{"from":"lao","to":"lo"},{"from":"lit","to":"lt"},{"from":"lub","to":"lu"},{"from":"lav","to":"lv"},{"from":"mlg","to":"mg"},{"from":"mah","to":"mh"},{"from":"mri","to":"mi"},{"from":"mkd","to":"mk"},{"from":"mal","to":"ml"},{"from":"mon","to":"mn"},{"from":"mol","to":"ro"},{"from":"mar","to":"mr"},{"from":"msa","to":"ms"},{"from":"mlt","to":"mt"},{"from":"mya","to":"my"},{"from":"nau","to":"na"},{"from":"nob","to":"nb"},{"from":"nde","to":"nd"},{"from":"nep","to":"ne"},{"from":"ndo","to":"ng"},{"from":"nld","to":"nl"},{"from":"nno","to":"nn"},{"from":"nor","to":"nb"},{"from":"nbl","to":"nr"},{"from":"nav","to":"nv"},{"from":"nya","to":"ny"},{"from":"oci","to":"oc"},{"from":"oji","to":"oj"},{"from":"orm","to":"om"},{"from":"ori","to":"or"},{"from":"oss","to":"os"},{"from":"pan","to":"pa"},{"from":"pli","to":"pi"},{"from":"pol","to":"pl"},{"from":"pus","to":"ps"},{"from":"por","to":"pt"},{"from":"que","to":"qu"},{"from":"roh","to":"rm"},{"from":"run","to":"rn"},{"from":"ron","to":"ro"},{"from":"rus","to":"ru"},{"from":"kin","to":"rw"},{"from":"san","to":"sa"},{"from":"srd","to":"sc"},{"from":"snd","to":"sd"},{"from":"sme","to":"se"},{"from":"sag","to":"sg"},{"from":"hbs","to":"sr-latn"},{"from":"sin","to":"si"},{"from":"slk","to":"sk"},{"from":"slv","to":"sl"},{"from":"smo","to":"sm"},{"from":"sna","to":"sn"},{"from":"som","to":"so"},{"from":"sqi","to":"sq"},{"from":"srp","to":"sr"},{"from":"ssw","to":"ss"},{"from":"sot","to":"st"},{"from":"sun","to":"su"},{"from":"swe","to":"sv"},{"from":"swa","to":"sw"},{"from":"tam","to":"ta"},{"from":"tel","to":"te"},{"from":"tgk","to":"tg"},{"from":"tha","to":"th"},{"from":"tir","to":"ti"},{"from":"tuk","to":"tk"},{"from":"tgl","to":"fil"},{"from":"tsn","to":"tn"},{"from":"ton","to":"to"},{"from":"tur","to":"tr"},{"from":"tso","to":"ts"},{"from":"tat","to":"tt"},{"from":"twi","to":"ak"},{"from":"tah","to":"ty"},{"from":"uig","to":"ug"},{"from":"ukr","to":"uk"},{"from":"urd","to":"ur"},{"from":"uzb","to":"uz"},{"from":"ven","to":"ve"},{"from":"vie","to":"vi"},{"from":"vol","to":"vo"},{"from":"wln","to":"wa"},{"from":"wol","to":"wo"},{"from":"xho","to":"xh"},{"from":"yid","to":"yi"},{"from":"yor","to":"yo"},{"from":"zha","to":"za"},{"from":"zho","to":"zh"},{"from":"zul","to":"zu"},{"from":"alb","to":"sq"},{"from":"arm","to":"hy"},{"from":"baq","to":"eu"},{"from":"bur","to":"my"},{"from":"chi","to":"zh"},{"from":"cze","to":"cs"},{"from":"dut","to":"nl"},{"from":"fre","to":"fr"},{"from":"geo","to":"ka"},{"from":"ger","to":"de"},{"from":"gre","to":"el"},{"from":"ice","to":"is"},{"from":"mac","to":"mk"},{"from":"mao","to":"mi"},{"from":"may","to":"ms"},{"from":"per","to":"fa"},{"from":"rum","to":"ro"},{"from":"slo","to":"sk"},{"from":"tib","to":"bo"},{"from":"wel","to":"cy"}]')},8589:We=>{We.exports=JSON.parse('{"en-gb-oed":"en-GB-oxendict","i-ami":"ami","i-bnn":"bnn","i-default":null,"i-enochian":null,"i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":null,"i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu","sgn-be-fr":"sfb","sgn-be-nl":"vgt","sgn-ch-de":"sgg","art-lojban":"jbo","cel-gaulish":null,"no-bok":"nb","no-nyn":"nn","zh-guoyu":"cmn","zh-hakka":"hak","zh-min":null,"zh-min-nan":"nan","zh-xiang":"hsn"}')},858:We=>{We.exports=JSON.parse('["art-lojban","cel-gaulish","no-bok","no-nyn","zh-guoyu","zh-hakka","zh-min","zh-min-nan","zh-xiang"]')}},sr={};function xn(We){var Se=sr[We];if(Se!==void 0)return Se.exports;var L=sr[We]={exports:{}};return Tr[We].call(L.exports,L,L.exports,xn),L.exports}xn.amdO={},xn.n=We=>{var Se=We&&We.__esModule?()=>We.default:()=>We;return xn.d(Se,{a:Se}),Se},xn.d=(We,Se)=>{for(var L in Se)xn.o(Se,L)&&!xn.o(We,L)&&Object.defineProperty(We,L,{enumerable:!0,get:Se[L]})},xn.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),xn.o=(We,Se)=>Object.prototype.hasOwnProperty.call(We,Se);var Sr={};return(()=>{xn.d(Sr,{default:()=>g}),xn(8416);var We,Se=xn(1715),L=xn(8080),se=xn(1737),S=xn(3227),t=function(){var u,h="application/dash+xml";function w(d,f,b){if(!d||!/^VIDEO$/i.test(d.nodeName))return null;if(d._dashjs_player)return d._dashjs_player;var y,M=d.id||d.name||"video element";if(!(f=f||[].slice.call(d.querySelectorAll("source")).filter(function(x){return x.type==h})[0])&&d.src)(f=document.createElement("source")).src=d.src;else if(!f&&!d.src)return null;return b=b||{},(y=(0,S.Z)(b).create()).initialize(d,f.src,d.autoplay),u||(u=y.getDebug().getLogger()),u.debug("Converted "+M+" to dash.js player and added content: "+f.src),d._dashjs_player=y,y}function e(d){return/^VIDEO$/i.test(d.nodeName)?d:e(d.parentNode)}return{create:w,createAll:function(d,f){var b=[];d=d||"[data-dashjs-player]";for(var y=(f=f||document).querySelectorAll(d),M=0;M<y.length;M++){var x=w(y[M],null);b.push(x)}for(var G=f.querySelectorAll('source[type="'+h+'"]'),P=0;P<G.length;P++){var z=w(e(G[P]),null);b.push(z)}return b}}}();!(typeof window<"u"&&window&&window.dashjs&&window.dashjs.skipAutoCreate)&&typeof window<"u"&&window&&window.addEventListener&&(window.document.readyState==="complete"?window.dashjs?t.createAll():We=window.setInterval(function(){window.dashjs&&(window.clearInterval(We),t.createAll())},500):window.addEventListener("load",function u(){window.removeEventListener("load",u),t.createAll()}));const r=t;var v=xn(6398);dashjs.Protection=se.default,dashjs.MetricsReporting=L.default,dashjs.MediaPlayerFactory=r,dashjs.Debug=v.Z,dashjs.supportsMediaSource=Se.B;const g=dashjs})(),Sr.default})())})(Js);const eu=Qs(Ei),nu=$s({__proto__:null,default:eu},[Ei]);export{nu as d};
